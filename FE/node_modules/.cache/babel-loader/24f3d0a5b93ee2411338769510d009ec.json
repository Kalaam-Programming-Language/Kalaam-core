{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/tree/QTree.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/tree/QTree.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pcy1hcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluayI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBRSWNvbiBmcm9tICcuLi9pY29uL1FJY29uLmpzJzsKaW1wb3J0IFFDaGVja2JveCBmcm9tICcuLi9jaGVja2JveC9RQ2hlY2tib3guanMnOwppbXBvcnQgUVNsaWRlVHJhbnNpdGlvbiBmcm9tICcuLi9zbGlkZS10cmFuc2l0aW9uL1FTbGlkZVRyYW5zaXRpb24uanMnOwppbXBvcnQgUVNwaW5uZXIgZnJvbSAnLi4vc3Bpbm5lci9RU3Bpbm5lci5qcyc7CmltcG9ydCBEYXJrTWl4aW4gZnJvbSAnLi4vLi4vbWl4aW5zL2RhcmsuanMnOwppbXBvcnQgeyBzdG9wQW5kUHJldmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50LmpzJzsKaW1wb3J0IHsgc2hvdWxkSWdub3JlS2V5IH0gZnJvbSAnLi4vLi4vdXRpbHMva2V5LWNvbXBvc2l0aW9uLmpzJzsKaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uL3V0aWxzL2NhY2hlLmpzJzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1FUcmVlJywKICBtaXhpbnM6IFtEYXJrTWl4aW5dLAogIHByb3BzOiB7CiAgICBub2RlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBub2RlS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBsYWJlbEtleTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICJkZWZhdWx0IjogJ2xhYmVsJwogICAgfSwKICAgIGNoaWxkcmVuS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgImRlZmF1bHQiOiAnY2hpbGRyZW4nCiAgICB9LAogICAgY29sb3I6IFN0cmluZywKICAgIGNvbnRyb2xDb2xvcjogU3RyaW5nLAogICAgdGV4dENvbG9yOiBTdHJpbmcsCiAgICBzZWxlY3RlZENvbG9yOiBTdHJpbmcsCiAgICBpY29uOiBTdHJpbmcsCiAgICB0aWNrU3RyYXRlZ3k6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICAiZGVmYXVsdCI6ICdub25lJywKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodikgewogICAgICAgIHJldHVybiBbJ25vbmUnLCAnc3RyaWN0JywgJ2xlYWYnLCAnbGVhZi1maWx0ZXJlZCddLmluY2x1ZGVzKHYpOwogICAgICB9CiAgICB9LAogICAgdGlja2VkOiBBcnJheSwKICAgIC8vIHN5bmMKICAgIGV4cGFuZGVkOiBBcnJheSwKICAgIC8vIHN5bmMKICAgIHNlbGVjdGVkOiB7fSwKICAgIC8vIHN5bmMKICAgIGRlZmF1bHRFeHBhbmRBbGw6IEJvb2xlYW4sCiAgICBhY2NvcmRpb246IEJvb2xlYW4sCiAgICBmaWx0ZXI6IFN0cmluZywKICAgIGZpbHRlck1ldGhvZDogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgImRlZmF1bHQiOiBmdW5jdGlvbiBfZGVmYXVsdChub2RlLCBmaWx0ZXIpIHsKICAgICAgICB2YXIgZmlsdCA9IGZpbHRlci50b0xvd2VyQ2FzZSgpOwogICAgICAgIHJldHVybiBub2RlW3RoaXMubGFiZWxLZXldICYmIG5vZGVbdGhpcy5sYWJlbEtleV0udG9Mb3dlckNhc2UoKS5pbmRleE9mKGZpbHQpID4gLTE7CiAgICAgIH0KICAgIH0sCiAgICBkdXJhdGlvbjogTnVtYmVyLAogICAgbm9Db25uZWN0b3JzOiBCb29sZWFuLAogICAgbm9Ob2Rlc0xhYmVsOiBTdHJpbmcsCiAgICBub1Jlc3VsdHNMYWJlbDogU3RyaW5nCiAgfSwKICBjb21wdXRlZDogewogICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHsKICAgICAgcmV0dXJuICJxLXRyZWUiICsgKHRoaXMubm9Db25uZWN0b3JzID09PSB0cnVlID8gIiBxLXRyZWUtLW5vLWNvbm5lY3RvcnMiIDogJycpICsgKHRoaXMuaXNEYXJrID09PSB0cnVlID8gIiBxLXRyZWUtLWRhcmsiIDogJycpICsgKHRoaXMuY29sb3IgIT09IHZvaWQgMCA/ICIgdGV4dC0iLmNvbmNhdCh0aGlzLmNvbG9yKSA6ICcnKTsKICAgIH0sCiAgICBoYXNTZWxlY3Rpb246IGZ1bmN0aW9uIGhhc1NlbGVjdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQgIT09IHZvaWQgMDsKICAgIH0sCiAgICBjb21wdXRlZEljb246IGZ1bmN0aW9uIGNvbXB1dGVkSWNvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuaWNvbiB8fCB0aGlzLiRxLmljb25TZXQudHJlZS5pY29uOwogICAgfSwKICAgIGNvbXB1dGVkQ29udHJvbENvbG9yOiBmdW5jdGlvbiBjb21wdXRlZENvbnRyb2xDb2xvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udHJvbENvbG9yIHx8IHRoaXMuY29sb3I7CiAgICB9LAogICAgdGV4dENvbG9yQ2xhc3M6IGZ1bmN0aW9uIHRleHRDb2xvckNsYXNzKCkgewogICAgICBpZiAodGhpcy50ZXh0Q29sb3IgIT09IHZvaWQgMCkgewogICAgICAgIHJldHVybiAidGV4dC0iLmNvbmNhdCh0aGlzLnRleHRDb2xvcik7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RlZENvbG9yQ2xhc3M6IGZ1bmN0aW9uIHNlbGVjdGVkQ29sb3JDbGFzcygpIHsKICAgICAgdmFyIGNvbG9yID0gdGhpcy5zZWxlY3RlZENvbG9yIHx8IHRoaXMuY29sb3I7CgogICAgICBpZiAoY29sb3IpIHsKICAgICAgICByZXR1cm4gInRleHQtIi5jb25jYXQoY29sb3IpOwogICAgICB9CiAgICB9LAogICAgbWV0YTogZnVuY3Rpb24gbWV0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBtZXRhID0ge307CgogICAgICB2YXIgdHJhdmVsID0gZnVuY3Rpb24gdHJhdmVsKG5vZGUsIHBhcmVudCkgewogICAgICAgIHZhciB0aWNrU3RyYXRlZ3kgPSBub2RlLnRpY2tTdHJhdGVneSB8fCAocGFyZW50ID8gcGFyZW50LnRpY2tTdHJhdGVneSA6IF90aGlzLnRpY2tTdHJhdGVneSk7CiAgICAgICAgdmFyIGtleSA9IG5vZGVbX3RoaXMubm9kZUtleV0sCiAgICAgICAgICAgIGlzUGFyZW50ID0gbm9kZVtfdGhpcy5jaGlsZHJlbktleV0gJiYgbm9kZVtfdGhpcy5jaGlsZHJlbktleV0ubGVuZ3RoID4gMCwKICAgICAgICAgICAgaXNMZWFmID0gaXNQYXJlbnQgIT09IHRydWUsCiAgICAgICAgICAgIHNlbGVjdGFibGUgPSBub2RlLmRpc2FibGVkICE9PSB0cnVlICYmIF90aGlzLmhhc1NlbGVjdGlvbiA9PT0gdHJ1ZSAmJiBub2RlLnNlbGVjdGFibGUgIT09IGZhbHNlLAogICAgICAgICAgICBleHBhbmRhYmxlID0gbm9kZS5kaXNhYmxlZCAhPT0gdHJ1ZSAmJiBub2RlLmV4cGFuZGFibGUgIT09IGZhbHNlLAogICAgICAgICAgICBoYXNUaWNraW5nID0gdGlja1N0cmF0ZWd5ICE9PSAnbm9uZScsCiAgICAgICAgICAgIHN0cmljdFRpY2tpbmcgPSB0aWNrU3RyYXRlZ3kgPT09ICdzdHJpY3QnLAogICAgICAgICAgICBsZWFmRmlsdGVyZWRUaWNraW5nID0gdGlja1N0cmF0ZWd5ID09PSAnbGVhZi1maWx0ZXJlZCcsCiAgICAgICAgICAgIGxlYWZUaWNraW5nID0gdGlja1N0cmF0ZWd5ID09PSAnbGVhZicgfHwgdGlja1N0cmF0ZWd5ID09PSAnbGVhZi1maWx0ZXJlZCc7CiAgICAgICAgdmFyIHRpY2thYmxlID0gbm9kZS5kaXNhYmxlZCAhPT0gdHJ1ZSAmJiBub2RlLnRpY2thYmxlICE9PSBmYWxzZTsKCiAgICAgICAgaWYgKGxlYWZUaWNraW5nID09PSB0cnVlICYmIHRpY2thYmxlID09PSB0cnVlICYmIHBhcmVudCAmJiBwYXJlbnQudGlja2FibGUgIT09IHRydWUpIHsKICAgICAgICAgIHRpY2thYmxlID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgbGF6eSA9IG5vZGUubGF6eTsKCiAgICAgICAgaWYgKGxhenkgJiYgX3RoaXMubGF6eVtrZXldKSB7CiAgICAgICAgICBsYXp5ID0gX3RoaXMubGF6eVtrZXldOwogICAgICAgIH0KCiAgICAgICAgdmFyIG0gPSB7CiAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgIHBhcmVudDogcGFyZW50LAogICAgICAgICAgaXNQYXJlbnQ6IGlzUGFyZW50LAogICAgICAgICAgaXNMZWFmOiBpc0xlYWYsCiAgICAgICAgICBsYXp5OiBsYXp5LAogICAgICAgICAgZGlzYWJsZWQ6IG5vZGUuZGlzYWJsZWQsCiAgICAgICAgICBsaW5rOiBub2RlLmRpc2FibGVkICE9PSB0cnVlICYmIChzZWxlY3RhYmxlID09PSB0cnVlIHx8IGV4cGFuZGFibGUgPT09IHRydWUgJiYgKGlzUGFyZW50ID09PSB0cnVlIHx8IGxhenkgPT09IHRydWUpKSwKICAgICAgICAgIGNoaWxkcmVuOiBbXSwKICAgICAgICAgIG1hdGNoZXNGaWx0ZXI6IF90aGlzLmZpbHRlciA/IF90aGlzLmZpbHRlck1ldGhvZChub2RlLCBfdGhpcy5maWx0ZXIpIDogdHJ1ZSwKICAgICAgICAgIHNlbGVjdGVkOiBrZXkgPT09IF90aGlzLnNlbGVjdGVkICYmIHNlbGVjdGFibGUgPT09IHRydWUsCiAgICAgICAgICBzZWxlY3RhYmxlOiBzZWxlY3RhYmxlLAogICAgICAgICAgZXhwYW5kZWQ6IGlzUGFyZW50ID09PSB0cnVlID8gX3RoaXMuaW5uZXJFeHBhbmRlZC5pbmNsdWRlcyhrZXkpIDogZmFsc2UsCiAgICAgICAgICBleHBhbmRhYmxlOiBleHBhbmRhYmxlLAogICAgICAgICAgbm9UaWNrOiBub2RlLm5vVGljayA9PT0gdHJ1ZSB8fCBzdHJpY3RUaWNraW5nICE9PSB0cnVlICYmIGxhenkgJiYgbGF6eSAhPT0gJ2xvYWRlZCcsCiAgICAgICAgICB0aWNrYWJsZTogdGlja2FibGUsCiAgICAgICAgICB0aWNrU3RyYXRlZ3k6IHRpY2tTdHJhdGVneSwKICAgICAgICAgIGhhc1RpY2tpbmc6IGhhc1RpY2tpbmcsCiAgICAgICAgICBzdHJpY3RUaWNraW5nOiBzdHJpY3RUaWNraW5nLAogICAgICAgICAgbGVhZkZpbHRlcmVkVGlja2luZzogbGVhZkZpbHRlcmVkVGlja2luZywKICAgICAgICAgIGxlYWZUaWNraW5nOiBsZWFmVGlja2luZywKICAgICAgICAgIHRpY2tlZDogc3RyaWN0VGlja2luZyA9PT0gdHJ1ZSA/IF90aGlzLmlubmVyVGlja2VkLmluY2x1ZGVzKGtleSkgOiBpc0xlYWYgPT09IHRydWUgPyBfdGhpcy5pbm5lclRpY2tlZC5pbmNsdWRlcyhrZXkpIDogZmFsc2UKICAgICAgICB9OwogICAgICAgIG1ldGFba2V5XSA9IG07CgogICAgICAgIGlmIChpc1BhcmVudCA9PT0gdHJ1ZSkgewogICAgICAgICAgbS5jaGlsZHJlbiA9IG5vZGVbX3RoaXMuY2hpbGRyZW5LZXldLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICByZXR1cm4gdHJhdmVsKG4sIG0pOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKF90aGlzLmZpbHRlcikgewogICAgICAgICAgICBpZiAobS5tYXRjaGVzRmlsdGVyICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgbS5tYXRjaGVzRmlsdGVyID0gbS5jaGlsZHJlbi5zb21lKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbi5tYXRjaGVzRmlsdGVyOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG0ubm9UaWNrICE9PSB0cnVlICYmIG0uZGlzYWJsZWQgIT09IHRydWUgJiYgbS50aWNrYWJsZSA9PT0gdHJ1ZSAmJiBsZWFmRmlsdGVyZWRUaWNraW5nID09PSB0cnVlICYmIG0uY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICByZXR1cm4gbi5tYXRjaGVzRmlsdGVyICE9PSB0cnVlIHx8IG4ubm9UaWNrID09PSB0cnVlIHx8IG4udGlja2FibGUgIT09IHRydWU7CiAgICAgICAgICAgIH0pID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgbS50aWNrYWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG0ubWF0Y2hlc0ZpbHRlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICBpZiAobS5ub1RpY2sgIT09IHRydWUgJiYgc3RyaWN0VGlja2luZyAhPT0gdHJ1ZSAmJiBtLmNoaWxkcmVuLmV2ZXJ5KGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG4ubm9UaWNrOwogICAgICAgICAgICB9KSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIG0ubm9UaWNrID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGxlYWZUaWNraW5nKSB7CiAgICAgICAgICAgICAgbS50aWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICBtLmluZGV0ZXJtaW5hdGUgPSBtLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmluZGV0ZXJtaW5hdGUgPT09IHRydWU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgbS50aWNrYWJsZSA9IG0udGlja2FibGUgPT09IHRydWUgJiYgbS5jaGlsZHJlbi5zb21lKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS50aWNrYWJsZTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKG0uaW5kZXRlcm1pbmF0ZSAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdmFyIHNlbCA9IG0uY2hpbGRyZW4ucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG1ldGEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ldGEudGlja2VkID09PSB0cnVlID8gYWNjICsgMSA6IGFjYzsKICAgICAgICAgICAgICAgIH0sIDApOwoKICAgICAgICAgICAgICAgIGlmIChzZWwgPT09IG0uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIG0udGlja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsID4gMCkgewogICAgICAgICAgICAgICAgICBtLmluZGV0ZXJtaW5hdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKG0uaW5kZXRlcm1pbmF0ZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgbS5pbmRldGVybWluYXRlTmV4dFN0YXRlID0gbS5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbiAobWV0YSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gbWV0YS50aWNrYWJsZSAhPT0gdHJ1ZSB8fCBtZXRhLnRpY2tlZCAhPT0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG07CiAgICAgIH07CgogICAgICB0aGlzLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICByZXR1cm4gdHJhdmVsKG5vZGUsIG51bGwpOwogICAgICB9KTsKICAgICAgcmV0dXJuIG1ldGE7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGF6eToge30sCiAgICAgIGlubmVyVGlja2VkOiB0aGlzLnRpY2tlZCB8fCBbXSwKICAgICAgaW5uZXJFeHBhbmRlZDogdGhpcy5leHBhbmRlZCB8fCBbXQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB0aWNrZWQ6IGZ1bmN0aW9uIHRpY2tlZCh2YWwpIHsKICAgICAgdGhpcy5pbm5lclRpY2tlZCA9IHZhbDsKICAgIH0sCiAgICBleHBhbmRlZDogZnVuY3Rpb24gZXhwYW5kZWQodmFsKSB7CiAgICAgIHRoaXMuaW5uZXJFeHBhbmRlZCA9IHZhbDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldE5vZGVCeUtleTogZnVuY3Rpb24gZ2V0Tm9kZUJ5S2V5KGtleSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciByZWR1Y2UgPSBbXS5yZWR1Y2U7CgogICAgICB2YXIgZmluZCA9IGZ1bmN0aW9uIGZpbmQocmVzdWx0LCBub2RlKSB7CiAgICAgICAgaWYgKHJlc3VsdCB8fCAhbm9kZSkgewogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CgogICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpID09PSB0cnVlKSB7CiAgICAgICAgICByZXR1cm4gcmVkdWNlLmNhbGwoT2JqZWN0KG5vZGUpLCBmaW5kLCByZXN1bHQpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5vZGVbX3RoaXMyLm5vZGVLZXldID09PSBrZXkpIHsKICAgICAgICAgIHJldHVybiBub2RlOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5vZGVbX3RoaXMyLmNoaWxkcmVuS2V5XSkgewogICAgICAgICAgcmV0dXJuIGZpbmQobnVsbCwgbm9kZVtfdGhpczIuY2hpbGRyZW5LZXldKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICByZXR1cm4gZmluZChudWxsLCB0aGlzLm5vZGVzKTsKICAgIH0sCiAgICBnZXRUaWNrZWROb2RlczogZnVuY3Rpb24gZ2V0VGlja2VkTm9kZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuaW5uZXJUaWNrZWQubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmdldE5vZGVCeUtleShrZXkpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRFeHBhbmRlZE5vZGVzOiBmdW5jdGlvbiBnZXRFeHBhbmRlZE5vZGVzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLmlubmVyRXhwYW5kZWQubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LmdldE5vZGVCeUtleShrZXkpOwogICAgICB9KTsKICAgIH0sCiAgICBpc0V4cGFuZGVkOiBmdW5jdGlvbiBpc0V4cGFuZGVkKGtleSkgewogICAgICByZXR1cm4ga2V5ICYmIHRoaXMubWV0YVtrZXldID8gdGhpcy5tZXRhW2tleV0uZXhwYW5kZWQgOiBmYWxzZTsKICAgIH0sCiAgICBjb2xsYXBzZUFsbDogZnVuY3Rpb24gY29sbGFwc2VBbGwoKSB7CiAgICAgIGlmICh0aGlzLmV4cGFuZGVkICE9PSB2b2lkIDApIHsKICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZXhwYW5kZWQnLCBbXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbm5lckV4cGFuZGVkID0gW107CiAgICAgIH0KICAgIH0sCiAgICBleHBhbmRBbGw6IGZ1bmN0aW9uIGV4cGFuZEFsbCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgZXhwYW5kZWQgPSB0aGlzLmlubmVyRXhwYW5kZWQsCiAgICAgICAgICB0cmF2ZWwgPSBmdW5jdGlvbiB0cmF2ZWwobm9kZSkgewogICAgICAgIGlmIChub2RlW190aGlzNS5jaGlsZHJlbktleV0gJiYgbm9kZVtfdGhpczUuY2hpbGRyZW5LZXldLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGlmIChub2RlLmV4cGFuZGFibGUgIT09IGZhbHNlICYmIG5vZGUuZGlzYWJsZWQgIT09IHRydWUpIHsKICAgICAgICAgICAgZXhwYW5kZWQucHVzaChub2RlW190aGlzNS5ub2RlS2V5XSk7CgogICAgICAgICAgICBub2RlW190aGlzNS5jaGlsZHJlbktleV0uZm9yRWFjaCh0cmF2ZWwpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHRoaXMubm9kZXMuZm9yRWFjaCh0cmF2ZWwpOwoKICAgICAgaWYgKHRoaXMuZXhwYW5kZWQgIT09IHZvaWQgMCkgewogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpleHBhbmRlZCcsIGV4cGFuZGVkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlubmVyRXhwYW5kZWQgPSBleHBhbmRlZDsKICAgICAgfQogICAgfSwKICAgIHNldEV4cGFuZGVkOiBmdW5jdGlvbiBzZXRFeHBhbmRlZChrZXksIHN0YXRlKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIG5vZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRoaXMuZ2V0Tm9kZUJ5S2V5KGtleSk7CiAgICAgIHZhciBtZXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB0aGlzLm1ldGFba2V5XTsKCiAgICAgIGlmIChtZXRhLmxhenkgJiYgbWV0YS5sYXp5ICE9PSAnbG9hZGVkJykgewogICAgICAgIGlmIChtZXRhLmxhenkgPT09ICdsb2FkaW5nJykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kc2V0KHRoaXMubGF6eSwga2V5LCAnbG9hZGluZycpOwogICAgICAgIHRoaXMuJGVtaXQoJ2xhenktbG9hZCcsIHsKICAgICAgICAgIG5vZGU6IG5vZGUsCiAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgIGRvbmU6IGZ1bmN0aW9uIGRvbmUoY2hpbGRyZW4pIHsKICAgICAgICAgICAgX3RoaXM2Lmxhenlba2V5XSA9ICdsb2FkZWQnOwoKICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgX3RoaXM2LiRzZXQobm9kZSwgX3RoaXM2LmNoaWxkcmVuS2V5LCBjaGlsZHJlbik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNi4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBtID0gX3RoaXM2Lm1ldGFba2V5XTsKCiAgICAgICAgICAgICAgaWYgKG0gJiYgbS5pc1BhcmVudCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgX3RoaXM2Ll9fc2V0RXhwYW5kZWQoa2V5LCB0cnVlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uIGZhaWwoKSB7CiAgICAgICAgICAgIF90aGlzNi4kZGVsZXRlKF90aGlzNi5sYXp5LCBrZXkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKG1ldGEuaXNQYXJlbnQgPT09IHRydWUgJiYgbWV0YS5leHBhbmRhYmxlID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5fX3NldEV4cGFuZGVkKGtleSwgc3RhdGUpOwogICAgICB9CiAgICB9LAogICAgX19zZXRFeHBhbmRlZDogZnVuY3Rpb24gX19zZXRFeHBhbmRlZChrZXksIHN0YXRlKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIHRhcmdldCA9IHRoaXMuaW5uZXJFeHBhbmRlZDsKICAgICAgdmFyIGVtaXQgPSB0aGlzLmV4cGFuZGVkICE9PSB2b2lkIDA7CgogICAgICBpZiAoZW1pdCA9PT0gdHJ1ZSkgewogICAgICAgIHRhcmdldCA9IHRhcmdldC5zbGljZSgpOwogICAgICB9CgogICAgICBpZiAoc3RhdGUpIHsKICAgICAgICBpZiAodGhpcy5hY2NvcmRpb24pIHsKICAgICAgICAgIGlmICh0aGlzLm1ldGFba2V5XSkgewogICAgICAgICAgICB2YXIgY29sbGFwc2UgPSBbXTsKCiAgICAgICAgICAgIGlmICh0aGlzLm1ldGFba2V5XS5wYXJlbnQpIHsKICAgICAgICAgICAgICB0aGlzLm1ldGFba2V5XS5wYXJlbnQuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgICAgICAgICAgaWYgKG0ua2V5ICE9PSBrZXkgJiYgbS5leHBhbmRhYmxlID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIGNvbGxhcHNlLnB1c2gobS5rZXkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgdmFyIGsgPSBub2RlW190aGlzNy5ub2RlS2V5XTsKCiAgICAgICAgICAgICAgICBpZiAoayAhPT0ga2V5KSB7CiAgICAgICAgICAgICAgICAgIGNvbGxhcHNlLnB1c2goayk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChjb2xsYXBzZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmZpbHRlcihmdW5jdGlvbiAoaykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxhcHNlLmluY2x1ZGVzKGspID09PSBmYWxzZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmNvbmNhdChba2V5XSkuZmlsdGVyKGZ1bmN0aW9uIChrZXksIGluZGV4LCBzZWxmKSB7CiAgICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKGtleSkgPT09IGluZGV4OwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRhcmdldCA9IHRhcmdldC5maWx0ZXIoZnVuY3Rpb24gKGspIHsKICAgICAgICAgIHJldHVybiBrICE9PSBrZXk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChlbWl0ID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOmV4cGFuZGVkIiwgdGFyZ2V0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlubmVyRXhwYW5kZWQgPSB0YXJnZXQ7CiAgICAgIH0KICAgIH0sCiAgICBpc1RpY2tlZDogZnVuY3Rpb24gaXNUaWNrZWQoa2V5KSB7CiAgICAgIHJldHVybiBrZXkgJiYgdGhpcy5tZXRhW2tleV0gPyB0aGlzLm1ldGFba2V5XS50aWNrZWQgOiBmYWxzZTsKICAgIH0sCiAgICBzZXRUaWNrZWQ6IGZ1bmN0aW9uIHNldFRpY2tlZChrZXlzLCBzdGF0ZSkgewogICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5pbm5lclRpY2tlZDsKICAgICAgdmFyIGVtaXQgPSB0aGlzLnRpY2tlZCAhPT0gdm9pZCAwOwoKICAgICAgaWYgKGVtaXQgPT09IHRydWUpIHsKICAgICAgICB0YXJnZXQgPSB0YXJnZXQuc2xpY2UoKTsKICAgICAgfQoKICAgICAgaWYgKHN0YXRlKSB7CiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmNvbmNhdChrZXlzKS5maWx0ZXIoZnVuY3Rpb24gKGtleSwgaW5kZXgsIHNlbGYpIHsKICAgICAgICAgIHJldHVybiBzZWxmLmluZGV4T2Yoa2V5KSA9PT0gaW5kZXg7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmZpbHRlcihmdW5jdGlvbiAoaykgewogICAgICAgICAgcmV0dXJuIGtleXMuaW5jbHVkZXMoaykgPT09IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoZW1pdCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTp0aWNrZWQiLCB0YXJnZXQpOwogICAgICB9CiAgICB9LAogICAgX19nZXRTbG90U2NvcGU6IGZ1bmN0aW9uIF9fZ2V0U2xvdFNjb3BlKG5vZGUsIG1ldGEsIGtleSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHZhciBzY29wZSA9IHsKICAgICAgICB0cmVlOiB0aGlzLAogICAgICAgIG5vZGU6IG5vZGUsCiAgICAgICAga2V5OiBrZXksCiAgICAgICAgY29sb3I6IHRoaXMuY29sb3IsCiAgICAgICAgZGFyazogdGhpcy5pc0RhcmsKICAgICAgfTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNjb3BlLCAnZXhwYW5kZWQnLCB7CiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICByZXR1cm4gbWV0YS5leHBhbmRlZDsKICAgICAgICB9LAogICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgICAgdmFsICE9PSBtZXRhLmV4cGFuZGVkICYmIF90aGlzOC5zZXRFeHBhbmRlZChrZXksIHZhbCk7CiAgICAgICAgfSwKICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZQogICAgICB9KTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNjb3BlLCAndGlja2VkJywgewogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgcmV0dXJuIG1ldGEudGlja2VkOwogICAgICAgIH0sCiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7CiAgICAgICAgICB2YWwgIT09IG1ldGEudGlja2VkICYmIF90aGlzOC5zZXRUaWNrZWQoW2tleV0sIHZhbCk7CiAgICAgICAgfSwKICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZQogICAgICB9KTsKICAgICAgcmV0dXJuIHNjb3BlOwogICAgfSwKICAgIF9fZ2V0Q2hpbGRyZW46IGZ1bmN0aW9uIF9fZ2V0Q2hpbGRyZW4oaCwgbm9kZXMpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gKHRoaXMuZmlsdGVyID8gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIF90aGlzOS5tZXRhW25bX3RoaXM5Lm5vZGVLZXldXS5tYXRjaGVzRmlsdGVyOwogICAgICB9KSA6IG5vZGVzKS5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgcmV0dXJuIF90aGlzOS5fX2dldE5vZGUoaCwgY2hpbGQpOwogICAgICB9KTsKICAgIH0sCiAgICBfX2dldE5vZGVNZWRpYTogZnVuY3Rpb24gX19nZXROb2RlTWVkaWEoaCwgbm9kZSkgewogICAgICBpZiAobm9kZS5pY29uICE9PSB2b2lkIDApIHsKICAgICAgICByZXR1cm4gaChRSWNvbiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJxLXRyZWVfX2ljb24gcS1tci1zbSIsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBuYW1lOiBub2RlLmljb24sCiAgICAgICAgICAgIGNvbG9yOiBub2RlLmljb25Db2xvcgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgc3JjID0gbm9kZS5pbWcgfHwgbm9kZS5hdmF0YXI7CgogICAgICBpZiAoc3JjKSB7CiAgICAgICAgcmV0dXJuIGgoJ2ltZycsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAicS10cmVlX18iLmNvbmNhdChub2RlLmltZyA/ICdpbWcnIDogJ2F2YXRhcicsICIgcS1tci1zbSIpLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgc3JjOiBzcmMKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIF9fZ2V0Tm9kZTogZnVuY3Rpb24gX19nZXROb2RlKGgsIG5vZGUpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIGtleSA9IG5vZGVbdGhpcy5ub2RlS2V5XSwKICAgICAgICAgIG1ldGEgPSB0aGlzLm1ldGFba2V5XSwKICAgICAgICAgIGhlYWRlciA9IG5vZGUuaGVhZGVyID8gdGhpcy4kc2NvcGVkU2xvdHNbImhlYWRlci0iLmNvbmNhdChub2RlLmhlYWRlcildIHx8IHRoaXMuJHNjb3BlZFNsb3RzWydkZWZhdWx0LWhlYWRlciddIDogdGhpcy4kc2NvcGVkU2xvdHNbJ2RlZmF1bHQtaGVhZGVyJ107CiAgICAgIHZhciBjaGlsZHJlbiA9IG1ldGEuaXNQYXJlbnQgPT09IHRydWUgPyB0aGlzLl9fZ2V0Q2hpbGRyZW4oaCwgbm9kZVt0aGlzLmNoaWxkcmVuS2V5XSkgOiBbXTsKICAgICAgdmFyIGlzUGFyZW50ID0gY2hpbGRyZW4ubGVuZ3RoID4gMCB8fCBtZXRhLmxhenkgJiYgbWV0YS5sYXp5ICE9PSAnbG9hZGVkJzsKICAgICAgdmFyIGJvZHkgPSBub2RlLmJvZHkgPyB0aGlzLiRzY29wZWRTbG90c1siYm9keS0iLmNvbmNhdChub2RlLmJvZHkpXSB8fCB0aGlzLiRzY29wZWRTbG90c1snZGVmYXVsdC1ib2R5J10gOiB0aGlzLiRzY29wZWRTbG90c1snZGVmYXVsdC1ib2R5J107CiAgICAgIHZhciBzbG90U2NvcGUgPSBoZWFkZXIgIT09IHZvaWQgMCB8fCBib2R5ICE9PSB2b2lkIDAgPyB0aGlzLl9fZ2V0U2xvdFNjb3BlKG5vZGUsIG1ldGEsIGtleSkgOiBudWxsOwoKICAgICAgaWYgKGJvZHkgIT09IHZvaWQgMCkgewogICAgICAgIGJvZHkgPSBoKCdkaXYnLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ3EtdHJlZV9fbm9kZS1ib2R5IHJlbGF0aXZlLXBvc2l0aW9uJwogICAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgICAiY2xhc3MiOiB0aGlzLnRleHRDb2xvckNsYXNzCiAgICAgICAgfSwgW2JvZHkoc2xvdFNjb3BlKV0pXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAga2V5OiBrZXksCiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLXRyZWVfX25vZGUgcmVsYXRpdmUtcG9zaXRpb24nLAogICAgICAgICJjbGFzcyI6IHsKICAgICAgICAgICdxLXRyZWVfX25vZGUtLXBhcmVudCc6IGlzUGFyZW50LAogICAgICAgICAgJ3EtdHJlZV9fbm9kZS0tY2hpbGQnOiAhaXNQYXJlbnQKICAgICAgICB9CiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLXRyZWVfX25vZGUtaGVhZGVyIHJlbGF0aXZlLXBvc2l0aW9uIHJvdyBuby13cmFwIGl0ZW1zLWNlbnRlcicsCiAgICAgICAgImNsYXNzIjogewogICAgICAgICAgJ3EtdHJlZV9fbm9kZS0tbGluayBxLWhvdmVyYWJsZSBxLWZvY3VzYWJsZSc6IG1ldGEubGluaywKICAgICAgICAgICdxLXRyZWVfX25vZGUtLXNlbGVjdGVkJzogbWV0YS5zZWxlY3RlZCwKICAgICAgICAgICdxLXRyZWVfX25vZGUtLWRpc2FibGVkJzogbWV0YS5kaXNhYmxlZAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHRhYmluZGV4OiBtZXRhLmxpbmsgPyAwIDogLTEKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICBfdGhpczEwLl9fb25DbGljayhub2RlLCBtZXRhLCBlKTsKICAgICAgICAgIH0sCiAgICAgICAgICBrZXlwcmVzczogZnVuY3Rpb24ga2V5cHJlc3MoZSkgewogICAgICAgICAgICBpZiAoc2hvdWxkSWdub3JlS2V5KGUpICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHsKICAgICAgICAgICAgICAgIF90aGlzMTAuX19vbkNsaWNrKG5vZGUsIG1ldGEsIGUsIHRydWUpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzMikgewogICAgICAgICAgICAgICAgX3RoaXMxMC5fX29uRXhwYW5kQ2xpY2sobm9kZSwgbWV0YSwgZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1mb2N1cy1oZWxwZXInLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICB0YWJpbmRleDogLTEKICAgICAgICB9LAogICAgICAgIHJlZjogImJsdXJUYXJnZXRfIi5jb25jYXQobWV0YS5rZXkpCiAgICAgIH0pLCBtZXRhLmxhenkgPT09ICdsb2FkaW5nJyA/IGgoUVNwaW5uZXIsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtdHJlZV9fc3Bpbm5lciBxLW1yLXhzJywKICAgICAgICBwcm9wczogewogICAgICAgICAgY29sb3I6IHRoaXMuY29tcHV0ZWRDb250cm9sQ29sb3IKICAgICAgICB9CiAgICAgIH0pIDogaXNQYXJlbnQgPT09IHRydWUgPyBoKFFJY29uLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLXRyZWVfX2Fycm93IHEtbXIteHMnLAogICAgICAgICJjbGFzcyI6IHsKICAgICAgICAgICdxLXRyZWVfX2Fycm93LS1yb3RhdGUnOiBtZXRhLmV4cGFuZGVkCiAgICAgICAgfSwKICAgICAgICBwcm9wczogewogICAgICAgICAgbmFtZTogdGhpcy5jb21wdXRlZEljb24KICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICBfdGhpczEwLl9fb25FeHBhbmRDbGljayhub2RlLCBtZXRhLCBlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pIDogbnVsbCwgbWV0YS5oYXNUaWNraW5nID09PSB0cnVlICYmIG1ldGEubm9UaWNrICE9PSB0cnVlID8gaChRQ2hlY2tib3gsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtbXIteHMnLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICB2YWx1ZTogbWV0YS5pbmRldGVybWluYXRlID09PSB0cnVlID8gbnVsbCA6IG1ldGEudGlja2VkLAogICAgICAgICAgY29sb3I6IHRoaXMuY29tcHV0ZWRDb250cm9sQ29sb3IsCiAgICAgICAgICBkYXJrOiB0aGlzLmlzRGFyaywKICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAga2VlcENvbG9yOiB0cnVlLAogICAgICAgICAgZGlzYWJsZTogbWV0YS50aWNrYWJsZSAhPT0gdHJ1ZQogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGtleWRvd246IHN0b3BBbmRQcmV2ZW50LAogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uIGlucHV0KHYpIHsKICAgICAgICAgICAgX3RoaXMxMC5fX29uVGlja2VkQ2xpY2sobWV0YSwgdik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSA6IG51bGwsIGgoJ2RpdicsIHsKICAgICAgICAnc3RhdGljQ2xhc3MnOiAncS10cmVlX19ub2RlLWhlYWRlci1jb250ZW50IGNvbCByb3cgbm8td3JhcCBpdGVtcy1jZW50ZXInLAogICAgICAgICJjbGFzcyI6IG1ldGEuc2VsZWN0ZWQgPyB0aGlzLnNlbGVjdGVkQ29sb3JDbGFzcyA6IHRoaXMudGV4dENvbG9yQ2xhc3MKICAgICAgfSwgW2hlYWRlciA/IGhlYWRlcihzbG90U2NvcGUpIDogW3RoaXMuX19nZXROb2RlTWVkaWEoaCwgbm9kZSksIGgoJ2RpdicsIG5vZGVbdGhpcy5sYWJlbEtleV0pXV0pXSksIGlzUGFyZW50ID09PSB0cnVlID8gaChRU2xpZGVUcmFuc2l0aW9uLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uCiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ3NsaWRlJywgewogICAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgICAgICAgX3RoaXMxMC4kZW1pdCgnYWZ0ZXItc2hvdycpOwogICAgICAgICAgfSwKICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgICAgICAgIF90aGlzMTAuJGVtaXQoJ2FmdGVyLWhpZGUnKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS10cmVlX19ub2RlLWNvbGxhcHNpYmxlJywKICAgICAgICAiY2xhc3MiOiB0aGlzLnRleHRDb2xvckNsYXNzLAogICAgICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgICAgICBuYW1lOiAnc2hvdycsCiAgICAgICAgICB2YWx1ZTogbWV0YS5leHBhbmRlZAogICAgICAgIH1dCiAgICAgIH0sIFtib2R5LCBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLXRyZWVfX2NoaWxkcmVuJywKICAgICAgICAiY2xhc3MiOiB7CiAgICAgICAgICAncS10cmVlX19ub2RlLS1kaXNhYmxlZCc6IG1ldGEuZGlzYWJsZWQKICAgICAgICB9CiAgICAgIH0sIGNoaWxkcmVuKV0pXSkgOiBib2R5XSk7CiAgICB9LAogICAgX19ibHVyOiBmdW5jdGlvbiBfX2JsdXIoa2V5KSB7CiAgICAgIHZhciBibHVyVGFyZ2V0ID0gdGhpcy4kcmVmc1siYmx1clRhcmdldF8iLmNvbmNhdChrZXkpXTsKICAgICAgYmx1clRhcmdldCAhPT0gdm9pZCAwICYmIGJsdXJUYXJnZXQuZm9jdXMoKTsKICAgIH0sCiAgICBfX29uQ2xpY2s6IGZ1bmN0aW9uIF9fb25DbGljayhub2RlLCBtZXRhLCBlLCBrZXlib2FyZCkgewogICAgICBrZXlib2FyZCAhPT0gdHJ1ZSAmJiB0aGlzLl9fYmx1cihtZXRhLmtleSk7CgogICAgICBpZiAodGhpcy5oYXNTZWxlY3Rpb24pIHsKICAgICAgICBpZiAobWV0YS5zZWxlY3RhYmxlKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2VsZWN0ZWQnLCBtZXRhLmtleSAhPT0gdGhpcy5zZWxlY3RlZCA/IG1ldGEua2V5IDogbnVsbCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX19vbkV4cGFuZENsaWNrKG5vZGUsIG1ldGEsIGUsIGtleWJvYXJkKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBub2RlLmhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBub2RlLmhhbmRsZXIobm9kZSk7CiAgICAgIH0KICAgIH0sCiAgICBfX29uRXhwYW5kQ2xpY2s6IGZ1bmN0aW9uIF9fb25FeHBhbmRDbGljayhub2RlLCBtZXRhLCBlLCBrZXlib2FyZCkgewogICAgICBpZiAoZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgc3RvcEFuZFByZXZlbnQoZSk7CiAgICAgIH0KCiAgICAgIGtleWJvYXJkICE9PSB0cnVlICYmIHRoaXMuX19ibHVyKG1ldGEua2V5KTsKICAgICAgdGhpcy5zZXRFeHBhbmRlZChtZXRhLmtleSwgIW1ldGEuZXhwYW5kZWQsIG5vZGUsIG1ldGEpOwogICAgfSwKICAgIF9fb25UaWNrZWRDbGljazogZnVuY3Rpb24gX19vblRpY2tlZENsaWNrKG1ldGEsIHN0YXRlKSB7CiAgICAgIGlmIChtZXRhLmluZGV0ZXJtaW5hdGUgPT09IHRydWUpIHsKICAgICAgICBzdGF0ZSA9IG1ldGEuaW5kZXRlcm1pbmF0ZU5leHRTdGF0ZTsKICAgICAgfQoKICAgICAgaWYgKG1ldGEuc3RyaWN0VGlja2luZykgewogICAgICAgIHRoaXMuc2V0VGlja2VkKFttZXRhLmtleV0sIHN0YXRlKTsKICAgICAgfSBlbHNlIGlmIChtZXRhLmxlYWZUaWNraW5nKSB7CiAgICAgICAgdmFyIGtleXMgPSBbXTsKCiAgICAgICAgdmFyIHRyYXZlbCA9IGZ1bmN0aW9uIHRyYXZlbChtZXRhKSB7CiAgICAgICAgICBpZiAobWV0YS5pc1BhcmVudCkgewogICAgICAgICAgICBpZiAoc3RhdGUgIT09IHRydWUgJiYgbWV0YS5ub1RpY2sgIT09IHRydWUgJiYgbWV0YS50aWNrYWJsZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGtleXMucHVzaChtZXRhLmtleSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChtZXRhLmxlYWZUaWNraW5nID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgbWV0YS5jaGlsZHJlbi5mb3JFYWNoKHRyYXZlbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAobWV0YS5ub1RpY2sgIT09IHRydWUgJiYgbWV0YS50aWNrYWJsZSA9PT0gdHJ1ZSAmJiAobWV0YS5sZWFmRmlsdGVyZWRUaWNraW5nICE9PSB0cnVlIHx8IG1ldGEubWF0Y2hlc0ZpbHRlciA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAga2V5cy5wdXNoKG1ldGEua2V5KTsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICB0cmF2ZWwobWV0YSk7CiAgICAgICAgdGhpcy5zZXRUaWNrZWQoa2V5cywgc3RhdGUpOwogICAgICB9CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLl9fZ2V0Q2hpbGRyZW4oaCwgdGhpcy5ub2Rlcyk7CgogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgImNsYXNzIjogdGhpcy5jbGFzc2VzCiAgICB9LCBjaGlsZHJlbi5sZW5ndGggPT09IDAgPyB0aGlzLmZpbHRlciA/IHRoaXMubm9SZXN1bHRzTGFiZWwgfHwgdGhpcy4kcS5sYW5nLnRyZWUubm9SZXN1bHRzIDogdGhpcy5ub05vZGVzTGFiZWwgfHwgdGhpcy4kcS5sYW5nLnRyZWUubm9Ob2RlcyA6IGNoaWxkcmVuKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmRlZmF1bHRFeHBhbmRBbGwgPT09IHRydWUgJiYgdGhpcy5leHBhbmRBbGwoKTsKICB9Cn0pOw=="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/tree/QTree.js"],"names":["Vue","QIcon","QCheckbox","QSlideTransition","QSpinner","DarkMixin","stopAndPrevent","shouldIgnoreKey","cache","extend","name","mixins","props","nodes","type","Array","required","nodeKey","String","labelKey","childrenKey","color","controlColor","textColor","selectedColor","icon","tickStrategy","validator","v","includes","ticked","expanded","selected","defaultExpandAll","Boolean","accordion","filter","filterMethod","Function","node","filt","toLowerCase","indexOf","duration","Number","noConnectors","noNodesLabel","noResultsLabel","computed","classes","isDark","hasSelection","computedIcon","$q","iconSet","tree","computedControlColor","textColorClass","selectedColorClass","meta","travel","parent","key","isParent","length","isLeaf","selectable","disabled","expandable","hasTicking","strictTicking","leafFilteredTicking","leafTicking","tickable","lazy","m","link","children","matchesFilter","innerExpanded","noTick","innerTicked","map","n","some","every","indeterminate","sel","reduce","acc","indeterminateNextState","forEach","data","watch","val","methods","getNodeByKey","find","result","isArray","call","Object","getTickedNodes","getExpandedNodes","isExpanded","collapseAll","$emit","expandAll","push","setExpanded","state","$set","done","$nextTick","__setExpanded","fail","$delete","target","emit","slice","collapse","k","concat","index","self","isTicked","setTicked","keys","__getSlotScope","scope","dark","defineProperty","get","set","configurable","enumerable","__getChildren","h","child","__getNode","__getNodeMedia","staticClass","iconColor","src","img","avatar","attrs","header","$scopedSlots","body","slotScope","tabindex","on","click","e","__onClick","keypress","keyCode","__onExpandClick","ref","value","dense","keepColor","disable","keydown","input","__onTickedClick","show","hide","directives","__blur","blurTarget","$refs","focus","keyboard","handler","render","lang","noResults","noNodes","created"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport QIcon from '../icon/QIcon.js'\nimport QCheckbox from '../checkbox/QCheckbox.js'\nimport QSlideTransition from '../slide-transition/QSlideTransition.js'\nimport QSpinner from '../spinner/QSpinner.js'\nimport DarkMixin from '../../mixins/dark.js'\n\nimport { stopAndPrevent } from '../../utils/event.js'\nimport { shouldIgnoreKey } from '../../utils/key-composition.js'\nimport cache from '../../utils/cache.js'\n\nexport default Vue.extend({\n  name: 'QTree',\n\n  mixins: [ DarkMixin ],\n\n  props: {\n    nodes: {\n      type: Array,\n      required: true\n    },\n    nodeKey: {\n      type: String,\n      required: true\n    },\n    labelKey: {\n      type: String,\n      default: 'label'\n    },\n    childrenKey: {\n      type: String,\n      default: 'children'\n    },\n\n    color: String,\n    controlColor: String,\n    textColor: String,\n    selectedColor: String,\n\n    icon: String,\n\n    tickStrategy: {\n      type: String,\n      default: 'none',\n      validator: v => ['none', 'strict', 'leaf', 'leaf-filtered'].includes(v)\n    },\n    ticked: Array, // sync\n    expanded: Array, // sync\n    selected: {}, // sync\n\n    defaultExpandAll: Boolean,\n    accordion: Boolean,\n\n    filter: String,\n    filterMethod: {\n      type: Function,\n      default (node, filter) {\n        const filt = filter.toLowerCase()\n        return node[this.labelKey] &&\n          node[this.labelKey].toLowerCase().indexOf(filt) > -1\n      }\n    },\n\n    duration: Number,\n    noConnectors: Boolean,\n\n    noNodesLabel: String,\n    noResultsLabel: String\n  },\n\n  computed: {\n    classes () {\n      return `q-tree` +\n        (this.noConnectors === true ? ` q-tree--no-connectors` : '') +\n        (this.isDark === true ? ` q-tree--dark` : '') +\n        (this.color !== void 0 ? ` text-${this.color}` : '')\n    },\n\n    hasSelection () {\n      return this.selected !== void 0\n    },\n\n    computedIcon () {\n      return this.icon || this.$q.iconSet.tree.icon\n    },\n\n    computedControlColor () {\n      return this.controlColor || this.color\n    },\n\n    textColorClass () {\n      if (this.textColor !== void 0) {\n        return `text-${this.textColor}`\n      }\n    },\n\n    selectedColorClass () {\n      const color = this.selectedColor || this.color\n      if (color) {\n        return `text-${color}`\n      }\n    },\n\n    meta () {\n      const meta = {}\n\n      const travel = (node, parent) => {\n        const tickStrategy = node.tickStrategy || (parent ? parent.tickStrategy : this.tickStrategy)\n        const\n          key = node[this.nodeKey],\n          isParent = node[this.childrenKey] && node[this.childrenKey].length > 0,\n          isLeaf = isParent !== true,\n          selectable = node.disabled !== true && this.hasSelection === true && node.selectable !== false,\n          expandable = node.disabled !== true && node.expandable !== false,\n          hasTicking = tickStrategy !== 'none',\n          strictTicking = tickStrategy === 'strict',\n          leafFilteredTicking = tickStrategy === 'leaf-filtered',\n          leafTicking = tickStrategy === 'leaf' || tickStrategy === 'leaf-filtered'\n\n        let tickable = node.disabled !== true && node.tickable !== false\n        if (leafTicking === true && tickable === true && parent && parent.tickable !== true) {\n          tickable = false\n        }\n\n        let lazy = node.lazy\n        if (lazy && this.lazy[key]) {\n          lazy = this.lazy[key]\n        }\n\n        const m = {\n          key,\n          parent,\n          isParent,\n          isLeaf,\n          lazy,\n          disabled: node.disabled,\n          link: node.disabled !== true && (selectable === true || (expandable === true && (isParent === true || lazy === true))),\n          children: [],\n          matchesFilter: this.filter ? this.filterMethod(node, this.filter) : true,\n\n          selected: key === this.selected && selectable === true,\n          selectable,\n          expanded: isParent === true ? this.innerExpanded.includes(key) : false,\n          expandable,\n          noTick: node.noTick === true || (strictTicking !== true && lazy && lazy !== 'loaded'),\n          tickable,\n          tickStrategy,\n          hasTicking,\n          strictTicking,\n          leafFilteredTicking,\n          leafTicking,\n          ticked: strictTicking === true\n            ? this.innerTicked.includes(key)\n            : (isLeaf === true ? this.innerTicked.includes(key) : false)\n        }\n\n        meta[key] = m\n\n        if (isParent === true) {\n          m.children = node[this.childrenKey].map(n => travel(n, m))\n\n          if (this.filter) {\n            if (m.matchesFilter !== true) {\n              m.matchesFilter = m.children.some(n => n.matchesFilter)\n            }\n            else if (\n              m.noTick !== true &&\n              m.disabled !== true &&\n              m.tickable === true &&\n              leafFilteredTicking === true &&\n              m.children.every(n => n.matchesFilter !== true || n.noTick === true || n.tickable !== true) === true\n            ) {\n              m.tickable = false\n            }\n          }\n\n          if (m.matchesFilter === true) {\n            if (m.noTick !== true && strictTicking !== true && m.children.every(n => n.noTick) === true) {\n              m.noTick = true\n            }\n\n            if (leafTicking) {\n              m.ticked = false\n              m.indeterminate = m.children.some(node => node.indeterminate === true)\n              m.tickable = m.tickable === true && m.children.some(node => node.tickable)\n\n              if (m.indeterminate !== true) {\n                const sel = m.children\n                  .reduce((acc, meta) => meta.ticked === true ? acc + 1 : acc, 0)\n\n                if (sel === m.children.length) {\n                  m.ticked = true\n                }\n                else if (sel > 0) {\n                  m.indeterminate = true\n                }\n              }\n\n              if (m.indeterminate === true) {\n                m.indeterminateNextState = m.children\n                  .every(meta => meta.tickable !== true || meta.ticked !== true)\n              }\n            }\n          }\n        }\n\n        return m\n      }\n\n      this.nodes.forEach(node => travel(node, null))\n      return meta\n    }\n  },\n\n  data () {\n    return {\n      lazy: {},\n      innerTicked: this.ticked || [],\n      innerExpanded: this.expanded || []\n    }\n  },\n\n  watch: {\n    ticked (val) {\n      this.innerTicked = val\n    },\n\n    expanded (val) {\n      this.innerExpanded = val\n    }\n  },\n\n  methods: {\n    getNodeByKey (key) {\n      const reduce = [].reduce\n\n      const find = (result, node) => {\n        if (result || !node) {\n          return result\n        }\n        if (Array.isArray(node) === true) {\n          return reduce.call(Object(node), find, result)\n        }\n        if (node[this.nodeKey] === key) {\n          return node\n        }\n        if (node[this.childrenKey]) {\n          return find(null, node[this.childrenKey])\n        }\n      }\n\n      return find(null, this.nodes)\n    },\n\n    getTickedNodes () {\n      return this.innerTicked.map(key => this.getNodeByKey(key))\n    },\n\n    getExpandedNodes () {\n      return this.innerExpanded.map(key => this.getNodeByKey(key))\n    },\n\n    isExpanded (key) {\n      return key && this.meta[key]\n        ? this.meta[key].expanded\n        : false\n    },\n\n    collapseAll () {\n      if (this.expanded !== void 0) {\n        this.$emit('update:expanded', [])\n      }\n      else {\n        this.innerExpanded = []\n      }\n    },\n\n    expandAll () {\n      const\n        expanded = this.innerExpanded,\n        travel = node => {\n          if (node[this.childrenKey] && node[this.childrenKey].length > 0) {\n            if (node.expandable !== false && node.disabled !== true) {\n              expanded.push(node[this.nodeKey])\n              node[this.childrenKey].forEach(travel)\n            }\n          }\n        }\n\n      this.nodes.forEach(travel)\n\n      if (this.expanded !== void 0) {\n        this.$emit('update:expanded', expanded)\n      }\n      else {\n        this.innerExpanded = expanded\n      }\n    },\n\n    setExpanded (key, state, node = this.getNodeByKey(key), meta = this.meta[key]) {\n      if (meta.lazy && meta.lazy !== 'loaded') {\n        if (meta.lazy === 'loading') {\n          return\n        }\n\n        this.$set(this.lazy, key, 'loading')\n        this.$emit('lazy-load', {\n          node,\n          key,\n          done: children => {\n            this.lazy[key] = 'loaded'\n            if (children) {\n              this.$set(node, this.childrenKey, children)\n            }\n            this.$nextTick(() => {\n              const m = this.meta[key]\n              if (m && m.isParent === true) {\n                this.__setExpanded(key, true)\n              }\n            })\n          },\n          fail: () => {\n            this.$delete(this.lazy, key)\n          }\n        })\n      }\n      else if (meta.isParent === true && meta.expandable === true) {\n        this.__setExpanded(key, state)\n      }\n    },\n\n    __setExpanded (key, state) {\n      let target = this.innerExpanded\n      const emit = this.expanded !== void 0\n\n      if (emit === true) {\n        target = target.slice()\n      }\n\n      if (state) {\n        if (this.accordion) {\n          if (this.meta[key]) {\n            const collapse = []\n            if (this.meta[key].parent) {\n              this.meta[key].parent.children.forEach(m => {\n                if (m.key !== key && m.expandable === true) {\n                  collapse.push(m.key)\n                }\n              })\n            }\n            else {\n              this.nodes.forEach(node => {\n                const k = node[this.nodeKey]\n                if (k !== key) {\n                  collapse.push(k)\n                }\n              })\n            }\n            if (collapse.length > 0) {\n              target = target.filter(k => collapse.includes(k) === false)\n            }\n          }\n        }\n\n        target = target.concat([ key ])\n          .filter((key, index, self) => self.indexOf(key) === index)\n      }\n      else {\n        target = target.filter(k => k !== key)\n      }\n\n      if (emit === true) {\n        this.$emit(`update:expanded`, target)\n      }\n      else {\n        this.innerExpanded = target\n      }\n    },\n\n    isTicked (key) {\n      return key && this.meta[key]\n        ? this.meta[key].ticked\n        : false\n    },\n\n    setTicked (keys, state) {\n      let target = this.innerTicked\n      const emit = this.ticked !== void 0\n\n      if (emit === true) {\n        target = target.slice()\n      }\n\n      if (state) {\n        target = target.concat(keys)\n          .filter((key, index, self) => self.indexOf(key) === index)\n      }\n      else {\n        target = target.filter(k => keys.includes(k) === false)\n      }\n\n      if (emit === true) {\n        this.$emit(`update:ticked`, target)\n      }\n    },\n\n    __getSlotScope (node, meta, key) {\n      const scope = { tree: this, node, key, color: this.color, dark: this.isDark }\n\n      Object.defineProperty(scope, 'expanded', {\n        get: () => { return meta.expanded },\n        set: val => { val !== meta.expanded && this.setExpanded(key, val) },\n        configurable: true,\n        enumerable: true\n      })\n      Object.defineProperty(scope, 'ticked', {\n        get: () => { return meta.ticked },\n        set: val => { val !== meta.ticked && this.setTicked([ key ], val) },\n        configurable: true,\n        enumerable: true\n      })\n\n      return scope\n    },\n\n    __getChildren (h, nodes) {\n      return (\n        this.filter\n          ? nodes.filter(n => this.meta[n[this.nodeKey]].matchesFilter)\n          : nodes\n      ).map(child => this.__getNode(h, child))\n    },\n\n    __getNodeMedia (h, node) {\n      if (node.icon !== void 0) {\n        return h(QIcon, {\n          staticClass: `q-tree__icon q-mr-sm`,\n          props: { name: node.icon, color: node.iconColor }\n        })\n      }\n      const src = node.img || node.avatar\n      if (src) {\n        return h('img', {\n          staticClass: `q-tree__${node.img ? 'img' : 'avatar'} q-mr-sm`,\n          attrs: { src }\n        })\n      }\n    },\n\n    __getNode (h, node) {\n      const\n        key = node[this.nodeKey],\n        meta = this.meta[key],\n        header = node.header\n          ? this.$scopedSlots[`header-${node.header}`] || this.$scopedSlots['default-header']\n          : this.$scopedSlots['default-header']\n\n      const children = meta.isParent === true\n        ? this.__getChildren(h, node[this.childrenKey])\n        : []\n\n      const isParent = children.length > 0 || (meta.lazy && meta.lazy !== 'loaded')\n\n      let body = node.body\n        ? this.$scopedSlots[`body-${node.body}`] || this.$scopedSlots['default-body']\n        : this.$scopedSlots['default-body']\n      const slotScope = header !== void 0 || body !== void 0\n        ? this.__getSlotScope(node, meta, key)\n        : null\n\n      if (body !== void 0) {\n        body = h('div', { staticClass: 'q-tree__node-body relative-position' }, [\n          h('div', { class: this.textColorClass }, [\n            body(slotScope)\n          ])\n        ])\n      }\n\n      return h('div', {\n        key,\n        staticClass: 'q-tree__node relative-position',\n        class: { 'q-tree__node--parent': isParent, 'q-tree__node--child': !isParent }\n      }, [\n        h('div', {\n          staticClass: 'q-tree__node-header relative-position row no-wrap items-center',\n          class: {\n            'q-tree__node--link q-hoverable q-focusable': meta.link,\n            'q-tree__node--selected': meta.selected,\n            'q-tree__node--disabled': meta.disabled\n          },\n          attrs: { tabindex: meta.link ? 0 : -1 },\n          on: {\n            click: (e) => {\n              this.__onClick(node, meta, e)\n            },\n            keypress: e => {\n              if (shouldIgnoreKey(e) !== true) {\n                if (e.keyCode === 13) { this.__onClick(node, meta, e, true) }\n                else if (e.keyCode === 32) { this.__onExpandClick(node, meta, e, true) }\n              }\n            }\n          }\n        }, [\n          h('div', { staticClass: 'q-focus-helper', attrs: { tabindex: -1 }, ref: `blurTarget_${meta.key}` }),\n\n          meta.lazy === 'loading'\n            ? h(QSpinner, {\n              staticClass: 'q-tree__spinner q-mr-xs',\n              props: { color: this.computedControlColor }\n            })\n            : (\n              isParent === true\n                ? h(QIcon, {\n                  staticClass: 'q-tree__arrow q-mr-xs',\n                  class: { 'q-tree__arrow--rotate': meta.expanded },\n                  props: { name: this.computedIcon },\n                  on: {\n                    click: e => {\n                      this.__onExpandClick(node, meta, e)\n                    }\n                  }\n                })\n                : null\n            ),\n\n          meta.hasTicking === true && meta.noTick !== true\n            ? h(QCheckbox, {\n              staticClass: 'q-mr-xs',\n              props: {\n                value: meta.indeterminate === true ? null : meta.ticked,\n                color: this.computedControlColor,\n                dark: this.isDark,\n                dense: true,\n                keepColor: true,\n                disable: meta.tickable !== true\n              },\n              on: {\n                keydown: stopAndPrevent,\n                input: v => {\n                  this.__onTickedClick(meta, v)\n                }\n              }\n            })\n            : null,\n\n          h('div', {\n            'staticClass': 'q-tree__node-header-content col row no-wrap items-center',\n            class: meta.selected ? this.selectedColorClass : this.textColorClass\n          }, [\n            header\n              ? header(slotScope)\n              : [\n                this.__getNodeMedia(h, node),\n                h('div', node[this.labelKey])\n              ]\n          ])\n        ]),\n\n        isParent === true\n          ? h(QSlideTransition, {\n            props: { duration: this.duration },\n            on: cache(this, 'slide', {\n              show: () => { this.$emit('after-show') },\n              hide: () => { this.$emit('after-hide') }\n            })\n          }, [\n            h('div', {\n              staticClass: 'q-tree__node-collapsible',\n              class: this.textColorClass,\n              directives: [{ name: 'show', value: meta.expanded }]\n            }, [\n              body,\n\n              h('div', {\n                staticClass: 'q-tree__children',\n                class: { 'q-tree__node--disabled': meta.disabled }\n              }, children)\n            ])\n          ])\n          : body\n      ])\n    },\n\n    __blur (key) {\n      const blurTarget = this.$refs[`blurTarget_${key}`]\n      blurTarget !== void 0 && blurTarget.focus()\n    },\n\n    __onClick (node, meta, e, keyboard) {\n      keyboard !== true && this.__blur(meta.key)\n\n      if (this.hasSelection) {\n        if (meta.selectable) {\n          this.$emit('update:selected', meta.key !== this.selected ? meta.key : null)\n        }\n      }\n      else {\n        this.__onExpandClick(node, meta, e, keyboard)\n      }\n\n      if (typeof node.handler === 'function') {\n        node.handler(node)\n      }\n    },\n\n    __onExpandClick (node, meta, e, keyboard) {\n      if (e !== void 0) {\n        stopAndPrevent(e)\n      }\n      keyboard !== true && this.__blur(meta.key)\n      this.setExpanded(meta.key, !meta.expanded, node, meta)\n    },\n\n    __onTickedClick (meta, state) {\n      if (meta.indeterminate === true) {\n        state = meta.indeterminateNextState\n      }\n      if (meta.strictTicking) {\n        this.setTicked([ meta.key ], state)\n      }\n      else if (meta.leafTicking) {\n        const keys = []\n        const travel = meta => {\n          if (meta.isParent) {\n            if (state !== true && meta.noTick !== true && meta.tickable === true) {\n              keys.push(meta.key)\n            }\n            if (meta.leafTicking === true) {\n              meta.children.forEach(travel)\n            }\n          }\n          else if (\n            meta.noTick !== true &&\n            meta.tickable === true &&\n            (meta.leafFilteredTicking !== true || meta.matchesFilter === true)\n          ) {\n            keys.push(meta.key)\n          }\n        }\n        travel(meta)\n        this.setTicked(keys, state)\n      }\n    }\n  },\n\n  render (h) {\n    const children = this.__getChildren(h, this.nodes)\n\n    return h(\n      'div', {\n        class: this.classes\n      },\n      children.length === 0\n        ? (\n          this.filter\n            ? this.noResultsLabel || this.$q.lang.tree.noResults\n            : this.noNodesLabel || this.$q.lang.tree.noNodes\n        )\n        : children\n    )\n  },\n\n  created () {\n    this.defaultExpandAll === true && this.expandAll()\n  }\n})\n"]}]}