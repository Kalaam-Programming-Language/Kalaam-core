{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/plugins/Cookies.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/plugins/Cookies.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWZsb2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvam9ubnkvRGVza3RvcC9teVByb2plY3RzL0thbGFhbS1jb3JlL0ZFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgppbXBvcnQgeyBpc1NTUiB9IGZyb20gJy4vUGxhdGZvcm0uanMnOwoKZnVuY3Rpb24gZW5jb2RlKHN0cmluZykgewogIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKTsKfQoKZnVuY3Rpb24gZGVjb2RlKHN0cmluZykgewogIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyaW5nKTsKfQoKZnVuY3Rpb24gc3RyaW5naWZ5Q29va2llVmFsdWUodmFsdWUpIHsKICByZXR1cm4gZW5jb2RlKHZhbHVlID09PSBPYmplY3QodmFsdWUpID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogJycgKyB2YWx1ZSk7Cn0KCmZ1bmN0aW9uIHJlYWQoc3RyaW5nKSB7CiAgaWYgKHN0cmluZyA9PT0gJycpIHsKICAgIHJldHVybiBzdHJpbmc7CiAgfQoKICBpZiAoc3RyaW5nLmluZGV4T2YoJyInKSA9PT0gMCkgewogICAgLy8gVGhpcyBpcyBhIHF1b3RlZCBjb29raWUgYXMgYWNjb3JkaW5nIHRvIFJGQzIwNjgsIHVuZXNjYXBlLi4uCiAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMSwgLTEpLnJlcGxhY2UoL1xcIi9nLCAnIicpLnJlcGxhY2UoL1xcXFwvZywgJ1xcJyk7CiAgfSAvLyBSZXBsYWNlIHNlcnZlci1zaWRlIHdyaXR0ZW4gcGx1c2VzIHdpdGggc3BhY2VzLgogIC8vIElmIHdlIGNhbid0IGRlY29kZSB0aGUgY29va2llLCBpZ25vcmUgaXQsIGl0J3MgdW51c2FibGUuCiAgLy8gSWYgd2UgY2FuJ3QgcGFyc2UgdGhlIGNvb2tpZSwgaWdub3JlIGl0LCBpdCdzIHVudXNhYmxlLgoKCiAgc3RyaW5nID0gZGVjb2RlKHN0cmluZy5yZXBsYWNlKC9cKy9nLCAnICcpKTsKCiAgdHJ5IHsKICAgIHN0cmluZyA9IEpTT04ucGFyc2Uoc3RyaW5nKTsKICB9IGNhdGNoIChlKSB7fQoKICByZXR1cm4gc3RyaW5nOwp9CgpmdW5jdGlvbiBnZXRTdHJpbmcobXNPZmZzZXQpIHsKICB2YXIgdGltZSA9IG5ldyBEYXRlKCk7CiAgdGltZS5zZXRNaWxsaXNlY29uZHModGltZS5nZXRNaWxsaXNlY29uZHMoKSArIG1zT2Zmc2V0KTsKICByZXR1cm4gdGltZS50b1VUQ1N0cmluZygpOwp9CgpmdW5jdGlvbiBwYXJzZUV4cGlyZVN0cmluZyhzdHIpIHsKICB2YXIgdGltZXN0YW1wID0gMDsKICB2YXIgZGF5cyA9IHN0ci5tYXRjaCgvKFxkKylkLyk7CiAgdmFyIGhvdXJzID0gc3RyLm1hdGNoKC8oXGQrKWgvKTsKICB2YXIgbWludXRlcyA9IHN0ci5tYXRjaCgvKFxkKyltLyk7CiAgdmFyIHNlY29uZHMgPSBzdHIubWF0Y2goLyhcZCspcy8pOwoKICBpZiAoZGF5cykgewogICAgdGltZXN0YW1wICs9IGRheXNbMV0gKiA4NjRlKzU7CiAgfQoKICBpZiAoaG91cnMpIHsKICAgIHRpbWVzdGFtcCArPSBob3Vyc1sxXSAqIDM2ZSs1OwogIH0KCiAgaWYgKG1pbnV0ZXMpIHsKICAgIHRpbWVzdGFtcCArPSBtaW51dGVzWzFdICogNmUrNDsKICB9CgogIGlmIChzZWNvbmRzKSB7CiAgICB0aW1lc3RhbXAgKz0gc2Vjb25kc1sxXSAqIDEwMDA7CiAgfQoKICByZXR1cm4gdGltZXN0YW1wID09PSAwID8gc3RyIDogZ2V0U3RyaW5nKHRpbWVzdGFtcCk7Cn0KCmZ1bmN0aW9uIF9zZXQoa2V5LCB2YWwpIHsKICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgdmFyIHNzciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwogIHZhciBleHBpcmUsIGV4cGlyZVZhbHVlOwoKICBpZiAob3B0cy5leHBpcmVzICE9PSB2b2lkIDApIHsKICAgIC8vIGlmIGl0J3MgYSBEYXRlIE9iamVjdAogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvcHRzLmV4cGlyZXMpID09PSAnW29iamVjdCBEYXRlXScpIHsKICAgICAgZXhwaXJlID0gb3B0cy5leHBpcmVzLnRvVVRDU3RyaW5nKCk7CiAgICB9IC8vIGlmIGl0J3MgYSBTdHJpbmcgKGVnLiAiMTVtIiwgIjFoIiwgIjEzZCIsICIxZCAxNW0iLCAiMzFzIikKICAgIC8vIHBvc3NpYmxlIHVuaXRzOiBkIChkYXlzKSwgaCAoaG91cnMpLCBtIChtaW51dGVzKSwgcyAoc2Vjb25kcykKICAgIGVsc2UgaWYgKHR5cGVvZiBvcHRzLmV4cGlyZXMgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgZXhwaXJlID0gcGFyc2VFeHBpcmVTdHJpbmcob3B0cy5leHBpcmVzKTsKICAgICAgfSAvLyBvdGhlcndpc2UgaXQgbXVzdCBiZSBhIE51bWJlciAoZGVmaW5lZCBpbiBkYXlzKQogICAgICBlbHNlIHsKICAgICAgICAgIGV4cGlyZVZhbHVlID0gcGFyc2VGbG9hdChvcHRzLmV4cGlyZXMpOwogICAgICAgICAgZXhwaXJlID0gaXNOYU4oZXhwaXJlVmFsdWUpID09PSBmYWxzZSA/IGdldFN0cmluZyhleHBpcmVWYWx1ZSAqIDg2NGUrNSkgOiBvcHRzLmV4cGlyZXM7CiAgICAgICAgfQogIH0KCiAgdmFyIGtleVZhbHVlID0gIiIuY29uY2F0KGVuY29kZShrZXkpLCAiPSIpLmNvbmNhdChzdHJpbmdpZnlDb29raWVWYWx1ZSh2YWwpKTsKICB2YXIgY29va2llID0gW2tleVZhbHVlLCBleHBpcmUgIT09IHZvaWQgMCA/ICc7IEV4cGlyZXM9JyArIGV4cGlyZSA6ICcnLCAvLyB1c2UgZXhwaXJlcyBhdHRyaWJ1dGUsIG1heC1hZ2UgaXMgbm90IHN1cHBvcnRlZCBieSBJRQogIG9wdHMucGF0aCA/ICc7IFBhdGg9JyArIG9wdHMucGF0aCA6ICcnLCBvcHRzLmRvbWFpbiA/ICc7IERvbWFpbj0nICsgb3B0cy5kb21haW4gOiAnJywgb3B0cy5zYW1lU2l0ZSA/ICc7IFNhbWVTaXRlPScgKyBvcHRzLnNhbWVTaXRlIDogJycsIG9wdHMuaHR0cE9ubHkgPyAnOyBIdHRwT25seScgOiAnJywgb3B0cy5zZWN1cmUgPyAnOyBTZWN1cmUnIDogJycsIG9wdHMub3RoZXIgPyAnOyAnICsgb3B0cy5vdGhlciA6ICcnXS5qb2luKCcnKTsKCiAgaWYgKHNzcikgewogICAgaWYgKHNzci5yZXEucUNvb2tpZXMpIHsKICAgICAgc3NyLnJlcS5xQ29va2llcy5wdXNoKGNvb2tpZSk7CiAgICB9IGVsc2UgewogICAgICBzc3IucmVxLnFDb29raWVzID0gW2Nvb2tpZV07CiAgICB9CgogICAgc3NyLnJlcy5zZXRIZWFkZXIoJ1NldC1Db29raWUnLCBzc3IucmVxLnFDb29raWVzKTsgLy8gbWFrZSB0ZW1wb3JhcnkgdXBkYXRlIHNvIGZ1dHVyZSBnZXQoKQogICAgLy8gd2l0aGluIHNhbWUgU1NSIHRpbWVmcmFtZSB3b3VsZCByZXR1cm4gdGhlIHNldCB2YWx1ZQoKICAgIHZhciBhbGwgPSBzc3IucmVxLmhlYWRlcnMuY29va2llIHx8ICcnOwoKICAgIGlmIChleHBpcmUgIT09IHZvaWQgMCAmJiBleHBpcmVWYWx1ZSA8IDApIHsKICAgICAgdmFyIF92YWwgPSBfZ2V0KGtleSwgc3NyKTsKCiAgICAgIGlmIChfdmFsICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBhbGwgPSBhbGwucmVwbGFjZSgiIi5jb25jYXQoa2V5LCAiPSIpLmNvbmNhdChfdmFsLCAiOyAiKSwgJycpLnJlcGxhY2UoIjsgIi5jb25jYXQoa2V5LCAiPSIpLmNvbmNhdChfdmFsKSwgJycpLnJlcGxhY2UoIiIuY29uY2F0KGtleSwgIj0iKS5jb25jYXQoX3ZhbCksICcnKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgYWxsID0gYWxsID8gIiIuY29uY2F0KGtleVZhbHVlLCAiOyAiKS5jb25jYXQoYWxsKSA6IGNvb2tpZTsKICAgIH0KCiAgICBzc3IucmVxLmhlYWRlcnMuY29va2llID0gYWxsOwogIH0gZWxzZSB7CiAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWU7CiAgfQp9CgpmdW5jdGlvbiBfZ2V0KGtleSwgc3NyKSB7CiAgdmFyIGNvb2tpZVNvdXJjZSA9IHNzciA/IHNzci5yZXEuaGVhZGVycyA6IGRvY3VtZW50LAogICAgICBjb29raWVzID0gY29va2llU291cmNlLmNvb2tpZSA/IGNvb2tpZVNvdXJjZS5jb29raWUuc3BsaXQoJzsgJykgOiBbXSwKICAgICAgbCA9IGNvb2tpZXMubGVuZ3RoOwogIHZhciByZXN1bHQgPSBrZXkgPyBudWxsIDoge30sCiAgICAgIGkgPSAwLAogICAgICBwYXJ0cywKICAgICAgbmFtZSwKICAgICAgY29va2llOwoKICBmb3IgKDsgaSA8IGw7IGkrKykgewogICAgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7CiAgICBuYW1lID0gZGVjb2RlKHBhcnRzLnNoaWZ0KCkpOwogICAgY29va2llID0gcGFydHMuam9pbignPScpOwoKICAgIGlmICgha2V5KSB7CiAgICAgIHJlc3VsdFtuYW1lXSA9IGNvb2tpZTsKICAgIH0gZWxzZSBpZiAoa2V5ID09PSBuYW1lKSB7CiAgICAgIHJlc3VsdCA9IHJlYWQoY29va2llKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmVzdWx0Owp9CgpmdW5jdGlvbiBfcmVtb3ZlKGtleSwgb3B0aW9ucywgc3NyKSB7CiAgX3NldChrZXksICcnLCBfb2JqZWN0U3ByZWFkKHsKICAgIGV4cGlyZXM6IC0xCiAgfSwgb3B0aW9ucyksIHNzcik7Cn0KCmZ1bmN0aW9uIF9oYXMoa2V5LCBzc3IpIHsKICByZXR1cm4gX2dldChrZXksIHNzcikgIT09IG51bGw7Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRPYmplY3Qoc3NyKSB7CiAgcmV0dXJuIHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KGtleSkgewogICAgICByZXR1cm4gX2dldChrZXksIHNzcik7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWwsIG9wdHMpIHsKICAgICAgcmV0dXJuIF9zZXQoa2V5LCB2YWwsIG9wdHMsIHNzcik7CiAgICB9LAogICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7CiAgICAgIHJldHVybiBfaGFzKGtleSwgc3NyKTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShrZXksIG9wdGlvbnMpIHsKICAgICAgcmV0dXJuIF9yZW1vdmUoa2V5LCBvcHRpb25zLCBzc3IpOwogICAgfSwKICAgIGdldEFsbDogZnVuY3Rpb24gZ2V0QWxsKCkgewogICAgICByZXR1cm4gX2dldChudWxsLCBzc3IpOwogICAgfQogIH07Cn0KZXhwb3J0IGRlZmF1bHQgewogIHBhcnNlU1NSOiBmdW5jdGlvbiBwYXJzZVNTUihzc3JDb250ZXh0KSB7CiAgICByZXR1cm4gc3NyQ29udGV4dCAhPT0gdm9pZCAwID8gZ2V0T2JqZWN0KHNzckNvbnRleHQpIDogdGhpczsKICB9LAogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoX3JlZikgewogICAgdmFyICRxID0gX3JlZi4kcSwKICAgICAgICBxdWV1ZXMgPSBfcmVmLnF1ZXVlczsKCiAgICBpZiAoaXNTU1IgPT09IHRydWUpIHsKICAgICAgcXVldWVzLnNlcnZlci5wdXNoKGZ1bmN0aW9uIChxLCBjdHgpIHsKICAgICAgICBxLmNvb2tpZXMgPSBnZXRPYmplY3QoY3R4LnNzcik7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBnZXRPYmplY3QoKSk7CiAgICAgICRxLmNvb2tpZXMgPSB0aGlzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/plugins/Cookies.js"],"names":["isSSR","encode","string","encodeURIComponent","decode","decodeURIComponent","stringifyCookieValue","value","Object","JSON","stringify","read","indexOf","slice","replace","parse","e","getString","msOffset","time","Date","setMilliseconds","getMilliseconds","toUTCString","parseExpireString","str","timestamp","days","match","hours","minutes","seconds","set","key","val","opts","ssr","expire","expireValue","expires","prototype","toString","call","parseFloat","isNaN","keyValue","cookie","path","domain","sameSite","httpOnly","secure","other","join","req","qCookies","push","res","setHeader","all","headers","get","undefined","document","cookieSource","cookies","split","l","length","result","i","parts","name","shift","remove","options","has","getObject","getAll","parseSSR","ssrContext","install","$q","queues","server","q","ctx","assign"],"mappings":"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","sourcesContent":["import { isSSR } from './Platform.js'\n\nfunction encode (string) {\n  return encodeURIComponent(string)\n}\n\nfunction decode (string) {\n  return decodeURIComponent(string)\n}\n\nfunction stringifyCookieValue (value) {\n  return encode(value === Object(value) ? JSON.stringify(value) : '' + value)\n}\n\nfunction read (string) {\n  if (string === '') {\n    return string\n  }\n\n  if (string.indexOf('\"') === 0) {\n    // This is a quoted cookie as according to RFC2068, unescape...\n    string = string.slice(1, -1).replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\')\n  }\n\n  // Replace server-side written pluses with spaces.\n  // If we can't decode the cookie, ignore it, it's unusable.\n  // If we can't parse the cookie, ignore it, it's unusable.\n  string = decode(string.replace(/\\+/g, ' '))\n\n  try {\n    string = JSON.parse(string)\n  }\n  catch (e) {}\n\n  return string\n}\n\nfunction getString (msOffset) {\n  const time = new Date()\n  time.setMilliseconds(time.getMilliseconds() + msOffset)\n  return time.toUTCString()\n}\n\nfunction parseExpireString (str) {\n  let timestamp = 0\n\n  const days = str.match(/(\\d+)d/)\n  const hours = str.match(/(\\d+)h/)\n  const minutes = str.match(/(\\d+)m/)\n  const seconds = str.match(/(\\d+)s/)\n\n  if (days) { timestamp += days[1] * 864e+5 }\n  if (hours) { timestamp += hours[1] * 36e+5 }\n  if (minutes) { timestamp += minutes[1] * 6e+4 }\n  if (seconds) { timestamp += seconds[1] * 1000 }\n\n  return timestamp === 0\n    ? str\n    : getString(timestamp)\n}\n\nfunction set (key, val, opts = {}, ssr) {\n  let expire, expireValue\n\n  if (opts.expires !== void 0) {\n    // if it's a Date Object\n    if (Object.prototype.toString.call(opts.expires) === '[object Date]') {\n      expire = opts.expires.toUTCString()\n    }\n    // if it's a String (eg. \"15m\", \"1h\", \"13d\", \"1d 15m\", \"31s\")\n    // possible units: d (days), h (hours), m (minutes), s (seconds)\n    else if (typeof opts.expires === 'string') {\n      expire = parseExpireString(opts.expires)\n    }\n    // otherwise it must be a Number (defined in days)\n    else {\n      expireValue = parseFloat(opts.expires)\n      expire = isNaN(expireValue) === false\n        ? getString(expireValue * 864e+5)\n        : opts.expires\n    }\n  }\n\n  const keyValue = `${encode(key)}=${stringifyCookieValue(val)}`\n\n  const cookie = [\n    keyValue,\n    expire !== void 0 ? '; Expires=' + expire : '', // use expires attribute, max-age is not supported by IE\n    opts.path ? '; Path=' + opts.path : '',\n    opts.domain ? '; Domain=' + opts.domain : '',\n    opts.sameSite ? '; SameSite=' + opts.sameSite : '',\n    opts.httpOnly ? '; HttpOnly' : '',\n    opts.secure ? '; Secure' : '',\n    opts.other ? '; ' + opts.other : ''\n  ].join('')\n\n  if (ssr) {\n    if (ssr.req.qCookies) {\n      ssr.req.qCookies.push(cookie)\n    }\n    else {\n      ssr.req.qCookies = [ cookie ]\n    }\n\n    ssr.res.setHeader('Set-Cookie', ssr.req.qCookies)\n\n    // make temporary update so future get()\n    // within same SSR timeframe would return the set value\n\n    let all = ssr.req.headers.cookie || ''\n\n    if (expire !== void 0 && expireValue < 0) {\n      const val = get(key, ssr)\n      if (val !== undefined) {\n        all = all\n          .replace(`${key}=${val}; `, '')\n          .replace(`; ${key}=${val}`, '')\n          .replace(`${key}=${val}`, '')\n      }\n    }\n    else {\n      all = all\n        ? `${keyValue}; ${all}`\n        : cookie\n    }\n\n    ssr.req.headers.cookie = all\n  }\n  else {\n    document.cookie = cookie\n  }\n}\n\nfunction get (key, ssr) {\n  const\n    cookieSource = ssr ? ssr.req.headers : document,\n    cookies = cookieSource.cookie ? cookieSource.cookie.split('; ') : [],\n    l = cookies.length\n  let\n    result = key ? null : {},\n    i = 0,\n    parts,\n    name,\n    cookie\n\n  for (; i < l; i++) {\n    parts = cookies[i].split('=')\n    name = decode(parts.shift())\n    cookie = parts.join('=')\n\n    if (!key) {\n      result[name] = cookie\n    }\n    else if (key === name) {\n      result = read(cookie)\n      break\n    }\n  }\n\n  return result\n}\n\nfunction remove (key, options, ssr) {\n  set(\n    key,\n    '',\n    { expires: -1, ...options },\n    ssr\n  )\n}\n\nfunction has (key, ssr) {\n  return get(key, ssr) !== null\n}\n\nexport function getObject (ssr) {\n  return {\n    get: key => get(key, ssr),\n    set: (key, val, opts) => set(key, val, opts, ssr),\n    has: key => has(key, ssr),\n    remove: (key, options) => remove(key, options, ssr),\n    getAll: () => get(null, ssr)\n  }\n}\n\nexport default {\n  parseSSR (ssrContext) {\n    return ssrContext !== void 0\n      ? getObject(ssrContext)\n      : this\n  },\n\n  install ({ $q, queues }) {\n    if (isSSR === true) {\n      queues.server.push((q, ctx) => {\n        q.cookies = getObject(ctx.ssr)\n      })\n    }\n    else {\n      Object.assign(this, getObject())\n      $q.cookies = this\n    }\n  }\n}\n"]}]}