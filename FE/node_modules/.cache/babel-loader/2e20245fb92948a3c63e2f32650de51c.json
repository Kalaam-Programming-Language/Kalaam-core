{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZXZlcnNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2pvbm55L0Rlc2t0b3AvbXlQcm9qZWN0cy9LYWxhYW0tQkUvRkUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IExpc3RlbmVyc01peGluIGZyb20gJy4uLy4uL21peGlucy9saXN0ZW5lcnMuanMnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnLi4vLi4vdXRpbHMvZGVib3VuY2UuanMnOwppbXBvcnQgeyBoZWlnaHQgfSBmcm9tICcuLi8uLi91dGlscy9kb20uanMnOwppbXBvcnQgeyBnZXRTY3JvbGxUYXJnZXQsIGdldFNjcm9sbEhlaWdodCwgZ2V0U2Nyb2xsUG9zaXRpb24sIHNldFNjcm9sbFBvc2l0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2Nyb2xsLmpzJzsKaW1wb3J0IHsgbGlzdGVuT3B0cyB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50LmpzJzsKaW1wb3J0IHsgc2xvdCwgdW5pcXVlU2xvdCB9IGZyb20gJy4uLy4uL3V0aWxzL3Nsb3QuanMnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnUUluZmluaXRlU2Nyb2xsJywKICBtaXhpbnM6IFtMaXN0ZW5lcnNNaXhpbl0sCiAgcHJvcHM6IHsKICAgIG9mZnNldDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICJkZWZhdWx0IjogNTAwCiAgICB9LAogICAgZGVib3VuY2U6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgImRlZmF1bHQiOiAxMDAKICAgIH0sCiAgICBzY3JvbGxUYXJnZXQ6IHsKICAgICAgImRlZmF1bHQiOiB2b2lkIDAKICAgIH0sCiAgICBkaXNhYmxlOiBCb29sZWFuLAogICAgcmV2ZXJzZTogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGluZGV4OiAwLAogICAgICBmZXRjaGluZzogZmFsc2UsCiAgICAgIHdvcmtpbmc6IHRydWUKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSh2YWwpIHsKICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuc3RvcCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVzdW1lKCk7CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxUYXJnZXQ6IGZ1bmN0aW9uIHNjcm9sbFRhcmdldCgpIHsKICAgICAgdGhpcy51cGRhdGVTY3JvbGxUYXJnZXQoKTsKICAgIH0sCiAgICBkZWJvdW5jZTogZnVuY3Rpb24gZGVib3VuY2UodmFsKSB7CiAgICAgIHRoaXMuX19zZXREZWJvdW5jZSh2YWwpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcG9sbDogZnVuY3Rpb24gcG9sbCgpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZSA9PT0gdHJ1ZSB8fCB0aGlzLmZldGNoaW5nID09PSB0cnVlIHx8IHRoaXMud29ya2luZyA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSBnZXRTY3JvbGxIZWlnaHQodGhpcy5fX3Njcm9sbFRhcmdldCksCiAgICAgICAgICBzY3JvbGxQb3NpdGlvbiA9IGdldFNjcm9sbFBvc2l0aW9uKHRoaXMuX19zY3JvbGxUYXJnZXQpLAogICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gaGVpZ2h0KHRoaXMuX19zY3JvbGxUYXJnZXQpOwoKICAgICAgaWYgKHRoaXMucmV2ZXJzZSA9PT0gZmFsc2UpIHsKICAgICAgICBpZiAoc2Nyb2xsUG9zaXRpb24gKyBjb250YWluZXJIZWlnaHQgKyB0aGlzLm9mZnNldCA+PSBzY3JvbGxIZWlnaHQpIHsKICAgICAgICAgIHRoaXMudHJpZ2dlcigpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2Nyb2xsUG9zaXRpb24gPCB0aGlzLm9mZnNldCkgewogICAgICAgICAgdGhpcy50cmlnZ2VyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdHJpZ2dlcjogZnVuY3Rpb24gdHJpZ2dlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmRpc2FibGUgPT09IHRydWUgfHwgdGhpcy5mZXRjaGluZyA9PT0gdHJ1ZSB8fCB0aGlzLndvcmtpbmcgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmluZGV4Kys7CiAgICAgIHRoaXMuZmV0Y2hpbmcgPSB0cnVlOwogICAgICB2YXIgaGVpZ2h0QmVmb3JlID0gZ2V0U2Nyb2xsSGVpZ2h0KHRoaXMuX19zY3JvbGxUYXJnZXQpOwogICAgICB0aGlzLiRlbWl0KCdsb2FkJywgdGhpcy5pbmRleCwgZnVuY3Rpb24gKHN0b3ApIHsKICAgICAgICBpZiAoX3RoaXMud29ya2luZyA9PT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMuZmV0Y2hpbmcgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoX3RoaXMucmV2ZXJzZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIHZhciBoZWlnaHRBZnRlciA9IGdldFNjcm9sbEhlaWdodChfdGhpcy5fX3Njcm9sbFRhcmdldCksCiAgICAgICAgICAgICAgICAgIHNjcm9sbFBvc2l0aW9uID0gZ2V0U2Nyb2xsUG9zaXRpb24oX3RoaXMuX19zY3JvbGxUYXJnZXQpLAogICAgICAgICAgICAgICAgICBoZWlnaHREaWZmZXJlbmNlID0gaGVpZ2h0QWZ0ZXIgLSBoZWlnaHRCZWZvcmU7CiAgICAgICAgICAgICAgc2V0U2Nyb2xsUG9zaXRpb24oX3RoaXMuX19zY3JvbGxUYXJnZXQsIHNjcm9sbFBvc2l0aW9uICsgaGVpZ2h0RGlmZmVyZW5jZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzdG9wID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgX3RoaXMuc3RvcCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRlbC5jbG9zZXN0KCdib2R5JykgJiYgX3RoaXMucG9sbCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5pbmRleCA9IDA7CiAgICB9LAogICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7CiAgICAgIGlmICh0aGlzLndvcmtpbmcgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy53b3JraW5nID0gdHJ1ZTsKCiAgICAgICAgdGhpcy5fX3Njcm9sbFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnBvbGwsIGxpc3Rlbk9wdHMucGFzc2l2ZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuaW1tZWRpYXRlUG9sbCgpOwogICAgfSwKICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIGlmICh0aGlzLndvcmtpbmcgPT09IHRydWUpIHsKICAgICAgICB0aGlzLndvcmtpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmZldGNoaW5nID0gZmFsc2U7CgogICAgICAgIHRoaXMuX19zY3JvbGxUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5wb2xsLCBsaXN0ZW5PcHRzLnBhc3NpdmUpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlU2Nyb2xsVGFyZ2V0OiBmdW5jdGlvbiB1cGRhdGVTY3JvbGxUYXJnZXQoKSB7CiAgICAgIGlmICh0aGlzLl9fc2Nyb2xsVGFyZ2V0ICYmIHRoaXMud29ya2luZyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuX19zY3JvbGxUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5wb2xsLCBsaXN0ZW5PcHRzLnBhc3NpdmUpOwogICAgICB9CgogICAgICB0aGlzLl9fc2Nyb2xsVGFyZ2V0ID0gZ2V0U2Nyb2xsVGFyZ2V0KHRoaXMuJGVsLCB0aGlzLnNjcm9sbFRhcmdldCk7CgogICAgICBpZiAodGhpcy53b3JraW5nID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5fX3Njcm9sbFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnBvbGwsIGxpc3Rlbk9wdHMucGFzc2l2ZSk7CiAgICAgIH0KICAgIH0sCiAgICBfX3NldERlYm91bmNlOiBmdW5jdGlvbiBfX3NldERlYm91bmNlKHZhbCkgewogICAgICB2YWwgPSBwYXJzZUludCh2YWwsIDEwKTsKCiAgICAgIGlmICh2YWwgPD0gMCkgewogICAgICAgIHRoaXMucG9sbCA9IHRoaXMuaW1tZWRpYXRlUG9sbDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBvbGwgPSBkZWJvdW5jZSh0aGlzLmltbWVkaWF0ZVBvbGwsIGlzTmFOKHZhbCkgPT09IHRydWUgPyAxMDAgOiB2YWwpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbW1lZGlhdGVQb2xsID0gdGhpcy5wb2xsOwoKICAgIHRoaXMuX19zZXREZWJvdW5jZSh0aGlzLmRlYm91bmNlKTsKCiAgICB0aGlzLnVwZGF0ZVNjcm9sbFRhcmdldCgpOwogICAgdGhpcy5pbW1lZGlhdGVQb2xsKCk7CgogICAgaWYgKHRoaXMucmV2ZXJzZSA9PT0gdHJ1ZSkgewogICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gZ2V0U2Nyb2xsSGVpZ2h0KHRoaXMuX19zY3JvbGxUYXJnZXQpLAogICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gaGVpZ2h0KHRoaXMuX19zY3JvbGxUYXJnZXQpOwogICAgICBzZXRTY3JvbGxQb3NpdGlvbih0aGlzLl9fc2Nyb2xsVGFyZ2V0LCBzY3JvbGxIZWlnaHQgLSBjb250YWluZXJIZWlnaHQpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLndvcmtpbmcgPT09IHRydWUpIHsKICAgICAgdGhpcy5fX3Njcm9sbFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnBvbGwsIGxpc3Rlbk9wdHMucGFzc2l2ZSk7CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgY2hpbGQgPSB1bmlxdWVTbG90KHRoaXMsICdkZWZhdWx0JywgW10pOwoKICAgIGlmICh0aGlzLmRpc2FibGUgIT09IHRydWUgJiYgdGhpcy53b3JraW5nID09PSB0cnVlKSB7CiAgICAgIGNoaWxkW3RoaXMucmV2ZXJzZSA9PT0gZmFsc2UgPyAncHVzaCcgOiAndW5zaGlmdCddKGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtaW5maW5pdGUtc2Nyb2xsX19sb2FkaW5nJywKICAgICAgICAiY2xhc3MiOiB0aGlzLmZldGNoaW5nID09PSB0cnVlID8gJycgOiAnaW52aXNpYmxlJwogICAgICB9LCBzbG90KHRoaXMsICdsb2FkaW5nJykpKTsKICAgIH0KCiAgICByZXR1cm4gaCgnZGl2JywgewogICAgICBzdGF0aWNDbGFzczogJ3EtaW5maW5pdGUtc2Nyb2xsJywKICAgICAgb246IF9vYmplY3RTcHJlYWQoe30sIHRoaXMucUxpc3RlbmVycykKICAgIH0sIGNoaWxkKTsKICB9Cn0pOw=="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js"],"names":["Vue","ListenersMixin","debounce","height","getScrollTarget","getScrollHeight","getScrollPosition","setScrollPosition","listenOpts","slot","uniqueSlot","extend","name","mixins","props","offset","type","Number","String","scrollTarget","disable","Boolean","reverse","data","index","fetching","working","watch","val","stop","resume","updateScrollTarget","__setDebounce","methods","poll","scrollHeight","__scrollTarget","scrollPosition","containerHeight","trigger","heightBefore","$emit","$nextTick","heightAfter","heightDifference","$el","closest","reset","addEventListener","passive","immediatePoll","removeEventListener","parseInt","isNaN","mounted","beforeDestroy","render","h","child","staticClass","on","qListeners"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport ListenersMixin from '../../mixins/listeners.js'\n\nimport debounce from '../../utils/debounce.js'\nimport { height } from '../../utils/dom.js'\nimport { getScrollTarget, getScrollHeight, getScrollPosition, setScrollPosition } from '../../utils/scroll.js'\nimport { listenOpts } from '../../utils/event.js'\nimport { slot, uniqueSlot } from '../../utils/slot.js'\n\nexport default Vue.extend({\n  name: 'QInfiniteScroll',\n\n  mixins: [ ListenersMixin ],\n\n  props: {\n    offset: {\n      type: Number,\n      default: 500\n    },\n\n    debounce: {\n      type: [ String, Number ],\n      default: 100\n    },\n\n    scrollTarget: {\n      default: void 0\n    },\n\n    disable: Boolean,\n    reverse: Boolean\n  },\n\n  data () {\n    return {\n      index: 0,\n      fetching: false,\n      working: true\n    }\n  },\n\n  watch: {\n    disable (val) {\n      if (val === true) {\n        this.stop()\n      }\n      else {\n        this.resume()\n      }\n    },\n\n    scrollTarget () {\n      this.updateScrollTarget()\n    },\n\n    debounce (val) {\n      this.__setDebounce(val)\n    }\n  },\n\n  methods: {\n    poll () {\n      if (this.disable === true || this.fetching === true || this.working === false) {\n        return\n      }\n\n      const\n        scrollHeight = getScrollHeight(this.__scrollTarget),\n        scrollPosition = getScrollPosition(this.__scrollTarget),\n        containerHeight = height(this.__scrollTarget)\n\n      if (this.reverse === false) {\n        if (scrollPosition + containerHeight + this.offset >= scrollHeight) {\n          this.trigger()\n        }\n      }\n      else {\n        if (scrollPosition < this.offset) {\n          this.trigger()\n        }\n      }\n    },\n\n    trigger () {\n      if (this.disable === true || this.fetching === true || this.working === false) {\n        return\n      }\n\n      this.index++\n      this.fetching = true\n\n      const heightBefore = getScrollHeight(this.__scrollTarget)\n\n      this.$emit('load', this.index, stop => {\n        if (this.working === true) {\n          this.fetching = false\n          this.$nextTick(() => {\n            if (this.reverse === true) {\n              const\n                heightAfter = getScrollHeight(this.__scrollTarget),\n                scrollPosition = getScrollPosition(this.__scrollTarget),\n                heightDifference = heightAfter - heightBefore\n\n              setScrollPosition(this.__scrollTarget, scrollPosition + heightDifference)\n            }\n\n            if (stop === true) {\n              this.stop()\n            }\n            else {\n              this.$el.closest('body') && this.poll()\n            }\n          })\n        }\n      })\n    },\n\n    reset () {\n      this.index = 0\n    },\n\n    resume () {\n      if (this.working === false) {\n        this.working = true\n        this.__scrollTarget.addEventListener('scroll', this.poll, listenOpts.passive)\n      }\n      this.immediatePoll()\n    },\n\n    stop () {\n      if (this.working === true) {\n        this.working = false\n        this.fetching = false\n        this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n      }\n    },\n\n    updateScrollTarget () {\n      if (this.__scrollTarget && this.working === true) {\n        this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n      }\n\n      this.__scrollTarget = getScrollTarget(this.$el, this.scrollTarget)\n\n      if (this.working === true) {\n        this.__scrollTarget.addEventListener('scroll', this.poll, listenOpts.passive)\n      }\n    },\n\n    __setDebounce (val) {\n      val = parseInt(val, 10)\n      if (val <= 0) {\n        this.poll = this.immediatePoll\n      }\n      else {\n        this.poll = debounce(this.immediatePoll, isNaN(val) === true ? 100 : val)\n      }\n    }\n  },\n\n  mounted () {\n    this.immediatePoll = this.poll\n    this.__setDebounce(this.debounce)\n\n    this.updateScrollTarget()\n    this.immediatePoll()\n\n    if (this.reverse === true) {\n      const\n        scrollHeight = getScrollHeight(this.__scrollTarget),\n        containerHeight = height(this.__scrollTarget)\n\n      setScrollPosition(this.__scrollTarget, scrollHeight - containerHeight)\n    }\n  },\n\n  beforeDestroy () {\n    if (this.working === true) {\n      this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n    }\n  },\n\n  render (h) {\n    const child = uniqueSlot(this, 'default', [])\n\n    if (this.disable !== true && this.working === true) {\n      child[this.reverse === false ? 'push' : 'unshift'](\n        h('div', {\n          staticClass: 'q-infinite-scroll__loading',\n          class: this.fetching === true ? '' : 'invisible'\n        }, slot(this, 'loading'))\n      )\n    }\n\n    return h('div', {\n      staticClass: 'q-infinite-scroll',\n      on: { ...this.qListeners }\n    }, child)\n  }\n})\n"]}]}