{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/directives/TouchSwipe.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/directives/TouchSwipe.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLm5vdyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtZmxvYXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzIjsKaW1wb3J0IHsgY2xpZW50IH0gZnJvbSAnLi4vcGx1Z2lucy9QbGF0Zm9ybS5qcyc7CmltcG9ydCB7IGdldE1vZGlmaWVyRGlyZWN0aW9ucywgdXBkYXRlTW9kaWZpZXJzLCBnZXRUb3VjaFRhcmdldCwgc2hvdWxkU3RhcnQgfSBmcm9tICcuLi91dGlscy90b3VjaC5qcyc7CmltcG9ydCB7IGFkZEV2dCwgY2xlYW5FdnQsIHBvc2l0aW9uLCBsZWZ0Q2xpY2ssIHN0b3BBbmRQcmV2ZW50LCBwcmV2ZW50RHJhZ2dhYmxlLCBub29wIH0gZnJvbSAnLi4vdXRpbHMvZXZlbnQuanMnOwppbXBvcnQgeyBjbGVhclNlbGVjdGlvbiB9IGZyb20gJy4uL3V0aWxzL3NlbGVjdGlvbi5qcyc7CgpmdW5jdGlvbiBwYXJzZUFyZyhhcmcpIHsKICAvLyBkZWx0YSAobWluIHZlbG9jaXR5IC0tIGRpc3QgLyB0aW1lKQogIC8vIG1vYmlsZSBtaW4gZGlzdGFuY2Ugb24gZmlyc3QgbW92ZQogIC8vIGRlc2t0b3AgbWluIGRpc3RhbmNlIHVudGlsIGRlY2lkaW5nIGlmIGl0J3MgYSBzd2lwZSBvciBub3QKICB2YXIgZGF0YSA9IFswLjA2LCA2LCA1MF07CgogIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJyAmJiBhcmcubGVuZ3RoKSB7CiAgICBhcmcuc3BsaXQoJzonKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7CiAgICAgIHZhciB2ID0gcGFyc2VGbG9hdCh2YWwpOwogICAgICB2ICYmIChkYXRhW2luZGV4XSA9IHYpOwogICAgfSk7CiAgfQoKICByZXR1cm4gZGF0YTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd0b3VjaC1zd2lwZScsCiAgYmluZDogZnVuY3Rpb24gYmluZChlbCwgX3JlZikgewogICAgdmFyIHZhbHVlID0gX3JlZi52YWx1ZSwKICAgICAgICBhcmcgPSBfcmVmLmFyZywKICAgICAgICBtb2RpZmllcnMgPSBfcmVmLm1vZGlmaWVyczsKCiAgICAvLyBlYXJseSByZXR1cm4sIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcKICAgIGlmIChtb2RpZmllcnMubW91c2UgIT09IHRydWUgJiYgY2xpZW50Lmhhcy50b3VjaCAhPT0gdHJ1ZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIG1vdXNlQ2FwdHVyZSA9IG1vZGlmaWVycy5tb3VzZUNhcHR1cmUgPT09IHRydWUgPyAnQ2FwdHVyZScgOiAnJzsKICAgIHZhciBjdHggPSB7CiAgICAgIGhhbmRsZXI6IHZhbHVlLAogICAgICBzZW5zaXRpdml0eTogcGFyc2VBcmcoYXJnKSwKICAgICAgbW9kaWZpZXJzOiBtb2RpZmllcnMsCiAgICAgIGRpcmVjdGlvbjogZ2V0TW9kaWZpZXJEaXJlY3Rpb25zKG1vZGlmaWVycyksCiAgICAgIG5vb3A6IG5vb3AsCiAgICAgIG1vdXNlU3RhcnQ6IGZ1bmN0aW9uIG1vdXNlU3RhcnQoZXZ0KSB7CiAgICAgICAgaWYgKHNob3VsZFN0YXJ0KGV2dCwgY3R4KSAmJiBsZWZ0Q2xpY2soZXZ0KSkgewogICAgICAgICAgYWRkRXZ0KGN0eCwgJ3RlbXAnLCBbW2RvY3VtZW50LCAnbW91c2Vtb3ZlJywgJ21vdmUnLCAibm90UGFzc2l2ZSIuY29uY2F0KG1vdXNlQ2FwdHVyZSldLCBbZG9jdW1lbnQsICdtb3VzZXVwJywgJ2VuZCcsICdub3RQYXNzaXZlQ2FwdHVyZSddXSk7CiAgICAgICAgICBjdHguc3RhcnQoZXZ0LCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRvdWNoU3RhcnQ6IGZ1bmN0aW9uIHRvdWNoU3RhcnQoZXZ0KSB7CiAgICAgICAgaWYgKHNob3VsZFN0YXJ0KGV2dCwgY3R4KSkgewogICAgICAgICAgdmFyIHRhcmdldCA9IGdldFRvdWNoVGFyZ2V0KGV2dC50YXJnZXQpOwogICAgICAgICAgYWRkRXZ0KGN0eCwgJ3RlbXAnLCBbW3RhcmdldCwgJ3RvdWNobW92ZScsICdtb3ZlJywgJ25vdFBhc3NpdmVDYXB0dXJlJ10sIFt0YXJnZXQsICd0b3VjaGNhbmNlbCcsICdlbmQnLCAnbm90UGFzc2l2ZUNhcHR1cmUnXSwgW3RhcmdldCwgJ3RvdWNoZW5kJywgJ2VuZCcsICdub3RQYXNzaXZlQ2FwdHVyZSddXSk7CiAgICAgICAgICBjdHguc3RhcnQoZXZ0KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChldnQsIG1vdXNlRXZlbnQpIHsKICAgICAgICBjbGllbnQuaXMuZmlyZWZveCA9PT0gdHJ1ZSAmJiBwcmV2ZW50RHJhZ2dhYmxlKGVsLCB0cnVlKTsKICAgICAgICB2YXIgcG9zID0gcG9zaXRpb24oZXZ0KTsKICAgICAgICBjdHguZXZlbnQgPSB7CiAgICAgICAgICB4OiBwb3MubGVmdCwKICAgICAgICAgIHk6IHBvcy50b3AsCiAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLAogICAgICAgICAgbW91c2U6IG1vdXNlRXZlbnQgPT09IHRydWUsCiAgICAgICAgICBkaXI6IGZhbHNlCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgbW92ZTogZnVuY3Rpb24gbW92ZShldnQpIHsKICAgICAgICBpZiAoY3R4LmV2ZW50ID09PSB2b2lkIDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChjdHguZXZlbnQuZGlyICE9PSBmYWxzZSkgewogICAgICAgICAgc3RvcEFuZFByZXZlbnQoZXZ0KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKSAtIGN0eC5ldmVudC50aW1lOwoKICAgICAgICBpZiAodGltZSA9PT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHBvcyA9IHBvc2l0aW9uKGV2dCksCiAgICAgICAgICAgIGRpc3RYID0gcG9zLmxlZnQgLSBjdHguZXZlbnQueCwKICAgICAgICAgICAgYWJzWCA9IE1hdGguYWJzKGRpc3RYKSwKICAgICAgICAgICAgZGlzdFkgPSBwb3MudG9wIC0gY3R4LmV2ZW50LnksCiAgICAgICAgICAgIGFic1kgPSBNYXRoLmFicyhkaXN0WSk7CgogICAgICAgIGlmIChjdHguZXZlbnQubW91c2UgIT09IHRydWUpIHsKICAgICAgICAgIGlmIChhYnNYIDwgY3R4LnNlbnNpdGl2aXR5WzFdICYmIGFic1kgPCBjdHguc2Vuc2l0aXZpdHlbMV0pIHsKICAgICAgICAgICAgY3R4LmVuZChldnQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChhYnNYIDwgY3R4LnNlbnNpdGl2aXR5WzJdICYmIGFic1kgPCBjdHguc2Vuc2l0aXZpdHlbMl0pIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciB2ZWxYID0gYWJzWCAvIHRpbWUsCiAgICAgICAgICAgIHZlbFkgPSBhYnNZIC8gdGltZTsKCiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24udmVydGljYWwgPT09IHRydWUgJiYgYWJzWCA8IGFic1kgJiYgYWJzWCA8IDEwMCAmJiB2ZWxZID4gY3R4LnNlbnNpdGl2aXR5WzBdKSB7CiAgICAgICAgICBjdHguZXZlbnQuZGlyID0gZGlzdFkgPCAwID8gJ3VwJyA6ICdkb3duJzsKICAgICAgICB9CgogICAgICAgIGlmIChjdHguZGlyZWN0aW9uLmhvcml6b250YWwgPT09IHRydWUgJiYgYWJzWCA+IGFic1kgJiYgYWJzWSA8IDEwMCAmJiB2ZWxYID4gY3R4LnNlbnNpdGl2aXR5WzBdKSB7CiAgICAgICAgICBjdHguZXZlbnQuZGlyID0gZGlzdFggPCAwID8gJ2xlZnQnIDogJ3JpZ2h0JzsKICAgICAgICB9CgogICAgICAgIGlmIChjdHguZGlyZWN0aW9uLnVwID09PSB0cnVlICYmIGFic1ggPCBhYnNZICYmIGRpc3RZIDwgMCAmJiBhYnNYIDwgMTAwICYmIHZlbFkgPiBjdHguc2Vuc2l0aXZpdHlbMF0pIHsKICAgICAgICAgIGN0eC5ldmVudC5kaXIgPSAndXAnOwogICAgICAgIH0KCiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24uZG93biA9PT0gdHJ1ZSAmJiBhYnNYIDwgYWJzWSAmJiBkaXN0WSA+IDAgJiYgYWJzWCA8IDEwMCAmJiB2ZWxZID4gY3R4LnNlbnNpdGl2aXR5WzBdKSB7CiAgICAgICAgICBjdHguZXZlbnQuZGlyID0gJ2Rvd24nOwogICAgICAgIH0KCiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24ubGVmdCA9PT0gdHJ1ZSAmJiBhYnNYID4gYWJzWSAmJiBkaXN0WCA8IDAgJiYgYWJzWSA8IDEwMCAmJiB2ZWxYID4gY3R4LnNlbnNpdGl2aXR5WzBdKSB7CiAgICAgICAgICBjdHguZXZlbnQuZGlyID0gJ2xlZnQnOwogICAgICAgIH0KCiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24ucmlnaHQgPT09IHRydWUgJiYgYWJzWCA+IGFic1kgJiYgZGlzdFggPiAwICYmIGFic1kgPCAxMDAgJiYgdmVsWCA+IGN0eC5zZW5zaXRpdml0eVswXSkgewogICAgICAgICAgY3R4LmV2ZW50LmRpciA9ICdyaWdodCc7CiAgICAgICAgfQoKICAgICAgICBpZiAoY3R4LmV2ZW50LmRpciAhPT0gZmFsc2UpIHsKICAgICAgICAgIHN0b3BBbmRQcmV2ZW50KGV2dCk7CgogICAgICAgICAgaWYgKGN0eC5ldmVudC5tb3VzZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ25vLXBvaW50ZXItZXZlbnRzLS1jaGlsZHJlbicpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ25vbi1zZWxlY3RhYmxlJyk7CiAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uKCk7CgogICAgICAgICAgICBjdHguc3R5bGVDbGVhbnVwID0gZnVuY3Rpb24gKHdpdGhEZWxheSkgewogICAgICAgICAgICAgIGN0eC5zdHlsZUNsZWFudXAgPSB2b2lkIDA7CiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdub24tc2VsZWN0YWJsZScpOwoKICAgICAgICAgICAgICB2YXIgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCduby1wb2ludGVyLWV2ZW50cy0tY2hpbGRyZW4nKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBpZiAod2l0aERlbGF5ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZSwgNTApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZW1vdmUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CgogICAgICAgICAgY3R4LmhhbmRsZXIoewogICAgICAgICAgICBldnQ6IGV2dCwKICAgICAgICAgICAgdG91Y2g6IGN0eC5ldmVudC5tb3VzZSAhPT0gdHJ1ZSwKICAgICAgICAgICAgbW91c2U6IGN0eC5ldmVudC5tb3VzZSwKICAgICAgICAgICAgZGlyZWN0aW9uOiBjdHguZXZlbnQuZGlyLAogICAgICAgICAgICBkdXJhdGlvbjogdGltZSwKICAgICAgICAgICAgZGlzdGFuY2U6IHsKICAgICAgICAgICAgICB4OiBhYnNYLAogICAgICAgICAgICAgIHk6IGFic1kKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5lbmQoZXZ0KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVuZDogZnVuY3Rpb24gZW5kKGV2dCkgewogICAgICAgIGlmIChjdHguZXZlbnQgPT09IHZvaWQgMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY2xlYW5FdnQoY3R4LCAndGVtcCcpOwogICAgICAgIGNsaWVudC5pcy5maXJlZm94ID09PSB0cnVlICYmIHByZXZlbnREcmFnZ2FibGUoZWwsIGZhbHNlKTsKICAgICAgICBjdHguc3R5bGVDbGVhbnVwICE9PSB2b2lkIDAgJiYgY3R4LnN0eWxlQ2xlYW51cCh0cnVlKTsKICAgICAgICBldnQgIT09IHZvaWQgMCAmJiBjdHguZXZlbnQuZGlyICE9PSBmYWxzZSAmJiBzdG9wQW5kUHJldmVudChldnQpOwogICAgICAgIGN0eC5ldmVudCA9IHZvaWQgMDsKICAgICAgfQogICAgfTsKCiAgICBpZiAoZWwuX19xdG91Y2hzd2lwZSkgewogICAgICBlbC5fX3F0b3VjaHN3aXBlX29sZCA9IGVsLl9fcXRvdWNoc3dpcGU7CiAgICB9CgogICAgZWwuX19xdG91Y2hzd2lwZSA9IGN0eDsKICAgIG1vZGlmaWVycy5tb3VzZSA9PT0gdHJ1ZSAmJiBhZGRFdnQoY3R4LCAnbWFpbicsIFtbZWwsICdtb3VzZWRvd24nLCAnbW91c2VTdGFydCcsICJwYXNzaXZlIi5jb25jYXQobW91c2VDYXB0dXJlKV1dKTsKICAgIGNsaWVudC5oYXMudG91Y2ggPT09IHRydWUgJiYgYWRkRXZ0KGN0eCwgJ21haW4nLCBbW2VsLCAndG91Y2hzdGFydCcsICd0b3VjaFN0YXJ0JywgInBhc3NpdmUiLmNvbmNhdChtb2RpZmllcnMuY2FwdHVyZSA9PT0gdHJ1ZSA/ICdDYXB0dXJlJyA6ICcnKV0sIFtlbCwgJ3RvdWNobW92ZScsICdub29wJywgIm5vdFBhc3NpdmVDYXB0dXJlIl1dKTsKICB9LAogIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGVsLCBiaW5kaW5nKSB7CiAgICBlbC5fX3F0b3VjaHN3aXBlICE9PSB2b2lkIDAgJiYgdXBkYXRlTW9kaWZpZXJzKGVsLl9fcXRvdWNoc3dpcGUsIGJpbmRpbmcpOwogIH0sCiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoZWwpIHsKICAgIHZhciBjdHggPSBlbC5fX3F0b3VjaHN3aXBlX29sZCB8fCBlbC5fX3F0b3VjaHN3aXBlOwoKICAgIGlmIChjdHggIT09IHZvaWQgMCkgewogICAgICBjbGVhbkV2dChjdHgsICdtYWluJyk7CiAgICAgIGNsZWFuRXZ0KGN0eCwgJ3RlbXAnKTsKICAgICAgY2xpZW50LmlzLmZpcmVmb3ggPT09IHRydWUgJiYgcHJldmVudERyYWdnYWJsZShlbCwgZmFsc2UpOwogICAgICBjdHguc3R5bGVDbGVhbnVwICE9PSB2b2lkIDAgJiYgY3R4LnN0eWxlQ2xlYW51cCgpOwogICAgICBkZWxldGUgZWxbZWwuX19xdG91Y2hzd2lwZV9vbGQgPyAnX19xdG91Y2hzd2lwZV9vbGQnIDogJ19fcXRvdWNoc3dpcGUnXTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/directives/TouchSwipe.js"],"names":["client","getModifierDirections","updateModifiers","getTouchTarget","shouldStart","addEvt","cleanEvt","position","leftClick","stopAndPrevent","preventDraggable","noop","clearSelection","parseArg","arg","data","length","split","forEach","val","index","v","parseFloat","name","bind","el","value","modifiers","mouse","has","touch","mouseCapture","ctx","handler","sensitivity","direction","mouseStart","evt","document","start","touchStart","target","mouseEvent","is","firefox","pos","event","x","left","y","top","time","Date","now","dir","move","distX","absX","Math","abs","distY","absY","end","velX","velY","vertical","horizontal","up","down","right","body","classList","add","styleCleanup","withDelay","remove","setTimeout","duration","distance","__qtouchswipe","__qtouchswipe_old","capture","update","binding","unbind"],"mappings":"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","sourcesContent":["import { client } from '../plugins/Platform.js'\nimport { getModifierDirections, updateModifiers, getTouchTarget, shouldStart } from '../utils/touch.js'\nimport { addEvt, cleanEvt, position, leftClick, stopAndPrevent, preventDraggable, noop } from '../utils/event.js'\nimport { clearSelection } from '../utils/selection.js'\n\nfunction parseArg (arg) {\n  // delta (min velocity -- dist / time)\n  // mobile min distance on first move\n  // desktop min distance until deciding if it's a swipe or not\n  const data = [0.06, 6, 50]\n\n  if (typeof arg === 'string' && arg.length) {\n    arg.split(':').forEach((val, index) => {\n      const v = parseFloat(val)\n      v && (data[index] = v)\n    })\n  }\n\n  return data\n}\n\nexport default {\n  name: 'touch-swipe',\n\n  bind (el, { value, arg, modifiers }) {\n    // early return, we don't need to do anything\n    if (modifiers.mouse !== true && client.has.touch !== true) {\n      return\n    }\n\n    const mouseCapture = modifiers.mouseCapture === true ? 'Capture' : ''\n\n    const ctx = {\n      handler: value,\n      sensitivity: parseArg(arg),\n\n      modifiers: modifiers,\n      direction: getModifierDirections(modifiers),\n\n      noop,\n\n      mouseStart (evt) {\n        if (shouldStart(evt, ctx) && leftClick(evt)) {\n          addEvt(ctx, 'temp', [\n            [ document, 'mousemove', 'move', `notPassive${mouseCapture}` ],\n            [ document, 'mouseup', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt, true)\n        }\n      },\n\n      touchStart (evt) {\n        if (shouldStart(evt, ctx)) {\n          const target = getTouchTarget(evt.target)\n          addEvt(ctx, 'temp', [\n            [ target, 'touchmove', 'move', 'notPassiveCapture' ],\n            [ target, 'touchcancel', 'end', 'notPassiveCapture' ],\n            [ target, 'touchend', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt)\n        }\n      },\n\n      start (evt, mouseEvent) {\n        client.is.firefox === true && preventDraggable(el, true)\n\n        const pos = position(evt)\n\n        ctx.event = {\n          x: pos.left,\n          y: pos.top,\n          time: Date.now(),\n          mouse: mouseEvent === true,\n          dir: false\n        }\n      },\n\n      move (evt) {\n        if (ctx.event === void 0) {\n          return\n        }\n\n        if (ctx.event.dir !== false) {\n          stopAndPrevent(evt)\n          return\n        }\n\n        const time = Date.now() - ctx.event.time\n\n        if (time === 0) {\n          return\n        }\n\n        const\n          pos = position(evt),\n          distX = pos.left - ctx.event.x,\n          absX = Math.abs(distX),\n          distY = pos.top - ctx.event.y,\n          absY = Math.abs(distY)\n\n        if (ctx.event.mouse !== true) {\n          if (absX < ctx.sensitivity[1] && absY < ctx.sensitivity[1]) {\n            ctx.end(evt)\n            return\n          }\n        }\n        else if (absX < ctx.sensitivity[2] && absY < ctx.sensitivity[2]) {\n          return\n        }\n\n        const\n          velX = absX / time,\n          velY = absY / time\n\n        if (\n          ctx.direction.vertical === true &&\n          absX < absY &&\n          absX < 100 &&\n          velY > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = distY < 0 ? 'up' : 'down'\n        }\n\n        if (\n          ctx.direction.horizontal === true &&\n          absX > absY &&\n          absY < 100 &&\n          velX > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = distX < 0 ? 'left' : 'right'\n        }\n\n        if (\n          ctx.direction.up === true &&\n          absX < absY &&\n          distY < 0 &&\n          absX < 100 &&\n          velY > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = 'up'\n        }\n\n        if (\n          ctx.direction.down === true &&\n          absX < absY &&\n          distY > 0 &&\n          absX < 100 &&\n          velY > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = 'down'\n        }\n\n        if (\n          ctx.direction.left === true &&\n          absX > absY &&\n          distX < 0 &&\n          absY < 100 &&\n          velX > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = 'left'\n        }\n\n        if (\n          ctx.direction.right === true &&\n          absX > absY &&\n          distX > 0 &&\n          absY < 100 &&\n          velX > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = 'right'\n        }\n\n        if (ctx.event.dir !== false) {\n          stopAndPrevent(evt)\n\n          if (ctx.event.mouse === true) {\n            document.body.classList.add('no-pointer-events--children')\n            document.body.classList.add('non-selectable')\n            clearSelection()\n\n            ctx.styleCleanup = withDelay => {\n              ctx.styleCleanup = void 0\n\n              document.body.classList.remove('non-selectable')\n\n              const remove = () => {\n                document.body.classList.remove('no-pointer-events--children')\n              }\n\n              if (withDelay === true) { setTimeout(remove, 50) }\n              else { remove() }\n            }\n          }\n\n          ctx.handler({\n            evt,\n            touch: ctx.event.mouse !== true,\n            mouse: ctx.event.mouse,\n            direction: ctx.event.dir,\n            duration: time,\n            distance: {\n              x: absX,\n              y: absY\n            }\n          })\n        }\n        else {\n          ctx.end(evt)\n        }\n      },\n\n      end (evt) {\n        if (ctx.event === void 0) {\n          return\n        }\n\n        cleanEvt(ctx, 'temp')\n        client.is.firefox === true && preventDraggable(el, false)\n        ctx.styleCleanup !== void 0 && ctx.styleCleanup(true)\n        evt !== void 0 && ctx.event.dir !== false && stopAndPrevent(evt)\n\n        ctx.event = void 0\n      }\n    }\n\n    if (el.__qtouchswipe) {\n      el.__qtouchswipe_old = el.__qtouchswipe\n    }\n\n    el.__qtouchswipe = ctx\n\n    modifiers.mouse === true && addEvt(ctx, 'main', [\n      [ el, 'mousedown', 'mouseStart', `passive${mouseCapture}` ]\n    ])\n\n    client.has.touch === true && addEvt(ctx, 'main', [\n      [ el, 'touchstart', 'touchStart', `passive${modifiers.capture === true ? 'Capture' : ''}` ],\n      [ el, 'touchmove', 'noop', `notPassiveCapture` ]\n    ])\n  },\n\n  update (el, binding) {\n    el.__qtouchswipe !== void 0 && updateModifiers(el.__qtouchswipe, binding)\n  },\n\n  unbind (el) {\n    const ctx = el.__qtouchswipe_old || el.__qtouchswipe\n\n    if (ctx !== void 0) {\n      cleanEvt(ctx, 'main')\n      cleanEvt(ctx, 'temp')\n\n      client.is.firefox === true && preventDraggable(el, false)\n      ctx.styleCleanup !== void 0 && ctx.styleCleanup()\n\n      delete el[el.__qtouchswipe_old ? '__qtouchswipe_old' : '__qtouchswipe']\n    }\n  }\n}\n"]}]}