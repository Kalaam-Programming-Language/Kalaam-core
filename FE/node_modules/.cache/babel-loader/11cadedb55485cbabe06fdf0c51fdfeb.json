{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZXZlcnNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2pvbm55L0Rlc2t0b3AvbXlQcm9qZWN0cy9LYWxhYW0tY29yZS9GRS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgTGlzdGVuZXJzTWl4aW4gZnJvbSAnLi4vLi4vbWl4aW5zL2xpc3RlbmVycy5qcyc7CmltcG9ydCBkZWJvdW5jZSBmcm9tICcuLi8uLi91dGlscy9kZWJvdW5jZS5qcyc7CmltcG9ydCB7IGhlaWdodCB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbS5qcyc7CmltcG9ydCB7IGdldFNjcm9sbFRhcmdldCwgZ2V0U2Nyb2xsSGVpZ2h0LCBnZXRTY3JvbGxQb3NpdGlvbiwgc2V0U2Nyb2xsUG9zaXRpb24gfSBmcm9tICcuLi8uLi91dGlscy9zY3JvbGwuanMnOwppbXBvcnQgeyBsaXN0ZW5PcHRzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQuanMnOwppbXBvcnQgeyBzbG90LCB1bmlxdWVTbG90IH0gZnJvbSAnLi4vLi4vdXRpbHMvc2xvdC5qcyc7CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdRSW5maW5pdGVTY3JvbGwnLAogIG1peGluczogW0xpc3RlbmVyc01peGluXSwKICBwcm9wczogewogICAgb2Zmc2V0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgImRlZmF1bHQiOiA1MDAKICAgIH0sCiAgICBkZWJvdW5jZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICAiZGVmYXVsdCI6IDEwMAogICAgfSwKICAgIHNjcm9sbFRhcmdldDogewogICAgICAiZGVmYXVsdCI6IHZvaWQgMAogICAgfSwKICAgIGRpc2FibGU6IEJvb2xlYW4sCiAgICByZXZlcnNlOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5kZXg6IDAsCiAgICAgIGZldGNoaW5nOiBmYWxzZSwKICAgICAgd29ya2luZzogdHJ1ZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKHZhbCkgewogICAgICBpZiAodmFsID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5zdG9wKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZXN1bWUoKTsKICAgICAgfQogICAgfSwKICAgIHNjcm9sbFRhcmdldDogZnVuY3Rpb24gc2Nyb2xsVGFyZ2V0KCkgewogICAgICB0aGlzLnVwZGF0ZVNjcm9sbFRhcmdldCgpOwogICAgfSwKICAgIGRlYm91bmNlOiBmdW5jdGlvbiBkZWJvdW5jZSh2YWwpIHsKICAgICAgdGhpcy5fX3NldERlYm91bmNlKHZhbCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwb2xsOiBmdW5jdGlvbiBwb2xsKCkgewogICAgICBpZiAodGhpcy5kaXNhYmxlID09PSB0cnVlIHx8IHRoaXMuZmV0Y2hpbmcgPT09IHRydWUgfHwgdGhpcy53b3JraW5nID09PSBmYWxzZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IGdldFNjcm9sbEhlaWdodCh0aGlzLl9fc2Nyb2xsVGFyZ2V0KSwKICAgICAgICAgIHNjcm9sbFBvc2l0aW9uID0gZ2V0U2Nyb2xsUG9zaXRpb24odGhpcy5fX3Njcm9sbFRhcmdldCksCiAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBoZWlnaHQodGhpcy5fX3Njcm9sbFRhcmdldCk7CgogICAgICBpZiAodGhpcy5yZXZlcnNlID09PSBmYWxzZSkgewogICAgICAgIGlmIChzY3JvbGxQb3NpdGlvbiArIGNvbnRhaW5lckhlaWdodCArIHRoaXMub2Zmc2V0ID49IHNjcm9sbEhlaWdodCkgewogICAgICAgICAgdGhpcy50cmlnZ2VyKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChzY3JvbGxQb3NpdGlvbiA8IHRoaXMub2Zmc2V0KSB7CiAgICAgICAgICB0aGlzLnRyaWdnZXIoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB0cmlnZ2VyOiBmdW5jdGlvbiB0cmlnZ2VyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZGlzYWJsZSA9PT0gdHJ1ZSB8fCB0aGlzLmZldGNoaW5nID09PSB0cnVlIHx8IHRoaXMud29ya2luZyA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuaW5kZXgrKzsKICAgICAgdGhpcy5mZXRjaGluZyA9IHRydWU7CiAgICAgIHZhciBoZWlnaHRCZWZvcmUgPSBnZXRTY3JvbGxIZWlnaHQodGhpcy5fX3Njcm9sbFRhcmdldCk7CiAgICAgIHRoaXMuJGVtaXQoJ2xvYWQnLCB0aGlzLmluZGV4LCBmdW5jdGlvbiAoc3RvcCkgewogICAgICAgIGlmIChfdGhpcy53b3JraW5nID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpcy5mZXRjaGluZyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy5yZXZlcnNlID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgdmFyIGhlaWdodEFmdGVyID0gZ2V0U2Nyb2xsSGVpZ2h0KF90aGlzLl9fc2Nyb2xsVGFyZ2V0KSwKICAgICAgICAgICAgICAgICAgc2Nyb2xsUG9zaXRpb24gPSBnZXRTY3JvbGxQb3NpdGlvbihfdGhpcy5fX3Njcm9sbFRhcmdldCksCiAgICAgICAgICAgICAgICAgIGhlaWdodERpZmZlcmVuY2UgPSBoZWlnaHRBZnRlciAtIGhlaWdodEJlZm9yZTsKICAgICAgICAgICAgICBzZXRTY3JvbGxQb3NpdGlvbihfdGhpcy5fX3Njcm9sbFRhcmdldCwgc2Nyb2xsUG9zaXRpb24gKyBoZWlnaHREaWZmZXJlbmNlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHN0b3AgPT09IHRydWUpIHsKICAgICAgICAgICAgICBfdGhpcy5zdG9wKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuJGVsLmNsb3Nlc3QoJ2JvZHknKSAmJiBfdGhpcy5wb2xsKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmluZGV4ID0gMDsKICAgIH0sCiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHsKICAgICAgaWYgKHRoaXMud29ya2luZyA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLndvcmtpbmcgPSB0cnVlOwoKICAgICAgICB0aGlzLl9fc2Nyb2xsVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucG9sbCwgbGlzdGVuT3B0cy5wYXNzaXZlKTsKICAgICAgfQoKICAgICAgdGhpcy5pbW1lZGlhdGVQb2xsKCk7CiAgICB9LAogICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgaWYgKHRoaXMud29ya2luZyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMud29ya2luZyA9IGZhbHNlOwogICAgICAgIHRoaXMuZmV0Y2hpbmcgPSBmYWxzZTsKCiAgICAgICAgdGhpcy5fX3Njcm9sbFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnBvbGwsIGxpc3Rlbk9wdHMucGFzc2l2ZSk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVTY3JvbGxUYXJnZXQ6IGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbFRhcmdldCgpIHsKICAgICAgaWYgKHRoaXMuX19zY3JvbGxUYXJnZXQgJiYgdGhpcy53b3JraW5nID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5fX3Njcm9sbFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnBvbGwsIGxpc3Rlbk9wdHMucGFzc2l2ZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuX19zY3JvbGxUYXJnZXQgPSBnZXRTY3JvbGxUYXJnZXQodGhpcy4kZWwsIHRoaXMuc2Nyb2xsVGFyZ2V0KTsKCiAgICAgIGlmICh0aGlzLndvcmtpbmcgPT09IHRydWUpIHsKICAgICAgICB0aGlzLl9fc2Nyb2xsVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucG9sbCwgbGlzdGVuT3B0cy5wYXNzaXZlKTsKICAgICAgfQogICAgfSwKICAgIF9fc2V0RGVib3VuY2U6IGZ1bmN0aW9uIF9fc2V0RGVib3VuY2UodmFsKSB7CiAgICAgIHZhbCA9IHBhcnNlSW50KHZhbCwgMTApOwoKICAgICAgaWYgKHZhbCA8PSAwKSB7CiAgICAgICAgdGhpcy5wb2xsID0gdGhpcy5pbW1lZGlhdGVQb2xsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucG9sbCA9IGRlYm91bmNlKHRoaXMuaW1tZWRpYXRlUG9sbCwgaXNOYU4odmFsKSA9PT0gdHJ1ZSA/IDEwMCA6IHZhbCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmltbWVkaWF0ZVBvbGwgPSB0aGlzLnBvbGw7CgogICAgdGhpcy5fX3NldERlYm91bmNlKHRoaXMuZGVib3VuY2UpOwoKICAgIHRoaXMudXBkYXRlU2Nyb2xsVGFyZ2V0KCk7CiAgICB0aGlzLmltbWVkaWF0ZVBvbGwoKTsKCiAgICBpZiAodGhpcy5yZXZlcnNlID09PSB0cnVlKSB7CiAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSBnZXRTY3JvbGxIZWlnaHQodGhpcy5fX3Njcm9sbFRhcmdldCksCiAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBoZWlnaHQodGhpcy5fX3Njcm9sbFRhcmdldCk7CiAgICAgIHNldFNjcm9sbFBvc2l0aW9uKHRoaXMuX19zY3JvbGxUYXJnZXQsIHNjcm9sbEhlaWdodCAtIGNvbnRhaW5lckhlaWdodCk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMud29ya2luZyA9PT0gdHJ1ZSkgewogICAgICB0aGlzLl9fc2Nyb2xsVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucG9sbCwgbGlzdGVuT3B0cy5wYXNzaXZlKTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBjaGlsZCA9IHVuaXF1ZVNsb3QodGhpcywgJ2RlZmF1bHQnLCBbXSk7CgogICAgaWYgKHRoaXMuZGlzYWJsZSAhPT0gdHJ1ZSAmJiB0aGlzLndvcmtpbmcgPT09IHRydWUpIHsKICAgICAgY2hpbGRbdGhpcy5yZXZlcnNlID09PSBmYWxzZSA/ICdwdXNoJyA6ICd1bnNoaWZ0J10oaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1pbmZpbml0ZS1zY3JvbGxfX2xvYWRpbmcnLAogICAgICAgICJjbGFzcyI6IHRoaXMuZmV0Y2hpbmcgPT09IHRydWUgPyAnJyA6ICdpbnZpc2libGUnCiAgICAgIH0sIHNsb3QodGhpcywgJ2xvYWRpbmcnKSkpOwogICAgfQoKICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAncS1pbmZpbml0ZS1zY3JvbGwnLAogICAgICBvbjogX29iamVjdFNwcmVhZCh7fSwgdGhpcy5xTGlzdGVuZXJzKQogICAgfSwgY2hpbGQpOwogIH0KfSk7"},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js"],"names":["Vue","ListenersMixin","debounce","height","getScrollTarget","getScrollHeight","getScrollPosition","setScrollPosition","listenOpts","slot","uniqueSlot","extend","name","mixins","props","offset","type","Number","String","scrollTarget","disable","Boolean","reverse","data","index","fetching","working","watch","val","stop","resume","updateScrollTarget","__setDebounce","methods","poll","scrollHeight","__scrollTarget","scrollPosition","containerHeight","trigger","heightBefore","$emit","$nextTick","heightAfter","heightDifference","$el","closest","reset","addEventListener","passive","immediatePoll","removeEventListener","parseInt","isNaN","mounted","beforeDestroy","render","h","child","staticClass","on","qListeners"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport ListenersMixin from '../../mixins/listeners.js'\n\nimport debounce from '../../utils/debounce.js'\nimport { height } from '../../utils/dom.js'\nimport { getScrollTarget, getScrollHeight, getScrollPosition, setScrollPosition } from '../../utils/scroll.js'\nimport { listenOpts } from '../../utils/event.js'\nimport { slot, uniqueSlot } from '../../utils/slot.js'\n\nexport default Vue.extend({\n  name: 'QInfiniteScroll',\n\n  mixins: [ ListenersMixin ],\n\n  props: {\n    offset: {\n      type: Number,\n      default: 500\n    },\n\n    debounce: {\n      type: [ String, Number ],\n      default: 100\n    },\n\n    scrollTarget: {\n      default: void 0\n    },\n\n    disable: Boolean,\n    reverse: Boolean\n  },\n\n  data () {\n    return {\n      index: 0,\n      fetching: false,\n      working: true\n    }\n  },\n\n  watch: {\n    disable (val) {\n      if (val === true) {\n        this.stop()\n      }\n      else {\n        this.resume()\n      }\n    },\n\n    scrollTarget () {\n      this.updateScrollTarget()\n    },\n\n    debounce (val) {\n      this.__setDebounce(val)\n    }\n  },\n\n  methods: {\n    poll () {\n      if (this.disable === true || this.fetching === true || this.working === false) {\n        return\n      }\n\n      const\n        scrollHeight = getScrollHeight(this.__scrollTarget),\n        scrollPosition = getScrollPosition(this.__scrollTarget),\n        containerHeight = height(this.__scrollTarget)\n\n      if (this.reverse === false) {\n        if (scrollPosition + containerHeight + this.offset >= scrollHeight) {\n          this.trigger()\n        }\n      }\n      else {\n        if (scrollPosition < this.offset) {\n          this.trigger()\n        }\n      }\n    },\n\n    trigger () {\n      if (this.disable === true || this.fetching === true || this.working === false) {\n        return\n      }\n\n      this.index++\n      this.fetching = true\n\n      const heightBefore = getScrollHeight(this.__scrollTarget)\n\n      this.$emit('load', this.index, stop => {\n        if (this.working === true) {\n          this.fetching = false\n          this.$nextTick(() => {\n            if (this.reverse === true) {\n              const\n                heightAfter = getScrollHeight(this.__scrollTarget),\n                scrollPosition = getScrollPosition(this.__scrollTarget),\n                heightDifference = heightAfter - heightBefore\n\n              setScrollPosition(this.__scrollTarget, scrollPosition + heightDifference)\n            }\n\n            if (stop === true) {\n              this.stop()\n            }\n            else {\n              this.$el.closest('body') && this.poll()\n            }\n          })\n        }\n      })\n    },\n\n    reset () {\n      this.index = 0\n    },\n\n    resume () {\n      if (this.working === false) {\n        this.working = true\n        this.__scrollTarget.addEventListener('scroll', this.poll, listenOpts.passive)\n      }\n      this.immediatePoll()\n    },\n\n    stop () {\n      if (this.working === true) {\n        this.working = false\n        this.fetching = false\n        this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n      }\n    },\n\n    updateScrollTarget () {\n      if (this.__scrollTarget && this.working === true) {\n        this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n      }\n\n      this.__scrollTarget = getScrollTarget(this.$el, this.scrollTarget)\n\n      if (this.working === true) {\n        this.__scrollTarget.addEventListener('scroll', this.poll, listenOpts.passive)\n      }\n    },\n\n    __setDebounce (val) {\n      val = parseInt(val, 10)\n      if (val <= 0) {\n        this.poll = this.immediatePoll\n      }\n      else {\n        this.poll = debounce(this.immediatePoll, isNaN(val) === true ? 100 : val)\n      }\n    }\n  },\n\n  mounted () {\n    this.immediatePoll = this.poll\n    this.__setDebounce(this.debounce)\n\n    this.updateScrollTarget()\n    this.immediatePoll()\n\n    if (this.reverse === true) {\n      const\n        scrollHeight = getScrollHeight(this.__scrollTarget),\n        containerHeight = height(this.__scrollTarget)\n\n      setScrollPosition(this.__scrollTarget, scrollHeight - containerHeight)\n    }\n  },\n\n  beforeDestroy () {\n    if (this.working === true) {\n      this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n    }\n  },\n\n  render (h) {\n    const child = uniqueSlot(this, 'default', [])\n\n    if (this.disable !== true && this.working === true) {\n      child[this.reverse === false ? 'push' : 'unshift'](\n        h('div', {\n          staticClass: 'q-infinite-scroll__loading',\n          class: this.fetching === true ? '' : 'invisible'\n        }, slot(this, 'loading'))\n      )\n    }\n\n    return h('div', {\n      staticClass: 'q-infinite-scroll',\n      on: { ...this.qListeners }\n    }, child)\n  }\n})\n"]}]}