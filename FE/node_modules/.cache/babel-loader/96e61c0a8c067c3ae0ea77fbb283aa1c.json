{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/table/table-sort.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/table/table-sort.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9qb25ueS9EZXNrdG9wL215UHJvamVjdHMvS2FsYWFtLWNvcmUvRkUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgeyBzb3J0RGF0ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3NvcnQuanMnOwppbXBvcnQgeyBpc051bWJlciwgaXNEYXRlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHNvcnRNZXRob2Q6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoZGF0YSwgc29ydEJ5LCBkZXNjZW5kaW5nKSB7CiAgICAgICAgdmFyIGNvbCA9IHRoaXMuY29sTGlzdC5maW5kKGZ1bmN0aW9uIChkZWYpIHsKICAgICAgICAgIHJldHVybiBkZWYubmFtZSA9PT0gc29ydEJ5OwogICAgICAgIH0pOwoKICAgICAgICBpZiAoY29sID09PSB2b2lkIDAgfHwgY29sLmZpZWxkID09PSB2b2lkIDApIHsKICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRpciA9IGRlc2NlbmRpbmcgPT09IHRydWUgPyAtMSA6IDEsCiAgICAgICAgICAgIHZhbCA9IHR5cGVvZiBjb2wuZmllbGQgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIGNvbC5maWVsZCh2KTsKICAgICAgICB9IDogZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiB2W2NvbC5maWVsZF07CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gZGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICB2YXIgQSA9IHZhbChhKSwKICAgICAgICAgICAgICBCID0gdmFsKGIpOwoKICAgICAgICAgIGlmIChBID09PSBudWxsIHx8IEEgPT09IHZvaWQgMCkgewogICAgICAgICAgICByZXR1cm4gLTEgKiBkaXI7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKEIgPT09IG51bGwgfHwgQiA9PT0gdm9pZCAwKSB7CiAgICAgICAgICAgIHJldHVybiAxICogZGlyOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjb2wuc29ydCAhPT0gdm9pZCAwKSB7CiAgICAgICAgICAgIHJldHVybiBjb2wuc29ydChBLCBCLCBhLCBiKSAqIGRpcjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXNOdW1iZXIoQSkgPT09IHRydWUgJiYgaXNOdW1iZXIoQikgPT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuIChBIC0gQikgKiBkaXI7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGlzRGF0ZShBKSA9PT0gdHJ1ZSAmJiBpc0RhdGUoQikgPT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuIHNvcnREYXRlKEEsIEIpICogZGlyOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0eXBlb2YgQSA9PT0gJ2Jvb2xlYW4nICYmIHR5cGVvZiBCID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgcmV0dXJuIChBIC0gQikgKiBkaXI7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIF9tYXAgPSBbQSwgQl0ubWFwKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICAgIHJldHVybiAocyArICcnKS50b0xvY2FsZVN0cmluZygpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICB2YXIgX21hcDIgPSBfc2xpY2VkVG9BcnJheShfbWFwLCAyKTsKCiAgICAgICAgICBBID0gX21hcDJbMF07CiAgICAgICAgICBCID0gX21hcDJbMV07CiAgICAgICAgICByZXR1cm4gQSA8IEIgPyAtMSAqIGRpciA6IEEgPT09IEIgPyAwIDogZGlyOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY29sdW1uVG9Tb3J0OiBmdW5jdGlvbiBjb2x1bW5Ub1NvcnQoKSB7CiAgICAgIHZhciBzb3J0QnkgPSB0aGlzLmNvbXB1dGVkUGFnaW5hdGlvbi5zb3J0Qnk7CgogICAgICBpZiAoc29ydEJ5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29sTGlzdC5maW5kKGZ1bmN0aW9uIChkZWYpIHsKICAgICAgICAgIHJldHVybiBkZWYubmFtZSA9PT0gc29ydEJ5OwogICAgICAgIH0pIHx8IG51bGw7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNvcnQ6IGZ1bmN0aW9uIHNvcnQoY29sCiAgICAvKiBTdHJpbmcoY29sIG5hbWUpIG9yIE9iamVjdChjb2wgZGVmaW5pdGlvbikgKi8KICAgICkgewogICAgICBpZiAoY29sID09PSBPYmplY3QoY29sKSkgewogICAgICAgIGNvbCA9IGNvbC5uYW1lOwogICAgICB9CgogICAgICB2YXIgX3RoaXMkY29tcHV0ZWRQYWdpbmF0ID0gdGhpcy5jb21wdXRlZFBhZ2luYXRpb24sCiAgICAgICAgICBzb3J0QnkgPSBfdGhpcyRjb21wdXRlZFBhZ2luYXQuc29ydEJ5LAogICAgICAgICAgZGVzY2VuZGluZyA9IF90aGlzJGNvbXB1dGVkUGFnaW5hdC5kZXNjZW5kaW5nOwoKICAgICAgaWYgKHNvcnRCeSAhPT0gY29sKSB7CiAgICAgICAgc29ydEJ5ID0gY29sOwogICAgICAgIGRlc2NlbmRpbmcgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmJpbmFyeVN0YXRlU29ydCA9PT0gdHJ1ZSkgewogICAgICAgIGRlc2NlbmRpbmcgPSAhZGVzY2VuZGluZzsKICAgICAgfSBlbHNlIGlmIChkZXNjZW5kaW5nID09PSB0cnVlKSB7CiAgICAgICAgc29ydEJ5ID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZXNjZW5kaW5nID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRQYWdpbmF0aW9uKHsKICAgICAgICBzb3J0Qnk6IHNvcnRCeSwKICAgICAgICBkZXNjZW5kaW5nOiBkZXNjZW5kaW5nLAogICAgICAgIHBhZ2U6IDEKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/table/table-sort.js"],"names":["sortDate","isNumber","isDate","props","sortMethod","type","Function","data","sortBy","descending","col","colList","find","def","name","field","dir","val","v","sort","a","b","A","B","map","s","toLocaleString","toLowerCase","computed","columnToSort","computedPagination","methods","Object","binaryStateSort","setPagination","page"],"mappings":"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","sourcesContent":["import { sortDate } from '../../utils/sort.js'\nimport { isNumber, isDate } from '../../utils/is.js'\n\nexport default {\n  props: {\n    sortMethod: {\n      type: Function,\n      default (data, sortBy, descending) {\n        const col = this.colList.find(def => def.name === sortBy)\n        if (col === void 0 || col.field === void 0) {\n          return data\n        }\n\n        const\n          dir = descending === true ? -1 : 1,\n          val = typeof col.field === 'function'\n            ? v => col.field(v)\n            : v => v[col.field]\n\n        return data.sort((a, b) => {\n          let\n            A = val(a),\n            B = val(b)\n\n          if (A === null || A === void 0) {\n            return -1 * dir\n          }\n          if (B === null || B === void 0) {\n            return 1 * dir\n          }\n          if (col.sort !== void 0) {\n            return col.sort(A, B, a, b) * dir\n          }\n          if (isNumber(A) === true && isNumber(B) === true) {\n            return (A - B) * dir\n          }\n          if (isDate(A) === true && isDate(B) === true) {\n            return sortDate(A, B) * dir\n          }\n          if (typeof A === 'boolean' && typeof B === 'boolean') {\n            return (A - B) * dir\n          }\n\n          [A, B] = [A, B].map(s => (s + '').toLocaleString().toLowerCase())\n\n          return A < B\n            ? -1 * dir\n            : (A === B ? 0 : dir)\n        })\n      }\n    }\n  },\n\n  computed: {\n    columnToSort () {\n      const { sortBy } = this.computedPagination\n\n      if (sortBy) {\n        return this.colList.find(def => def.name === sortBy) || null\n      }\n    }\n  },\n\n  methods: {\n    sort (col /* String(col name) or Object(col definition) */) {\n      if (col === Object(col)) {\n        col = col.name\n      }\n\n      let { sortBy, descending } = this.computedPagination\n\n      if (sortBy !== col) {\n        sortBy = col\n        descending = false\n      }\n      else if (this.binaryStateSort === true) {\n        descending = !descending\n      }\n      else if (descending === true) {\n        sortBy = null\n      }\n      else {\n        descending = true\n      }\n\n      this.setPagination({ sortBy, descending, page: 1 })\n    }\n  }\n}\n"]}]}