{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/editor/editor-caret.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/editor/editor-caret.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvam9ubnkvRGVza3RvcC9teVByb2plY3RzL0thbGFhbS1CRS9GRS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9qb25ueS9EZXNrdG9wL215UHJvamVjdHMvS2FsYWFtLUJFL0ZFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi91dGlscy9ldmVudC5qcyc7CgpmdW5jdGlvbiBnZXRCbG9ja0VsZW1lbnQoZWwsIHBhcmVudCkgewogIGlmIChwYXJlbnQgJiYgZWwgPT09IHBhcmVudCkgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgbm9kZU5hbWUgPSBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwoKICBpZiAoWydkaXYnLCAnbGknLCAndWwnLCAnb2wnLCAnYmxvY2txdW90ZSddLmluY2x1ZGVzKG5vZGVOYW1lKSA9PT0gdHJ1ZSkgewogICAgcmV0dXJuIGVsOwogIH0KCiAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkgOiBlbC5jdXJyZW50U3R5bGUsCiAgICAgIGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5OwoKICBpZiAoZGlzcGxheSA9PT0gJ2Jsb2NrJyB8fCBkaXNwbGF5ID09PSAndGFibGUnKSB7CiAgICByZXR1cm4gZWw7CiAgfQoKICByZXR1cm4gZ2V0QmxvY2tFbGVtZW50KGVsLnBhcmVudE5vZGUpOwp9CgpmdW5jdGlvbiBpc0NoaWxkT2YoZWwsIHBhcmVudCkgewogIHJldHVybiAhZWwgfHwgZWwgPT09IGRvY3VtZW50LmJvZHkgPyBmYWxzZSA6IChwYXJlbnQgPT09IGRvY3VtZW50ID8gZG9jdW1lbnQuYm9keSA6IHBhcmVudCkuY29udGFpbnMoZWwucGFyZW50Tm9kZSk7Cn0KCnZhciB1cmxSZWdleCA9IC9eaHR0cHM/OlwvXC8vOwpleHBvcnQgdmFyIENhcmV0ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ2FyZXQoZWwsIHZtKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FyZXQpOwoKICAgIHRoaXMuZWwgPSBlbDsKICAgIHRoaXMudm0gPSB2bTsKICAgIHRoaXMuX3JhbmdlID0gbnVsbDsKICB9CgogIF9jcmVhdGVDbGFzcyhDYXJldCwgW3sKICAgIGtleTogInNhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciByYW5nZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5yYW5nZTsKCiAgICAgIGlmIChyYW5nZSAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuX3JhbmdlID0gcmFuZ2U7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXN0b3JlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXN0b3JlKCkgewogICAgICB2YXIgcmFuZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMuX3JhbmdlOwogICAgICB2YXIgciA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCksCiAgICAgICAgICBzZWwgPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTsKCiAgICAgIGlmIChyYW5nZSAhPT0gbnVsbCkgewogICAgICAgIHIuc2V0U3RhcnQocmFuZ2Uuc3RhcnRDb250YWluZXIsIHJhbmdlLnN0YXJ0T2Zmc2V0KTsKICAgICAgICByLnNldEVuZChyYW5nZS5lbmRDb250YWluZXIsIHJhbmdlLmVuZE9mZnNldCk7CiAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpOwogICAgICAgIHNlbC5hZGRSYW5nZShyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWwuc2VsZWN0QWxsQ2hpbGRyZW4odGhpcy5lbCk7CiAgICAgICAgc2VsLmNvbGxhcHNlVG9FbmQoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImhhc1BhcmVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzUGFyZW50KG5hbWUsIHNwYW5MZXZlbCkgewogICAgICB2YXIgZWwgPSBzcGFuTGV2ZWwgPyB0aGlzLnBhcmVudCA6IHRoaXMuYmxvY2tQYXJlbnQ7CiAgICAgIHJldHVybiBlbCAhPT0gbnVsbCA/IGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImhhc1BhcmVudHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1BhcmVudHMobGlzdCwgcmVjdXJzaXZlKSB7CiAgICAgIHZhciBlbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdGhpcy5wYXJlbnQ7CgogICAgICBpZiAoZWwgPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmIChlbCAhPT0gbnVsbCAmJiBsaXN0LmluY2x1ZGVzKGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiByZWN1cnNpdmUgPT09IHRydWUgPyB0aGlzLmhhc1BhcmVudHMobGlzdCwgcmVjdXJzaXZlLCBlbC5wYXJlbnROb2RlKSA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImlzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpcyhjbWQsIHBhcmFtKSB7CiAgICAgIHN3aXRjaCAoY21kKSB7CiAgICAgICAgY2FzZSAnZm9ybWF0QmxvY2snOgogICAgICAgICAgaWYgKHBhcmFtID09PSAnRElWJyAmJiB0aGlzLnBhcmVudCA9PT0gdGhpcy5lbCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdGhpcy5oYXNQYXJlbnQocGFyYW0sIHBhcmFtID09PSAnUFJFJyk7CgogICAgICAgIGNhc2UgJ2xpbmsnOgogICAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGFyZW50KCdBJywgdHJ1ZSk7CgogICAgICAgIGNhc2UgJ2ZvbnRTaXplJzoKICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeUNvbW1hbmRWYWx1ZShjbWQpID09PSBwYXJhbTsKCiAgICAgICAgY2FzZSAnZm9udE5hbWUnOgogICAgICAgICAgdmFyIHJlcyA9IGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFZhbHVlKGNtZCk7CiAgICAgICAgICByZXR1cm4gcmVzID09PSAiXCIiLmNvbmNhdChwYXJhbSwgIlwiIikgfHwgcmVzID09PSBwYXJhbTsKCiAgICAgICAgY2FzZSAnZnVsbHNjcmVlbic6CiAgICAgICAgICByZXR1cm4gdGhpcy52bS5pbkZ1bGxzY3JlZW47CgogICAgICAgIGNhc2UgJ3ZpZXdzb3VyY2UnOgogICAgICAgICAgcmV0dXJuIHRoaXMudm0uaXNWaWV3aW5nU291cmNlOwoKICAgICAgICBjYXNlIHZvaWQgMDoKICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHZhciBzdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZCk7CiAgICAgICAgICByZXR1cm4gcGFyYW0gIT09IHZvaWQgMCA/IHN0YXRlID09PSBwYXJhbSA6IHN0YXRlOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UGFyZW50QXR0cmlidXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYXJlbnRBdHRyaWJ1dGUoYXR0cmliKSB7CiAgICAgIGlmICh0aGlzLnBhcmVudCAhPT0gbnVsbCkgewogICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRBdHRyaWJ1dGUoYXR0cmliKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYW4obmFtZSkgewogICAgICBpZiAobmFtZSA9PT0gJ291dGRlbnQnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGFyZW50cyhbJ2Jsb2NrcXVvdGUnLCAnbGknXSwgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIGlmIChuYW1lID09PSAnaW5kZW50JykgewogICAgICAgIHJldHVybiB0aGlzLmhhc1BhcmVudHMoWydsaSddLCB0cnVlKTsKICAgICAgfQoKICAgICAgaWYgKG5hbWUgPT09ICdsaW5rJykgewogICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbiAhPT0gbnVsbCB8fCB0aGlzLmlzKCdsaW5rJyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhcHBseSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHkoY21kLCBwYXJhbSkgewogICAgICB2YXIgZG9uZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbm9vcDsKCiAgICAgIGlmIChjbWQgPT09ICdmb3JtYXRCbG9jaycpIHsKICAgICAgICBpZiAoWydCTE9DS1FVT1RFJywgJ0gxJywgJ0gyJywgJ0gzJywgJ0g0JywgJ0g1JywgJ0g2J10uaW5jbHVkZXMocGFyYW0pICYmIHRoaXMuaXMoY21kLCBwYXJhbSkpIHsKICAgICAgICAgIGNtZCA9ICdvdXRkZW50JzsKICAgICAgICAgIHBhcmFtID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmIChwYXJhbSA9PT0gJ1BSRScgJiYgdGhpcy5pcyhjbWQsICdQUkUnKSkgewogICAgICAgICAgcGFyYW0gPSAnUCc7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGNtZCA9PT0gJ3ByaW50JykgewogICAgICAgIGRvbmUoKTsKICAgICAgICB2YXIgd2luID0gd2luZG93Lm9wZW4oKTsKICAgICAgICB3aW4uZG9jdW1lbnQud3JpdGUoIlxuICAgICAgICA8IWRvY3R5cGUgaHRtbD5cbiAgICAgICAgPGh0bWw+XG4gICAgICAgICAgPGhlYWQ+XG4gICAgICAgICAgICA8dGl0bGU+UHJpbnQgLSAiLmNvbmNhdChkb2N1bWVudC50aXRsZSwgIjwvdGl0bGU+XG4gICAgICAgICAgPC9oZWFkPlxuICAgICAgICAgIDxib2R5PlxuICAgICAgICAgICAgPGRpdj4iKS5jb25jYXQodGhpcy5lbC5pbm5lckhUTUwsICI8L2Rpdj5cbiAgICAgICAgICA8L2JvZHk+XG4gICAgICAgIDwvaHRtbD5cbiAgICAgICIpKTsKICAgICAgICB3aW4ucHJpbnQoKTsKICAgICAgICB3aW4uY2xvc2UoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoY21kID09PSAnbGluaycpIHsKICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0UGFyZW50QXR0cmlidXRlKCdocmVmJyk7CgogICAgICAgIGlmIChsaW5rID09PSBudWxsKSB7CiAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3RXb3JkKHRoaXMuc2VsZWN0aW9uKTsKICAgICAgICAgIHZhciB1cmwgPSBzZWxlY3Rpb24gPyBzZWxlY3Rpb24udG9TdHJpbmcoKSA6ICcnOwoKICAgICAgICAgIGlmICghdXJsLmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy52bS5lZGl0TGlua1VybCA9IHVybFJlZ2V4LnRlc3QodXJsKSA/IHVybCA6ICdodHRwczovLyc7CiAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY3JlYXRlTGluaycsIGZhbHNlLCB0aGlzLnZtLmVkaXRMaW5rVXJsKTsKICAgICAgICAgIHRoaXMuc2F2ZShzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudm0uZWRpdExpbmtVcmwgPSBsaW5rOwogICAgICAgICAgdGhpcy5yYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5wYXJlbnQpOwogICAgICAgICAgdGhpcy5zYXZlKCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoY21kID09PSAnZnVsbHNjcmVlbicpIHsKICAgICAgICB0aGlzLnZtLnRvZ2dsZUZ1bGxzY3JlZW4oKTsKICAgICAgICBkb25lKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKGNtZCA9PT0gJ3ZpZXdzb3VyY2UnKSB7CiAgICAgICAgdGhpcy52bS5pc1ZpZXdpbmdTb3VyY2UgPSB0aGlzLnZtLmlzVmlld2luZ1NvdXJjZSA9PT0gZmFsc2U7CgogICAgICAgIHRoaXMudm0uX19zZXRDb250ZW50KHRoaXMudm0udmFsdWUpOwoKICAgICAgICBkb25lKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChjbWQsIGZhbHNlLCBwYXJhbSk7CiAgICAgIGRvbmUoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZWxlY3RXb3JkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RXb3JkKHNlbCkgewogICAgICBpZiAoc2VsID09PSBudWxsIHx8IHNlbC5pc0NvbGxhcHNlZCAhPT0gdHJ1ZSB8fAogICAgICAvKiBJRSAxMSAqLwogICAgICBzZWwubW9kaWZ5ID09PSB2b2lkIDApIHsKICAgICAgICByZXR1cm4gc2VsOwogICAgICB9IC8vIERldGVjdCBpZiBzZWxlY3Rpb24gaXMgYmFja3dhcmRzCgoKICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKICAgICAgcmFuZ2Uuc2V0U3RhcnQoc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpOwogICAgICByYW5nZS5zZXRFbmQoc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTsKICAgICAgdmFyIGRpcmVjdGlvbiA9IHJhbmdlLmNvbGxhcHNlZCA/IFsnYmFja3dhcmQnLCAnZm9yd2FyZCddIDogWydmb3J3YXJkJywgJ2JhY2t3YXJkJ107CiAgICAgIHJhbmdlLmRldGFjaCgpOyAvLyBtb2RpZnkoKSB3b3JrcyBvbiB0aGUgZm9jdXMgb2YgdGhlIHNlbGVjdGlvbgoKICAgICAgdmFyIGVuZE5vZGUgPSBzZWwuZm9jdXNOb2RlLAogICAgICAgICAgZW5kT2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0OwogICAgICBzZWwuY29sbGFwc2Uoc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpOwogICAgICBzZWwubW9kaWZ5KCdtb3ZlJywgZGlyZWN0aW9uWzBdLCAnY2hhcmFjdGVyJyk7CiAgICAgIHNlbC5tb2RpZnkoJ21vdmUnLCBkaXJlY3Rpb25bMV0sICd3b3JkJyk7CiAgICAgIHNlbC5leHRlbmQoZW5kTm9kZSwgZW5kT2Zmc2V0KTsKICAgICAgc2VsLm1vZGlmeSgnZXh0ZW5kJywgZGlyZWN0aW9uWzFdLCAnY2hhcmFjdGVyJyk7CiAgICAgIHNlbC5tb2RpZnkoJ2V4dGVuZCcsIGRpcmVjdGlvblswXSwgJ3dvcmQnKTsKICAgICAgcmV0dXJuIHNlbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZWxlY3Rpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICh0aGlzLmVsKSB7CiAgICAgICAgdmFyIHNlbCA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpOyAvLyBvbmx5IHdoZW4gdGhlIHNlbGVjdGlvbiBpbiBlbGVtZW50CgogICAgICAgIGlmIChpc0NoaWxkT2Yoc2VsLmFuY2hvck5vZGUsIHRoaXMuZWwpICYmIGlzQ2hpbGRPZihzZWwuZm9jdXNOb2RlLCB0aGlzLmVsKSkgewogICAgICAgICAgcmV0dXJuIHNlbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogImhhc1NlbGVjdGlvbiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uICE9PSBudWxsID8gdGhpcy5zZWxlY3Rpb24udG9TdHJpbmcoKS5sZW5ndGggPiAwIDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAicmFuZ2UiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBzZWwgPSB0aGlzLnNlbGVjdGlvbjsKCiAgICAgIGlmIChzZWwgIT09IG51bGwgJiYgc2VsLnJhbmdlQ291bnQpIHsKICAgICAgICByZXR1cm4gc2VsLmdldFJhbmdlQXQoMCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLl9yYW5nZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwYXJlbnQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2U7CgogICAgICBpZiAocmFuZ2UgIT09IG51bGwpIHsKICAgICAgICB2YXIgbm9kZSA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyOwogICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSBkb2N1bWVudC5FTEVNRU5UX05PREUgPyBub2RlIDogbm9kZS5wYXJlbnROb2RlOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJibG9ja1BhcmVudCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50OwoKICAgICAgaWYgKHBhcmVudCAhPT0gbnVsbCkgewogICAgICAgIHJldHVybiBnZXRCbG9ja0VsZW1lbnQocGFyZW50LCB0aGlzLmVsKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ2FyZXQ7Cn0oKTs="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/components/editor/editor-caret.js"],"names":["noop","getBlockElement","el","parent","nodeName","toLowerCase","includes","style","window","getComputedStyle","currentStyle","display","parentNode","isChildOf","document","body","contains","urlRegex","Caret","vm","_range","range","r","createRange","sel","getSelection","setStart","startContainer","startOffset","setEnd","endContainer","endOffset","removeAllRanges","addRange","selectAllChildren","collapseToEnd","name","spanLevel","blockParent","list","recursive","hasParents","cmd","param","hasParent","queryCommandValue","res","inFullscreen","isViewingSource","state","queryCommandState","attrib","getAttribute","selection","is","done","win","open","write","title","innerHTML","print","close","link","getParentAttribute","selectWord","url","toString","length","editLinkUrl","test","execCommand","save","getRangeAt","selectNodeContents","toggleFullscreen","__setContent","value","isCollapsed","modify","anchorNode","anchorOffset","focusNode","focusOffset","direction","collapsed","detach","endNode","collapse","extend","rangeCount","node","nodeType","ELEMENT_NODE"],"mappings":";;;;;;;;AAAA,SAASA,IAAT,QAAqB,sBAArB;;AAEA,SAASC,eAAT,CAA0BC,EAA1B,EAA8BC,MAA9B,EAAsC;AACpC,MAAIA,MAAM,IAAID,EAAE,KAAKC,MAArB,EAA6B;AAC3B,WAAO,IAAP;AACD;;AAED,MAAMC,QAAQ,GAAGF,EAAE,CAACE,QAAH,CAAYC,WAAZ,EAAjB;;AAEA,MAAI,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoB,IAApB,EAA0B,YAA1B,EAAwCC,QAAxC,CAAiDF,QAAjD,MAA+D,IAAnE,EAAyE;AACvE,WAAOF,EAAP;AACD;;AAED,MACEK,KAAK,GAAGC,MAAM,CAACC,gBAAP,GACJD,MAAM,CAACC,gBAAP,CAAwBP,EAAxB,CADI,GAEJA,EAAE,CAACQ,YAHT;AAAA,MAIEC,OAAO,GAAGJ,KAAK,CAACI,OAJlB;;AAMA,MAAIA,OAAO,KAAK,OAAZ,IAAuBA,OAAO,KAAK,OAAvC,EAAgD;AAC9C,WAAOT,EAAP;AACD;;AAED,SAAOD,eAAe,CAACC,EAAE,CAACU,UAAJ,CAAtB;AACD;;AAED,SAASC,SAAT,CAAoBX,EAApB,EAAwBC,MAAxB,EAAgC;AAC9B,SAAO,CAACD,EAAD,IAAOA,EAAE,KAAKY,QAAQ,CAACC,IAAvB,GACH,KADG,GAEH,CAACZ,MAAM,KAAKW,QAAX,GAAsBA,QAAQ,CAACC,IAA/B,GAAsCZ,MAAvC,EAA+Ca,QAA/C,CAAwDd,EAAE,CAACU,UAA3D,CAFJ;AAGD;;AAED,IAAMK,QAAQ,GAAG,cAAjB;AAEA,WAAaC,KAAb;AAAA;AAAA;AACE,iBAAahB,EAAb,EAAiBiB,EAAjB,EAAqB;AAAA;;AACnB,SAAKjB,EAAL,GAAUA,EAAV;AACA,SAAKiB,EAAL,GAAUA,EAAV;AACA,SAAKC,MAAL,GAAc,IAAd;AACD;;AALH;AAAA;AAAA,2BA4D4B;AAAA,UAApBC,KAAoB,uEAAZ,KAAKA,KAAO;;AACxB,UAAIA,KAAK,KAAK,IAAd,EAAoB;AAClB,aAAKD,MAAL,GAAcC,KAAd;AACD;AACF;AAhEH;AAAA;AAAA,8BAkEgC;AAAA,UAArBA,KAAqB,uEAAb,KAAKD,MAAQ;AAC5B,UACEE,CAAC,GAAGR,QAAQ,CAACS,WAAT,EADN;AAAA,UAEEC,GAAG,GAAGV,QAAQ,CAACW,YAAT,EAFR;;AAIA,UAAIJ,KAAK,KAAK,IAAd,EAAoB;AAClBC,QAAAA,CAAC,CAACI,QAAF,CAAWL,KAAK,CAACM,cAAjB,EAAiCN,KAAK,CAACO,WAAvC;AACAN,QAAAA,CAAC,CAACO,MAAF,CAASR,KAAK,CAACS,YAAf,EAA6BT,KAAK,CAACU,SAAnC;AACAP,QAAAA,GAAG,CAACQ,eAAJ;AACAR,QAAAA,GAAG,CAACS,QAAJ,CAAaX,CAAb;AACD,OALD,MAMK;AACHE,QAAAA,GAAG,CAACU,iBAAJ,CAAsB,KAAKhC,EAA3B;AACAsB,QAAAA,GAAG,CAACW,aAAJ;AACD;AACF;AAjFH;AAAA;AAAA,8BAmFaC,IAnFb,EAmFmBC,SAnFnB,EAmF8B;AAC1B,UAAMnC,EAAE,GAAGmC,SAAS,GAChB,KAAKlC,MADW,GAEhB,KAAKmC,WAFT;AAIA,aAAOpC,EAAE,KAAK,IAAP,GACHA,EAAE,CAACE,QAAH,CAAYC,WAAZ,OAA8B+B,IAAI,CAAC/B,WAAL,EAD3B,GAEH,KAFJ;AAGD;AA3FH;AAAA;AAAA,+BA6FckC,IA7Fd,EA6FoBC,SA7FpB,EA6FiD;AAAA,UAAlBtC,EAAkB,uEAAb,KAAKC,MAAQ;;AAC7C,UAAID,EAAE,KAAK,IAAX,EAAiB;AACf,eAAO,KAAP;AACD;;AAED,UAAIA,EAAE,KAAK,IAAP,IAAeqC,IAAI,CAACjC,QAAL,CAAcJ,EAAE,CAACE,QAAH,CAAYC,WAAZ,EAAd,MAA6C,IAAhE,EAAsE;AACpE,eAAO,IAAP;AACD;;AAED,aAAOmC,SAAS,KAAK,IAAd,GACH,KAAKC,UAAL,CAAgBF,IAAhB,EAAsBC,SAAtB,EAAiCtC,EAAE,CAACU,UAApC,CADG,GAEH,KAFJ;AAGD;AAzGH;AAAA;AAAA,uBA2GM8B,GA3GN,EA2GWC,KA3GX,EA2GkB;AACd,cAAQD,GAAR;AACE,aAAK,aAAL;AACE,cAAIC,KAAK,KAAK,KAAV,IAAmB,KAAKxC,MAAL,KAAgB,KAAKD,EAA5C,EAAgD;AAC9C,mBAAO,IAAP;AACD;;AACD,iBAAO,KAAK0C,SAAL,CAAeD,KAAf,EAAsBA,KAAK,KAAK,KAAhC,CAAP;;AACF,aAAK,MAAL;AACE,iBAAO,KAAKC,SAAL,CAAe,GAAf,EAAoB,IAApB,CAAP;;AACF,aAAK,UAAL;AACE,iBAAO9B,QAAQ,CAAC+B,iBAAT,CAA2BH,GAA3B,MAAoCC,KAA3C;;AACF,aAAK,UAAL;AACE,cAAMG,GAAG,GAAGhC,QAAQ,CAAC+B,iBAAT,CAA2BH,GAA3B,CAAZ;AACA,iBAAOI,GAAG,iBAASH,KAAT,OAAH,IAAwBG,GAAG,KAAKH,KAAvC;;AACF,aAAK,YAAL;AACE,iBAAO,KAAKxB,EAAL,CAAQ4B,YAAf;;AACF,aAAK,YAAL;AACE,iBAAO,KAAK5B,EAAL,CAAQ6B,eAAf;;AACF,aAAK,KAAK,CAAV;AACE,iBAAO,KAAP;;AACF;AACE,cAAMC,KAAK,GAAGnC,QAAQ,CAACoC,iBAAT,CAA2BR,GAA3B,CAAd;AACA,iBAAOC,KAAK,KAAK,KAAK,CAAf,GAAmBM,KAAK,KAAKN,KAA7B,GAAqCM,KAA5C;AArBJ;AAuBD;AAnIH;AAAA;AAAA,uCAqIsBE,MArItB,EAqI8B;AAC1B,UAAI,KAAKhD,MAAL,KAAgB,IAApB,EAA0B;AACxB,eAAO,KAAKA,MAAL,CAAYiD,YAAZ,CAAyBD,MAAzB,CAAP;AACD;;AAED,aAAO,IAAP;AACD;AA3IH;AAAA;AAAA,wBA6IOf,IA7IP,EA6Ia;AACT,UAAIA,IAAI,KAAK,SAAb,EAAwB;AACtB,eAAO,KAAKK,UAAL,CAAgB,CAAC,YAAD,EAAe,IAAf,CAAhB,EAAsC,IAAtC,CAAP;AACD;;AAED,UAAIL,IAAI,KAAK,QAAb,EAAuB;AACrB,eAAO,KAAKK,UAAL,CAAgB,CAAC,IAAD,CAAhB,EAAwB,IAAxB,CAAP;AACD;;AAED,UAAIL,IAAI,KAAK,MAAb,EAAqB;AACnB,eAAO,KAAKiB,SAAL,KAAmB,IAAnB,IAA2B,KAAKC,EAAL,CAAQ,MAAR,CAAlC;AACD;AACF;AAzJH;AAAA;AAAA,0BA2JSZ,GA3JT,EA2JcC,KA3Jd,EA2JkC;AAAA,UAAbY,IAAa,uEAANvD,IAAM;;AAC9B,UAAI0C,GAAG,KAAK,aAAZ,EAA2B;AACzB,YAAI,CAAC,YAAD,EAAe,IAAf,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmDpC,QAAnD,CAA4DqC,KAA5D,KAAsE,KAAKW,EAAL,CAAQZ,GAAR,EAAaC,KAAb,CAA1E,EAA+F;AAC7FD,UAAAA,GAAG,GAAG,SAAN;AACAC,UAAAA,KAAK,GAAG,IAAR;AACD;;AAED,YAAIA,KAAK,KAAK,KAAV,IAAmB,KAAKW,EAAL,CAAQZ,GAAR,EAAa,KAAb,CAAvB,EAA4C;AAC1CC,UAAAA,KAAK,GAAG,GAAR;AACD;AACF,OATD,MAUK,IAAID,GAAG,KAAK,OAAZ,EAAqB;AACxBa,QAAAA,IAAI;AAEJ,YAAMC,GAAG,GAAGhD,MAAM,CAACiD,IAAP,EAAZ;AAEAD,QAAAA,GAAG,CAAC1C,QAAJ,CAAa4C,KAAb,mGAIuB5C,QAAQ,CAAC6C,KAJhC,6EAOa,KAAKzD,EAAL,CAAQ0D,SAPrB;AAWAJ,QAAAA,GAAG,CAACK,KAAJ;AACAL,QAAAA,GAAG,CAACM,KAAJ;AAEA;AACD,OApBI,MAqBA,IAAIpB,GAAG,KAAK,MAAZ,EAAoB;AACvB,YAAMqB,IAAI,GAAG,KAAKC,kBAAL,CAAwB,MAAxB,CAAb;;AAEA,YAAID,IAAI,KAAK,IAAb,EAAmB;AACjB,cAAMV,SAAS,GAAG,KAAKY,UAAL,CAAgB,KAAKZ,SAArB,CAAlB;AACA,cAAMa,GAAG,GAAGb,SAAS,GAAGA,SAAS,CAACc,QAAV,EAAH,GAA0B,EAA/C;;AAEA,cAAI,CAACD,GAAG,CAACE,MAAT,EAAiB;AACf;AACD;;AAED,eAAKjD,EAAL,CAAQkD,WAAR,GAAsBpD,QAAQ,CAACqD,IAAT,CAAcJ,GAAd,IAAqBA,GAArB,GAA2B,UAAjD;AACApD,UAAAA,QAAQ,CAACyD,WAAT,CAAqB,YAArB,EAAmC,KAAnC,EAA0C,KAAKpD,EAAL,CAAQkD,WAAlD;AAEA,eAAKG,IAAL,CAAUnB,SAAS,CAACoB,UAAV,CAAqB,CAArB,CAAV;AACD,SAZD,MAaK;AACH,eAAKtD,EAAL,CAAQkD,WAAR,GAAsBN,IAAtB;AAEA,eAAK1C,KAAL,CAAWqD,kBAAX,CAA8B,KAAKvE,MAAnC;AACA,eAAKqE,IAAL;AACD;;AAED;AACD,OAxBI,MAyBA,IAAI9B,GAAG,KAAK,YAAZ,EAA0B;AAC7B,aAAKvB,EAAL,CAAQwD,gBAAR;AACApB,QAAAA,IAAI;AAEJ;AACD,OALI,MAMA,IAAIb,GAAG,KAAK,YAAZ,EAA0B;AAC7B,aAAKvB,EAAL,CAAQ6B,eAAR,GAA0B,KAAK7B,EAAL,CAAQ6B,eAAR,KAA4B,KAAtD;;AACA,aAAK7B,EAAL,CAAQyD,YAAR,CAAqB,KAAKzD,EAAL,CAAQ0D,KAA7B;;AACAtB,QAAAA,IAAI;AAEJ;AACD;;AAEDzC,MAAAA,QAAQ,CAACyD,WAAT,CAAqB7B,GAArB,EAA0B,KAA1B,EAAiCC,KAAjC;AAEAY,MAAAA,IAAI;AACL;AArOH;AAAA;AAAA,+BAuOc/B,GAvOd,EAuOmB;AACf,UAAIA,GAAG,KAAK,IAAR,IAAgBA,GAAG,CAACsD,WAAJ,KAAoB,IAApC;AAA4C;AAAYtD,MAAAA,GAAG,CAACuD,MAAJ,KAAe,KAAK,CAAhF,EAAmF;AACjF,eAAOvD,GAAP;AACD,OAHc,CAKf;;;AACA,UAAMH,KAAK,GAAGP,QAAQ,CAACS,WAAT,EAAd;AACAF,MAAAA,KAAK,CAACK,QAAN,CAAeF,GAAG,CAACwD,UAAnB,EAA+BxD,GAAG,CAACyD,YAAnC;AACA5D,MAAAA,KAAK,CAACQ,MAAN,CAAaL,GAAG,CAAC0D,SAAjB,EAA4B1D,GAAG,CAAC2D,WAAhC;AACA,UAAMC,SAAS,GAAG/D,KAAK,CAACgE,SAAN,GAAkB,CAAC,UAAD,EAAa,SAAb,CAAlB,GAA4C,CAAC,SAAD,EAAY,UAAZ,CAA9D;AACAhE,MAAAA,KAAK,CAACiE,MAAN,GAVe,CAYf;;AACA,UACEC,OAAO,GAAG/D,GAAG,CAAC0D,SADhB;AAAA,UAEEnD,SAAS,GAAGP,GAAG,CAAC2D,WAFlB;AAGA3D,MAAAA,GAAG,CAACgE,QAAJ,CAAahE,GAAG,CAACwD,UAAjB,EAA6BxD,GAAG,CAACyD,YAAjC;AACAzD,MAAAA,GAAG,CAACuD,MAAJ,CAAW,MAAX,EAAmBK,SAAS,CAAC,CAAD,CAA5B,EAAiC,WAAjC;AACA5D,MAAAA,GAAG,CAACuD,MAAJ,CAAW,MAAX,EAAmBK,SAAS,CAAC,CAAD,CAA5B,EAAiC,MAAjC;AACA5D,MAAAA,GAAG,CAACiE,MAAJ,CAAWF,OAAX,EAAoBxD,SAApB;AACAP,MAAAA,GAAG,CAACuD,MAAJ,CAAW,QAAX,EAAqBK,SAAS,CAAC,CAAD,CAA9B,EAAmC,WAAnC;AACA5D,MAAAA,GAAG,CAACuD,MAAJ,CAAW,QAAX,EAAqBK,SAAS,CAAC,CAAD,CAA9B,EAAmC,MAAnC;AAEA,aAAO5D,GAAP;AACD;AA/PH;AAAA;AAAA,wBAOmB;AACf,UAAI,KAAKtB,EAAT,EAAa;AACX,YAAMsB,GAAG,GAAGV,QAAQ,CAACW,YAAT,EAAZ,CADW,CAGX;;AACA,YAAIZ,SAAS,CAACW,GAAG,CAACwD,UAAL,EAAiB,KAAK9E,EAAtB,CAAT,IAAsCW,SAAS,CAACW,GAAG,CAAC0D,SAAL,EAAgB,KAAKhF,EAArB,CAAnD,EAA6E;AAC3E,iBAAOsB,GAAP;AACD;AACF;;AAED,aAAO,IAAP;AACD;AAlBH;AAAA;AAAA,wBAoBsB;AAClB,aAAO,KAAK6B,SAAL,KAAmB,IAAnB,GACH,KAAKA,SAAL,CAAec,QAAf,GAA0BC,MAA1B,GAAmC,CADhC,GAEH,KAFJ;AAGD;AAxBH;AAAA;AAAA,wBA0Be;AACX,UAAM5C,GAAG,GAAG,KAAK6B,SAAjB;;AAEA,UAAI7B,GAAG,KAAK,IAAR,IAAgBA,GAAG,CAACkE,UAAxB,EAAoC;AAClC,eAAOlE,GAAG,CAACiD,UAAJ,CAAe,CAAf,CAAP;AACD;;AAED,aAAO,KAAKrD,MAAZ;AACD;AAlCH;AAAA;AAAA,wBAoCgB;AACZ,UAAMC,KAAK,GAAG,KAAKA,KAAnB;;AAEA,UAAIA,KAAK,KAAK,IAAd,EAAoB;AAClB,YAAMsE,IAAI,GAAGtE,KAAK,CAACM,cAAnB;AAEA,eAAOgE,IAAI,CAACC,QAAL,KAAkB9E,QAAQ,CAAC+E,YAA3B,GACHF,IADG,GAEHA,IAAI,CAAC/E,UAFT;AAGD;;AAED,aAAO,IAAP;AACD;AAhDH;AAAA;AAAA,wBAkDqB;AACjB,UAAMT,MAAM,GAAG,KAAKA,MAApB;;AAEA,UAAIA,MAAM,KAAK,IAAf,EAAqB;AACnB,eAAOF,eAAe,CAACE,MAAD,EAAS,KAAKD,EAAd,CAAtB;AACD;;AAED,aAAO,IAAP;AACD;AA1DH;;AAAA;AAAA","sourcesContent":["import { noop } from '../../utils/event.js'\n\nfunction getBlockElement (el, parent) {\n  if (parent && el === parent) {\n    return null\n  }\n\n  const nodeName = el.nodeName.toLowerCase()\n\n  if (['div', 'li', 'ul', 'ol', 'blockquote'].includes(nodeName) === true) {\n    return el\n  }\n\n  const\n    style = window.getComputedStyle\n      ? window.getComputedStyle(el)\n      : el.currentStyle,\n    display = style.display\n\n  if (display === 'block' || display === 'table') {\n    return el\n  }\n\n  return getBlockElement(el.parentNode)\n}\n\nfunction isChildOf (el, parent) {\n  return !el || el === document.body\n    ? false\n    : (parent === document ? document.body : parent).contains(el.parentNode)\n}\n\nconst urlRegex = /^https?:\\/\\//\n\nexport class Caret {\n  constructor (el, vm) {\n    this.el = el\n    this.vm = vm\n    this._range = null\n  }\n\n  get selection () {\n    if (this.el) {\n      const sel = document.getSelection()\n\n      // only when the selection in element\n      if (isChildOf(sel.anchorNode, this.el) && isChildOf(sel.focusNode, this.el)) {\n        return sel\n      }\n    }\n\n    return null\n  }\n\n  get hasSelection () {\n    return this.selection !== null\n      ? this.selection.toString().length > 0\n      : false\n  }\n\n  get range () {\n    const sel = this.selection\n\n    if (sel !== null && sel.rangeCount) {\n      return sel.getRangeAt(0)\n    }\n\n    return this._range\n  }\n\n  get parent () {\n    const range = this.range\n\n    if (range !== null) {\n      const node = range.startContainer\n\n      return node.nodeType === document.ELEMENT_NODE\n        ? node\n        : node.parentNode\n    }\n\n    return null\n  }\n\n  get blockParent () {\n    const parent = this.parent\n\n    if (parent !== null) {\n      return getBlockElement(parent, this.el)\n    }\n\n    return null\n  }\n\n  save (range = this.range) {\n    if (range !== null) {\n      this._range = range\n    }\n  }\n\n  restore (range = this._range) {\n    const\n      r = document.createRange(),\n      sel = document.getSelection()\n\n    if (range !== null) {\n      r.setStart(range.startContainer, range.startOffset)\n      r.setEnd(range.endContainer, range.endOffset)\n      sel.removeAllRanges()\n      sel.addRange(r)\n    }\n    else {\n      sel.selectAllChildren(this.el)\n      sel.collapseToEnd()\n    }\n  }\n\n  hasParent (name, spanLevel) {\n    const el = spanLevel\n      ? this.parent\n      : this.blockParent\n\n    return el !== null\n      ? el.nodeName.toLowerCase() === name.toLowerCase()\n      : false\n  }\n\n  hasParents (list, recursive, el = this.parent) {\n    if (el === null) {\n      return false\n    }\n\n    if (el !== null && list.includes(el.nodeName.toLowerCase()) === true) {\n      return true\n    }\n\n    return recursive === true\n      ? this.hasParents(list, recursive, el.parentNode)\n      : false\n  }\n\n  is (cmd, param) {\n    switch (cmd) {\n      case 'formatBlock':\n        if (param === 'DIV' && this.parent === this.el) {\n          return true\n        }\n        return this.hasParent(param, param === 'PRE')\n      case 'link':\n        return this.hasParent('A', true)\n      case 'fontSize':\n        return document.queryCommandValue(cmd) === param\n      case 'fontName':\n        const res = document.queryCommandValue(cmd)\n        return res === `\"${param}\"` || res === param\n      case 'fullscreen':\n        return this.vm.inFullscreen\n      case 'viewsource':\n        return this.vm.isViewingSource\n      case void 0:\n        return false\n      default:\n        const state = document.queryCommandState(cmd)\n        return param !== void 0 ? state === param : state\n    }\n  }\n\n  getParentAttribute (attrib) {\n    if (this.parent !== null) {\n      return this.parent.getAttribute(attrib)\n    }\n\n    return null\n  }\n\n  can (name) {\n    if (name === 'outdent') {\n      return this.hasParents(['blockquote', 'li'], true)\n    }\n\n    if (name === 'indent') {\n      return this.hasParents(['li'], true)\n    }\n\n    if (name === 'link') {\n      return this.selection !== null || this.is('link')\n    }\n  }\n\n  apply (cmd, param, done = noop) {\n    if (cmd === 'formatBlock') {\n      if (['BLOCKQUOTE', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6'].includes(param) && this.is(cmd, param)) {\n        cmd = 'outdent'\n        param = null\n      }\n\n      if (param === 'PRE' && this.is(cmd, 'PRE')) {\n        param = 'P'\n      }\n    }\n    else if (cmd === 'print') {\n      done()\n\n      const win = window.open()\n\n      win.document.write(`\n        <!doctype html>\n        <html>\n          <head>\n            <title>Print - ${document.title}</title>\n          </head>\n          <body>\n            <div>${this.el.innerHTML}</div>\n          </body>\n        </html>\n      `)\n      win.print()\n      win.close()\n\n      return\n    }\n    else if (cmd === 'link') {\n      const link = this.getParentAttribute('href')\n\n      if (link === null) {\n        const selection = this.selectWord(this.selection)\n        const url = selection ? selection.toString() : ''\n\n        if (!url.length) {\n          return\n        }\n\n        this.vm.editLinkUrl = urlRegex.test(url) ? url : 'https://'\n        document.execCommand('createLink', false, this.vm.editLinkUrl)\n\n        this.save(selection.getRangeAt(0))\n      }\n      else {\n        this.vm.editLinkUrl = link\n\n        this.range.selectNodeContents(this.parent)\n        this.save()\n      }\n\n      return\n    }\n    else if (cmd === 'fullscreen') {\n      this.vm.toggleFullscreen()\n      done()\n\n      return\n    }\n    else if (cmd === 'viewsource') {\n      this.vm.isViewingSource = this.vm.isViewingSource === false\n      this.vm.__setContent(this.vm.value)\n      done()\n\n      return\n    }\n\n    document.execCommand(cmd, false, param)\n\n    done()\n  }\n\n  selectWord (sel) {\n    if (sel === null || sel.isCollapsed !== true || /* IE 11 */ sel.modify === void 0) {\n      return sel\n    }\n\n    // Detect if selection is backwards\n    const range = document.createRange()\n    range.setStart(sel.anchorNode, sel.anchorOffset)\n    range.setEnd(sel.focusNode, sel.focusOffset)\n    const direction = range.collapsed ? ['backward', 'forward'] : ['forward', 'backward']\n    range.detach()\n\n    // modify() works on the focus of the selection\n    const\n      endNode = sel.focusNode,\n      endOffset = sel.focusOffset\n    sel.collapse(sel.anchorNode, sel.anchorOffset)\n    sel.modify('move', direction[0], 'character')\n    sel.modify('move', direction[1], 'word')\n    sel.extend(endNode, endOffset)\n    sel.modify('extend', direction[1], 'character')\n    sel.modify('extend', direction[0], 'word')\n\n    return sel\n  }\n}\n"]}]}