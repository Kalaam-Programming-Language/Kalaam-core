{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/directives/TouchHold.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/directives/TouchHold.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLm5vdyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7CmltcG9ydCB7IGNsaWVudCB9IGZyb20gJy4uL3BsdWdpbnMvUGxhdGZvcm0uanMnOwppbXBvcnQgeyBnZXRUb3VjaFRhcmdldCB9IGZyb20gJy4uL3V0aWxzL3RvdWNoLmpzJzsKaW1wb3J0IHsgYWRkRXZ0LCBjbGVhbkV2dCwgcG9zaXRpb24sIGxlZnRDbGljaywgc3RvcEFuZFByZXZlbnQsIG5vb3AgfSBmcm9tICcuLi91dGlscy9ldmVudC5qcyc7CmltcG9ydCB7IGNsZWFyU2VsZWN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvc2VsZWN0aW9uLmpzJzsKCmZ1bmN0aW9uIHVwZGF0ZShlbCwgYmluZGluZykgewogIHZhciBjdHggPSBlbC5fX3F0b3VjaGhvbGQ7CgogIGlmIChjdHggIT09IHZvaWQgMCkgewogICAgaWYgKGJpbmRpbmcub2xkVmFsdWUgIT09IGJpbmRpbmcudmFsdWUpIHsKICAgICAgdHlwZW9mIGJpbmRpbmcudmFsdWUgIT09ICdmdW5jdGlvbicgJiYgY3R4LmVuZCgpOwogICAgICBjdHguaGFuZGxlciA9IGJpbmRpbmcudmFsdWU7CiAgICB9IC8vIGR1cmF0aW9uIGluIG1zLCB0b3VjaCBpbiBwaXhlbHMsIG1vdXNlIGluIHBpeGVscwoKCiAgICB2YXIgZGF0YSA9IFs2MDAsIDUsIDddOwoKICAgIGlmICh0eXBlb2YgYmluZGluZy5hcmcgPT09ICdzdHJpbmcnICYmIGJpbmRpbmcuYXJnLmxlbmd0aCkgewogICAgICBiaW5kaW5nLmFyZy5zcGxpdCgnOicpLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaW5kZXgpIHsKICAgICAgICB2YXIgdiA9IHBhcnNlSW50KHZhbCwgMTApOwogICAgICAgIHYgJiYgKGRhdGFbaW5kZXhdID0gdik7CiAgICAgIH0pOwogICAgfQoKICAgIGN0eC5kdXJhdGlvbiA9IGRhdGFbMF07CiAgICBjdHgudG91Y2hTZW5zaXRpdml0eSA9IGRhdGFbMV07CiAgICBjdHgubW91c2VTZW5zaXRpdml0eSA9IGRhdGFbMl07CiAgfQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3RvdWNoLWhvbGQnLAogIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoZWwsIGJpbmRpbmcpIHsKICAgIHZhciBtb2RpZmllcnMgPSBiaW5kaW5nLm1vZGlmaWVyczsgLy8gZWFybHkgcmV0dXJuLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nCgogICAgaWYgKG1vZGlmaWVycy5tb3VzZSAhPT0gdHJ1ZSAmJiBjbGllbnQuaGFzLnRvdWNoICE9PSB0cnVlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgY3R4ID0gewogICAgICBub29wOiBub29wLAogICAgICBtb3VzZVN0YXJ0OiBmdW5jdGlvbiBtb3VzZVN0YXJ0KGV2dCkgewogICAgICAgIGlmICh0eXBlb2YgY3R4LmhhbmRsZXIgPT09ICdmdW5jdGlvbicgJiYgbGVmdENsaWNrKGV2dCkgPT09IHRydWUpIHsKICAgICAgICAgIGFkZEV2dChjdHgsICd0ZW1wJywgW1tkb2N1bWVudCwgJ21vdXNlbW92ZScsICdtb3ZlJywgJ3Bhc3NpdmVDYXB0dXJlJ10sIFtkb2N1bWVudCwgJ2NsaWNrJywgJ2VuZCcsICdub3RQYXNzaXZlQ2FwdHVyZSddXSk7CiAgICAgICAgICBjdHguc3RhcnQoZXZ0LCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRvdWNoU3RhcnQ6IGZ1bmN0aW9uIHRvdWNoU3RhcnQoZXZ0KSB7CiAgICAgICAgaWYgKGV2dC50YXJnZXQgIT09IHZvaWQgMCAmJiB0eXBlb2YgY3R4LmhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHZhciB0YXJnZXQgPSBnZXRUb3VjaFRhcmdldChldnQudGFyZ2V0KTsKICAgICAgICAgIGFkZEV2dChjdHgsICd0ZW1wJywgW1t0YXJnZXQsICd0b3VjaG1vdmUnLCAnbW92ZScsICdwYXNzaXZlQ2FwdHVyZSddLCBbdGFyZ2V0LCAndG91Y2hjYW5jZWwnLCAnZW5kJywgJ25vdFBhc3NpdmVDYXB0dXJlJ10sIFt0YXJnZXQsICd0b3VjaGVuZCcsICdlbmQnLCAnbm90UGFzc2l2ZUNhcHR1cmUnXV0pOwogICAgICAgICAgY3R4LnN0YXJ0KGV2dCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoZXZ0LCBtb3VzZUV2ZW50KSB7CiAgICAgICAgY3R4Lm9yaWdpbiA9IHBvc2l0aW9uKGV2dCk7CiAgICAgICAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7CgogICAgICAgIGlmIChjbGllbnQuaXMubW9iaWxlID09PSB0cnVlKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ25vbi1zZWxlY3RhYmxlJyk7CiAgICAgICAgICBjbGVhclNlbGVjdGlvbigpOwoKICAgICAgICAgIGN0eC5zdHlsZUNsZWFudXAgPSBmdW5jdGlvbiAod2l0aERlbGF5KSB7CiAgICAgICAgICAgIGN0eC5zdHlsZUNsZWFudXAgPSB2b2lkIDA7CgogICAgICAgICAgICB2YXIgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbm9uLXNlbGVjdGFibGUnKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmICh3aXRoRGVsYXkgPT09IHRydWUpIHsKICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbigpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQocmVtb3ZlLCAxMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBjdHgudHJpZ2dlcmVkID0gZmFsc2U7CiAgICAgICAgY3R4LnNlbnNpdGl2aXR5ID0gbW91c2VFdmVudCA9PT0gdHJ1ZSA/IGN0eC5tb3VzZVNlbnNpdGl2aXR5IDogY3R4LnRvdWNoU2Vuc2l0aXZpdHk7CiAgICAgICAgY3R4LnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjbGVhclNlbGVjdGlvbigpOwogICAgICAgICAgY3R4LnRyaWdnZXJlZCA9IHRydWU7CiAgICAgICAgICBjdHguaGFuZGxlcih7CiAgICAgICAgICAgIGV2dDogZXZ0LAogICAgICAgICAgICB0b3VjaDogbW91c2VFdmVudCAhPT0gdHJ1ZSwKICAgICAgICAgICAgbW91c2U6IG1vdXNlRXZlbnQgPT09IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiBjdHgub3JpZ2luLAogICAgICAgICAgICBkdXJhdGlvbjogRGF0ZS5ub3coKSAtIHN0YXJ0VGltZQogICAgICAgICAgfSk7CiAgICAgICAgfSwgY3R4LmR1cmF0aW9uKTsKICAgICAgfSwKICAgICAgbW92ZTogZnVuY3Rpb24gbW92ZShldnQpIHsKICAgICAgICB2YXIgX3Bvc2l0aW9uID0gcG9zaXRpb24oZXZ0KSwKICAgICAgICAgICAgdG9wID0gX3Bvc2l0aW9uLnRvcCwKICAgICAgICAgICAgbGVmdCA9IF9wb3NpdGlvbi5sZWZ0OwoKICAgICAgICBpZiAoTWF0aC5hYnMobGVmdCAtIGN0eC5vcmlnaW4ubGVmdCkgPj0gY3R4LnNlbnNpdGl2aXR5IHx8IE1hdGguYWJzKHRvcCAtIGN0eC5vcmlnaW4udG9wKSA+PSBjdHguc2Vuc2l0aXZpdHkpIHsKICAgICAgICAgIGNsZWFyVGltZW91dChjdHgudGltZXIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbiBlbmQoZXZ0KSB7CiAgICAgICAgY2xlYW5FdnQoY3R4LCAndGVtcCcpOyAvLyBkZWxheSBuZWVkZWQgb3RoZXJ3aXNlIHNlbGVjdGlvbiBzdGlsbCBvY2N1cnMKCiAgICAgICAgY3R4LnN0eWxlQ2xlYW51cCAhPT0gdm9pZCAwICYmIGN0eC5zdHlsZUNsZWFudXAoY3R4LnRyaWdnZXJlZCk7CgogICAgICAgIGlmIChjdHgudHJpZ2dlcmVkID09PSB0cnVlKSB7CiAgICAgICAgICBldnQgIT09IHZvaWQgMCAmJiBzdG9wQW5kUHJldmVudChldnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQoY3R4LnRpbWVyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgaWYgKGVsLl9fcXRvdWNoaG9sZCkgewogICAgICBlbC5fX3F0b3VjaGhvbGRfb2xkID0gZWwuX19xdG91Y2hob2xkOwogICAgfQoKICAgIGVsLl9fcXRvdWNoaG9sZCA9IGN0eDsKICAgIHVwZGF0ZShlbCwgYmluZGluZyk7CiAgICBtb2RpZmllcnMubW91c2UgPT09IHRydWUgJiYgYWRkRXZ0KGN0eCwgJ21haW4nLCBbW2VsLCAnbW91c2Vkb3duJywgJ21vdXNlU3RhcnQnLCAicGFzc2l2ZSIuY29uY2F0KG1vZGlmaWVycy5tb3VzZUNhcHR1cmUgPT09IHRydWUgPyAnQ2FwdHVyZScgOiAnJyldXSk7CiAgICBjbGllbnQuaGFzLnRvdWNoID09PSB0cnVlICYmIGFkZEV2dChjdHgsICdtYWluJywgW1tlbCwgJ3RvdWNoc3RhcnQnLCAndG91Y2hTdGFydCcsICJwYXNzaXZlIi5jb25jYXQobW9kaWZpZXJzLmNhcHR1cmUgPT09IHRydWUgPyAnQ2FwdHVyZScgOiAnJyldLCBbZWwsICd0b3VjaGVuZCcsICdub29wJywgJ25vdFBhc3NpdmVDYXB0dXJlJ11dKTsKICB9LAogIHVwZGF0ZTogdXBkYXRlLAogIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKGVsKSB7CiAgICB2YXIgY3R4ID0gZWwuX19xdG91Y2hob2xkX29sZCB8fCBlbC5fX3F0b3VjaGhvbGQ7CgogICAgaWYgKGN0eCAhPT0gdm9pZCAwKSB7CiAgICAgIGNsZWFuRXZ0KGN0eCwgJ21haW4nKTsKICAgICAgY2xlYW5FdnQoY3R4LCAndGVtcCcpOwogICAgICBjbGVhclRpbWVvdXQoY3R4LnRpbWVyKTsKICAgICAgY3R4LnN0eWxlQ2xlYW51cCAhPT0gdm9pZCAwICYmIGN0eC5zdHlsZUNsZWFudXAoKTsKICAgICAgZGVsZXRlIGVsW2VsLl9fcXRvdWNoaG9sZF9vbGQgPyAnX19xdG91Y2hob2xkX29sZCcgOiAnX19xdG91Y2hob2xkJ107CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/directives/TouchHold.js"],"names":["client","getTouchTarget","addEvt","cleanEvt","position","leftClick","stopAndPrevent","noop","clearSelection","update","el","binding","ctx","__qtouchhold","oldValue","value","end","handler","data","arg","length","split","forEach","val","index","v","parseInt","duration","touchSensitivity","mouseSensitivity","name","bind","modifiers","mouse","has","touch","mouseStart","evt","document","start","touchStart","target","mouseEvent","origin","startTime","Date","now","is","mobile","body","classList","add","styleCleanup","withDelay","remove","setTimeout","triggered","sensitivity","timer","move","top","left","Math","abs","clearTimeout","__qtouchhold_old","mouseCapture","capture","unbind"],"mappings":"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","sourcesContent":["import { client } from '../plugins/Platform.js'\nimport { getTouchTarget } from '../utils/touch.js'\nimport { addEvt, cleanEvt, position, leftClick, stopAndPrevent, noop } from '../utils/event.js'\nimport { clearSelection } from '../utils/selection.js'\n\nfunction update (el, binding) {\n  const ctx = el.__qtouchhold\n\n  if (ctx !== void 0) {\n    if (binding.oldValue !== binding.value) {\n      typeof binding.value !== 'function' && ctx.end()\n      ctx.handler = binding.value\n    }\n\n    // duration in ms, touch in pixels, mouse in pixels\n    const data = [600, 5, 7]\n\n    if (typeof binding.arg === 'string' && binding.arg.length) {\n      binding.arg.split(':').forEach((val, index) => {\n        const v = parseInt(val, 10)\n        v && (data[index] = v)\n      })\n    }\n\n    [ ctx.duration, ctx.touchSensitivity, ctx.mouseSensitivity ] = data\n  }\n}\n\nexport default {\n  name: 'touch-hold',\n\n  bind (el, binding) {\n    const { modifiers } = binding\n\n    // early return, we don't need to do anything\n    if (modifiers.mouse !== true && client.has.touch !== true) {\n      return\n    }\n\n    const ctx = {\n      noop,\n\n      mouseStart (evt) {\n        if (typeof ctx.handler === 'function' && leftClick(evt) === true) {\n          addEvt(ctx, 'temp', [\n            [ document, 'mousemove', 'move', 'passiveCapture' ],\n            [ document, 'click', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt, true)\n        }\n      },\n\n      touchStart (evt) {\n        if (evt.target !== void 0 && typeof ctx.handler === 'function') {\n          const target = getTouchTarget(evt.target)\n          addEvt(ctx, 'temp', [\n            [ target, 'touchmove', 'move', 'passiveCapture' ],\n            [ target, 'touchcancel', 'end', 'notPassiveCapture' ],\n            [ target, 'touchend', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt)\n        }\n      },\n\n      start (evt, mouseEvent) {\n        ctx.origin = position(evt)\n\n        const startTime = Date.now()\n\n        if (client.is.mobile === true) {\n          document.body.classList.add('non-selectable')\n          clearSelection()\n\n          ctx.styleCleanup = withDelay => {\n            ctx.styleCleanup = void 0\n\n            const remove = () => {\n              document.body.classList.remove('non-selectable')\n            }\n\n            if (withDelay === true) {\n              clearSelection()\n              setTimeout(remove, 10)\n            }\n            else { remove() }\n          }\n        }\n\n        ctx.triggered = false\n        ctx.sensitivity = mouseEvent === true\n          ? ctx.mouseSensitivity\n          : ctx.touchSensitivity\n\n        ctx.timer = setTimeout(() => {\n          clearSelection()\n          ctx.triggered = true\n\n          ctx.handler({\n            evt,\n            touch: mouseEvent !== true,\n            mouse: mouseEvent === true,\n            position: ctx.origin,\n            duration: Date.now() - startTime\n          })\n        }, ctx.duration)\n      },\n\n      move (evt) {\n        const { top, left } = position(evt)\n        if (\n          Math.abs(left - ctx.origin.left) >= ctx.sensitivity ||\n          Math.abs(top - ctx.origin.top) >= ctx.sensitivity\n        ) {\n          clearTimeout(ctx.timer)\n        }\n      },\n\n      end (evt) {\n        cleanEvt(ctx, 'temp')\n\n        // delay needed otherwise selection still occurs\n        ctx.styleCleanup !== void 0 && ctx.styleCleanup(ctx.triggered)\n\n        if (ctx.triggered === true) {\n          evt !== void 0 && stopAndPrevent(evt)\n        }\n        else {\n          clearTimeout(ctx.timer)\n        }\n      }\n    }\n\n    if (el.__qtouchhold) {\n      el.__qtouchhold_old = el.__qtouchhold\n    }\n\n    el.__qtouchhold = ctx\n\n    update(el, binding)\n\n    modifiers.mouse === true && addEvt(ctx, 'main', [\n      [ el, 'mousedown', 'mouseStart', `passive${modifiers.mouseCapture === true ? 'Capture' : ''}` ]\n    ])\n\n    client.has.touch === true && addEvt(ctx, 'main', [\n      [ el, 'touchstart', 'touchStart', `passive${modifiers.capture === true ? 'Capture' : ''}` ],\n      [ el, 'touchend', 'noop', 'notPassiveCapture' ]\n    ])\n  },\n\n  update,\n\n  unbind (el) {\n    const ctx = el.__qtouchhold_old || el.__qtouchhold\n    if (ctx !== void 0) {\n      cleanEvt(ctx, 'main')\n      cleanEvt(ctx, 'temp')\n\n      clearTimeout(ctx.timer)\n      ctx.styleCleanup !== void 0 && ctx.styleCleanup()\n\n      delete el[el.__qtouchhold_old ? '__qtouchhold_old' : '__qtouchhold']\n    }\n  }\n}\n"]}]}