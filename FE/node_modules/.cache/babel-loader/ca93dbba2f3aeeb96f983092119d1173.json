{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/mixins/file.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/mixins/file.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgeyBzdG9wQW5kUHJldmVudCB9IGZyb20gJy4uL3V0aWxzL2V2ZW50LmpzJzsKaW1wb3J0IGNhY2hlIGZyb20gJy4uL3V0aWxzL2NhY2hlLmpzJzsKCmZ1bmN0aW9uIGZpbHRlckZpbGVzKGZpbGVzLCByZWplY3RlZEZpbGVzLCBmYWlsZWRQcm9wVmFsaWRhdGlvbiwgZmlsdGVyRm4pIHsKICB2YXIgYWNjZXB0ZWRGaWxlcyA9IFtdOwogIGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAgIGlmIChmaWx0ZXJGbihmaWxlKSA9PT0gdHJ1ZSkgewogICAgICBhY2NlcHRlZEZpbGVzLnB1c2goZmlsZSk7CiAgICB9IGVsc2UgewogICAgICByZWplY3RlZEZpbGVzLnB1c2goewogICAgICAgIGZhaWxlZFByb3BWYWxpZGF0aW9uOiBmYWlsZWRQcm9wVmFsaWRhdGlvbiwKICAgICAgICBmaWxlOiBmaWxlCiAgICAgIH0pOwogICAgfQogIH0pOwogIHJldHVybiBhY2NlcHRlZEZpbGVzOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG11bHRpcGxlOiBCb29sZWFuLAogICAgYWNjZXB0OiBTdHJpbmcsCiAgICBjYXB0dXJlOiBTdHJpbmcsCiAgICBtYXhGaWxlU2l6ZTogW051bWJlciwgU3RyaW5nXSwKICAgIG1heFRvdGFsU2l6ZTogW051bWJlciwgU3RyaW5nXSwKICAgIG1heEZpbGVzOiBbTnVtYmVyLCBTdHJpbmddLAogICAgZmlsdGVyOiBGdW5jdGlvbgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGV4dGVuc2lvbnM6IGZ1bmN0aW9uIGV4dGVuc2lvbnMoKSB7CiAgICAgIGlmICh0aGlzLmFjY2VwdCAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXB0LnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChleHQpIHsKICAgICAgICAgIGV4dCA9IGV4dC50cmltKCk7CgogICAgICAgICAgaWYgKGV4dCA9PT0gJyonKSB7CiAgICAgICAgICAgIC8vIHN1cHBvcnQgIioiCiAgICAgICAgICAgIHJldHVybiAnKi8nOwogICAgICAgICAgfSBlbHNlIGlmIChleHQuZW5kc1dpdGgoJy8qJykpIHsKICAgICAgICAgICAgLy8gc3VwcG9ydCAiaW1hZ2UvKiIgb3IgIiovKiIKICAgICAgICAgICAgZXh0ID0gZXh0LnNsaWNlKDAsIGV4dC5sZW5ndGggLSAxKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZXh0LnRvVXBwZXJDYXNlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBtYXhGaWxlc051bWJlcjogZnVuY3Rpb24gbWF4RmlsZXNOdW1iZXIoKSB7CiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLm1heEZpbGVzLCAxMCk7CiAgICB9LAogICAgbWF4VG90YWxTaXplTnVtYmVyOiBmdW5jdGlvbiBtYXhUb3RhbFNpemVOdW1iZXIoKSB7CiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLm1heFRvdGFsU2l6ZSwgMTApOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcGlja0ZpbGVzOiBmdW5jdGlvbiBwaWNrRmlsZXMoZSkgewogICAgICBpZiAodGhpcy5lZGl0YWJsZSkgewogICAgICAgIHZhciBpbnB1dCA9IHRoaXMuX19nZXRGaWxlSW5wdXQoKTsKCiAgICAgICAgaW5wdXQgJiYgaW5wdXQuY2xpY2soZSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRGaWxlczogZnVuY3Rpb24gYWRkRmlsZXMoZmlsZXMpIHsKICAgICAgaWYgKHRoaXMuZWRpdGFibGUgJiYgZmlsZXMpIHsKICAgICAgICB0aGlzLl9fYWRkRmlsZXMobnVsbCwgZmlsZXMpOwogICAgICB9CiAgICB9LAogICAgX19wcm9jZXNzRmlsZXM6IGZ1bmN0aW9uIF9fcHJvY2Vzc0ZpbGVzKGUsIGZpbGVzVG9Qcm9jZXNzLCBjdXJyZW50RmlsZUxpc3QsIGFwcGVuZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZpbGVzID0gQXJyYXkuZnJvbShmaWxlc1RvUHJvY2VzcyB8fCBlLnRhcmdldC5maWxlcyk7CiAgICAgIHZhciByZWplY3RlZEZpbGVzID0gW107CgogICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIGRvbmUoKSB7CiAgICAgICAgaWYgKHJlamVjdGVkRmlsZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgX3RoaXMuJGVtaXQoJ3JlamVjdGVkJywgcmVqZWN0ZWRGaWxlcyk7CiAgICAgICAgfQogICAgICB9OyAvLyBmaWx0ZXIgZmlsZSB0eXBlcwoKCiAgICAgIGlmICh0aGlzLmFjY2VwdCAhPT0gdm9pZCAwICYmIHRoaXMuZXh0ZW5zaW9ucy5pbmRleE9mKCcqLycpID09PSAtMSkgewogICAgICAgIGZpbGVzID0gZmlsdGVyRmlsZXMoZmlsZXMsIHJlamVjdGVkRmlsZXMsICdhY2NlcHQnLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzLmV4dGVuc2lvbnMuc29tZShmdW5jdGlvbiAoZXh0KSB7CiAgICAgICAgICAgIHJldHVybiBmaWxlLnR5cGUudG9VcHBlckNhc2UoKS5zdGFydHNXaXRoKGV4dCkgfHwgZmlsZS5uYW1lLnRvVXBwZXJDYXNlKCkuZW5kc1dpdGgoZXh0KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gZG9uZSgpOwogICAgICAgIH0KICAgICAgfSAvLyBmaWx0ZXIgbWF4IGZpbGUgc2l6ZQoKCiAgICAgIGlmICh0aGlzLm1heEZpbGVTaXplICE9PSB2b2lkIDApIHsKICAgICAgICB2YXIgbWF4RmlsZVNpemUgPSBwYXJzZUludCh0aGlzLm1heEZpbGVTaXplLCAxMCk7CiAgICAgICAgZmlsZXMgPSBmaWx0ZXJGaWxlcyhmaWxlcywgcmVqZWN0ZWRGaWxlcywgJ21heC1maWxlLXNpemUnLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgcmV0dXJuIGZpbGUuc2l6ZSA8PSBtYXhGaWxlU2l6ZTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGRvbmUoKTsKICAgICAgICB9CiAgICAgIH0gLy8gQ29yZG92YS9pT1MgYWxsb3dzIHNlbGVjdGluZyBtdWx0aXBsZSBmaWxlcyBldmVuIHdoZW4gdGhlCiAgICAgIC8vIG11bHRpcGxlIGF0dHJpYnV0ZSBpcyBub3Qgc3BlY2lmaWVkLiBXZSBhbHNvIG5vcm1hbGl6ZSBkcmFnJ24nZHJvcHBlZAogICAgICAvLyBmaWxlcyBoZXJlOgoKCiAgICAgIGlmICh0aGlzLm11bHRpcGxlICE9PSB0cnVlKSB7CiAgICAgICAgZmlsZXMgPSBbZmlsZXNbMF1dOwogICAgICB9CgogICAgICBpZiAodGhpcy5tYXhUb3RhbFNpemUgIT09IHZvaWQgMCkgewogICAgICAgIHZhciBzaXplID0gYXBwZW5kID09PSB0cnVlID8gY3VycmVudEZpbGVMaXN0LnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGZpbGUpIHsKICAgICAgICAgIHJldHVybiB0b3RhbCArIGZpbGUuc2l6ZTsKICAgICAgICB9LCAwKSA6IDA7CiAgICAgICAgZmlsZXMgPSBmaWx0ZXJGaWxlcyhmaWxlcywgcmVqZWN0ZWRGaWxlcywgJ21heC10b3RhbC1zaXplJywgZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgIHNpemUgKz0gZmlsZS5zaXplOwogICAgICAgICAgcmV0dXJuIHNpemUgPD0gX3RoaXMubWF4VG90YWxTaXplTnVtYmVyOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gZG9uZSgpOwogICAgICAgIH0KICAgICAgfSAvLyBkbyB3ZSBoYXZlIGN1c3RvbSBmaWx0ZXIgZnVuY3Rpb24/CgoKICAgICAgaWYgKHR5cGVvZiB0aGlzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHZhciBmaWx0ZXJlZEZpbGVzID0gdGhpcy5maWx0ZXIoZmlsZXMpOwogICAgICAgIGZpbGVzID0gZmlsdGVyRmlsZXMoZmlsZXMsIHJlamVjdGVkRmlsZXMsICdmaWx0ZXInLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgcmV0dXJuIGZpbHRlcmVkRmlsZXMuaW5jbHVkZXMoZmlsZSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm1heEZpbGVzICE9PSB2b2lkIDApIHsKICAgICAgICB2YXIgZmlsZXNOdW1iZXIgPSBhcHBlbmQgPT09IHRydWUgPyBjdXJyZW50RmlsZUxpc3QubGVuZ3RoIDogMDsKICAgICAgICBmaWxlcyA9IGZpbHRlckZpbGVzKGZpbGVzLCByZWplY3RlZEZpbGVzLCAnbWF4LWZpbGVzJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgZmlsZXNOdW1iZXIrKzsKICAgICAgICAgIHJldHVybiBmaWxlc051bWJlciA8PSBfdGhpcy5tYXhGaWxlc051bWJlcjsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGRvbmUoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGRvbmUoKTsKCiAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIGZpbGVzOwogICAgICB9CiAgICB9LAogICAgX19vbkRyYWdPdmVyOiBmdW5jdGlvbiBfX29uRHJhZ092ZXIoZSkgewogICAgICBzdG9wQW5kUHJldmVudChlKTsKICAgICAgdGhpcy5kbmQgPSB0cnVlOwogICAgfSwKICAgIF9fb25EcmFnTGVhdmU6IGZ1bmN0aW9uIF9fb25EcmFnTGVhdmUoZSkgewogICAgICBzdG9wQW5kUHJldmVudChlKTsKICAgICAgdGhpcy5kbmQgPSBmYWxzZTsKICAgIH0sCiAgICBfX29uRHJvcDogZnVuY3Rpb24gX19vbkRyb3AoZSkgewogICAgICBzdG9wQW5kUHJldmVudChlKTsKICAgICAgdmFyIGZpbGVzID0gZS5kYXRhVHJhbnNmZXIuZmlsZXM7CgogICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuX19hZGRGaWxlcyhudWxsLCBmaWxlcyk7CiAgICAgIH0KCiAgICAgIHRoaXMuZG5kID0gZmFsc2U7CiAgICB9LAogICAgX19nZXREbmQ6IGZ1bmN0aW9uIF9fZ2V0RG5kKGgsIHR5cGUpIHsKICAgICAgaWYgKHRoaXMuZG5kID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAicS0iLmNvbmNhdCh0eXBlLCAiX19kbmQgYWJzb2x1dGUtZnVsbCIpLAogICAgICAgICAgb246IGNhY2hlKHRoaXMsICdkbmQnLCB7CiAgICAgICAgICAgIGRyYWdlbnRlcjogc3RvcEFuZFByZXZlbnQsCiAgICAgICAgICAgIGRyYWdvdmVyOiBzdG9wQW5kUHJldmVudCwKICAgICAgICAgICAgZHJhZ2xlYXZlOiB0aGlzLl9fb25EcmFnTGVhdmUsCiAgICAgICAgICAgIGRyb3A6IHRoaXMuX19vbkRyb3AKICAgICAgICAgIH0pCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydCB2YXIgRmlsZVZhbHVlTWl4aW4gPSB7CiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1Eb21Qcm9wczogZnVuY3Rpb24gZm9ybURvbVByb3BzKCkgewogICAgICBpZiAodGhpcy50eXBlICE9PSAnZmlsZScpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGR0ID0gJ0RhdGFUcmFuc2ZlcicgaW4gd2luZG93ID8gbmV3IERhdGFUcmFuc2ZlcigpIDogJ0NsaXBib2FyZEV2ZW50JyBpbiB3aW5kb3cgPyBuZXcgQ2xpcGJvYXJkRXZlbnQoJycpLmNsaXBib2FyZERhdGEgOiB2b2lkIDA7CgogICAgICAgIGlmIChPYmplY3QodGhpcy52YWx1ZSkgPT09IHRoaXMudmFsdWUpIHsKICAgICAgICAgICgnbGVuZ3RoJyBpbiB0aGlzLnZhbHVlID8gQXJyYXkuZnJvbSh0aGlzLnZhbHVlKSA6IFt0aGlzLnZhbHVlXSkuZm9yRWFjaChmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgICBkdC5pdGVtcy5hZGQoZmlsZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBmaWxlczogZHQuZmlsZXMKICAgICAgICB9OwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGZpbGVzOiB2b2lkIDAKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/mixins/file.js"],"names":["stopAndPrevent","cache","filterFiles","files","rejectedFiles","failedPropValidation","filterFn","acceptedFiles","forEach","file","push","props","multiple","Boolean","accept","String","capture","maxFileSize","Number","maxTotalSize","maxFiles","filter","Function","computed","extensions","split","map","ext","trim","endsWith","slice","length","toUpperCase","maxFilesNumber","parseInt","maxTotalSizeNumber","methods","pickFiles","e","editable","input","__getFileInput","click","addFiles","__addFiles","__processFiles","filesToProcess","currentFileList","append","Array","from","target","done","$emit","indexOf","some","type","startsWith","name","size","reduce","total","filteredFiles","includes","filesNumber","__onDragOver","dnd","__onDragLeave","__onDrop","dataTransfer","__getDnd","h","staticClass","on","dragenter","dragover","dragleave","drop","FileValueMixin","formDomProps","dt","window","DataTransfer","ClipboardEvent","clipboardData","Object","value","items","add"],"mappings":"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","sourcesContent":["import { stopAndPrevent } from '../utils/event.js'\nimport cache from '../utils/cache.js'\n\nfunction filterFiles (files, rejectedFiles, failedPropValidation, filterFn) {\n  const acceptedFiles = []\n\n  files.forEach(file => {\n    if (filterFn(file) === true) {\n      acceptedFiles.push(file)\n    }\n    else {\n      rejectedFiles.push({ failedPropValidation, file })\n    }\n  })\n\n  return acceptedFiles\n}\n\nexport default {\n  props: {\n    multiple: Boolean,\n    accept: String,\n    capture: String,\n    maxFileSize: [ Number, String ],\n    maxTotalSize: [ Number, String ],\n    maxFiles: [ Number, String ],\n    filter: Function\n  },\n\n  computed: {\n    extensions () {\n      if (this.accept !== void 0) {\n        return this.accept.split(',').map(ext => {\n          ext = ext.trim()\n          if (ext === '*') { // support \"*\"\n            return '*/'\n          }\n          else if (ext.endsWith('/*')) { // support \"image/*\" or \"*/*\"\n            ext = ext.slice(0, ext.length - 1)\n          }\n          return ext.toUpperCase()\n        })\n      }\n    },\n\n    maxFilesNumber () {\n      return parseInt(this.maxFiles, 10)\n    },\n\n    maxTotalSizeNumber () {\n      return parseInt(this.maxTotalSize, 10)\n    }\n  },\n\n  methods: {\n    pickFiles (e) {\n      if (this.editable) {\n        const input = this.__getFileInput()\n        input && input.click(e)\n      }\n    },\n\n    addFiles (files) {\n      if (this.editable && files) {\n        this.__addFiles(null, files)\n      }\n    },\n\n    __processFiles (e, filesToProcess, currentFileList, append) {\n      let files = Array.from(filesToProcess || e.target.files)\n      const rejectedFiles = []\n\n      const done = () => {\n        if (rejectedFiles.length > 0) {\n          this.$emit('rejected', rejectedFiles)\n        }\n      }\n\n      // filter file types\n      if (this.accept !== void 0 && this.extensions.indexOf('*/') === -1) {\n        files = filterFiles(files, rejectedFiles, 'accept', file => {\n          return this.extensions.some(ext => (\n            file.type.toUpperCase().startsWith(ext) ||\n            file.name.toUpperCase().endsWith(ext)\n          ))\n        })\n\n        if (files.length === 0) { return done() }\n      }\n\n      // filter max file size\n      if (this.maxFileSize !== void 0) {\n        const maxFileSize = parseInt(this.maxFileSize, 10)\n        files = filterFiles(files, rejectedFiles, 'max-file-size', file => {\n          return file.size <= maxFileSize\n        })\n\n        if (files.length === 0) { return done() }\n      }\n\n      // Cordova/iOS allows selecting multiple files even when the\n      // multiple attribute is not specified. We also normalize drag'n'dropped\n      // files here:\n      if (this.multiple !== true) {\n        files = [ files[0] ]\n      }\n\n      if (this.maxTotalSize !== void 0) {\n        let size = append === true\n          ? currentFileList.reduce((total, file) => total + file.size, 0)\n          : 0\n\n        files = filterFiles(files, rejectedFiles, 'max-total-size', file => {\n          size += file.size\n          return size <= this.maxTotalSizeNumber\n        })\n\n        if (files.length === 0) { return done() }\n      }\n\n      // do we have custom filter function?\n      if (typeof this.filter === 'function') {\n        const filteredFiles = this.filter(files)\n        files = filterFiles(files, rejectedFiles, 'filter', file => {\n          return filteredFiles.includes(file)\n        })\n      }\n\n      if (this.maxFiles !== void 0) {\n        let filesNumber = append === true\n          ? currentFileList.length\n          : 0\n\n        files = filterFiles(files, rejectedFiles, 'max-files', () => {\n          filesNumber++\n          return filesNumber <= this.maxFilesNumber\n        })\n\n        if (files.length === 0) { return done() }\n      }\n\n      done()\n\n      if (files.length > 0) {\n        return files\n      }\n    },\n\n    __onDragOver (e) {\n      stopAndPrevent(e)\n      this.dnd = true\n    },\n\n    __onDragLeave (e) {\n      stopAndPrevent(e)\n      this.dnd = false\n    },\n\n    __onDrop (e) {\n      stopAndPrevent(e)\n      const files = e.dataTransfer.files\n\n      if (files.length > 0) {\n        this.__addFiles(null, files)\n      }\n\n      this.dnd = false\n    },\n\n    __getDnd (h, type) {\n      if (this.dnd === true) {\n        return h('div', {\n          staticClass: `q-${type}__dnd absolute-full`,\n          on: cache(this, 'dnd', {\n            dragenter: stopAndPrevent,\n            dragover: stopAndPrevent,\n            dragleave: this.__onDragLeave,\n            drop: this.__onDrop\n          })\n        })\n      }\n    }\n  }\n}\n\nexport const FileValueMixin = {\n  computed: {\n    formDomProps () {\n      if (this.type !== 'file') {\n        return\n      }\n\n      try {\n        const dt = 'DataTransfer' in window\n          ? new DataTransfer()\n          : ('ClipboardEvent' in window\n            ? new ClipboardEvent('').clipboardData\n            : void 0\n          )\n\n        if (Object(this.value) === this.value) {\n          ('length' in this.value\n            ? Array.from(this.value)\n            : [ this.value ]\n          ).forEach(file => {\n            dt.items.add(file)\n          })\n        }\n\n        return {\n          files: dt.files\n        }\n      }\n      catch (e) {\n        return {\n          files: void 0\n        }\n      }\n    }\n  }\n}\n"]}]}