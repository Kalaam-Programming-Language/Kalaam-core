{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/file/QFile.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/file/QFile.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvam9ubnkvRGVza3RvcC9teVByb2plY3RzL0thbGFhbS1jb3JlL0ZFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBRRmllbGQgZnJvbSAnLi4vZmllbGQvUUZpZWxkLmpzJzsKaW1wb3J0IFFDaGlwIGZyb20gJy4uL2NoaXAvUUNoaXAuanMnOwppbXBvcnQgeyBGb3JtRmllbGRNaXhpbiB9IGZyb20gJy4uLy4uL21peGlucy9mb3JtLmpzJzsKaW1wb3J0IEZpbGVNaXhpbiwgeyBGaWxlVmFsdWVNaXhpbiB9IGZyb20gJy4uLy4uL21peGlucy9maWxlLmpzJzsKaW1wb3J0IHsgaXNTU1IgfSBmcm9tICcuLi8uLi9wbHVnaW5zL1BsYXRmb3JtJzsKaW1wb3J0IHsgaHVtYW5TdG9yYWdlU2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2Zvcm1hdC5qcyc7CmltcG9ydCBjYWNoZSBmcm9tICcuLi8uLi91dGlscy9jYWNoZS5qcyc7CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdRRmlsZScsCiAgbWl4aW5zOiBbUUZpZWxkLCBGaWxlTWl4aW4sIEZvcm1GaWVsZE1peGluLCBGaWxlVmFsdWVNaXhpbl0sCiAgcHJvcHM6IHsKICAgIC8qIFNTUiBkb2VzIG5vdCBrbm93IGFib3V0IEZpbGUgJiBGaWxlTGlzdCAqLwogICAgdmFsdWU6IGlzU1NSID09PSB0cnVlID8ge30gOiBbRmlsZSwgRmlsZUxpc3QsIEFycmF5XSwKICAgIGFwcGVuZDogQm9vbGVhbiwKICAgIHVzZUNoaXBzOiBCb29sZWFuLAogICAgZGlzcGxheVZhbHVlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgdGFiaW5kZXg6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgImRlZmF1bHQiOiAwCiAgICB9LAogICAgY291bnRlckxhYmVsOiBGdW5jdGlvbiwKICAgIGlucHV0Q2xhc3M6IFtBcnJheSwgU3RyaW5nLCBPYmplY3RdLAogICAgaW5wdXRTdHlsZTogW0FycmF5LCBTdHJpbmcsIE9iamVjdF0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkbmQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlubmVyVmFsdWU6IGZ1bmN0aW9uIGlubmVyVmFsdWUoKSB7CiAgICAgIHJldHVybiBPYmplY3QodGhpcy52YWx1ZSkgPT09IHRoaXMudmFsdWUgPyAnbGVuZ3RoJyBpbiB0aGlzLnZhbHVlID8gQXJyYXkuZnJvbSh0aGlzLnZhbHVlKSA6IFt0aGlzLnZhbHVlXSA6IFtdOwogICAgfSwKICAgIHNlbGVjdGVkU3RyaW5nOiBmdW5jdGlvbiBzZWxlY3RlZFN0cmluZygpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5uZXJWYWx1ZS5tYXAoZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICByZXR1cm4gZmlsZS5uYW1lOwogICAgICB9KS5qb2luKCcsICcpOwogICAgfSwKICAgIHRvdGFsU2l6ZTogZnVuY3Rpb24gdG90YWxTaXplKCkgewogICAgICByZXR1cm4gaHVtYW5TdG9yYWdlU2l6ZSh0aGlzLmlubmVyVmFsdWUucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGZpbGUpIHsKICAgICAgICByZXR1cm4gYWNjICsgZmlsZS5zaXplOwogICAgICB9LCAwKSk7CiAgICB9LAogICAgY291bnRlclByb3BzOiBmdW5jdGlvbiBjb3VudGVyUHJvcHMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdG90YWxTaXplOiB0aGlzLnRvdGFsU2l6ZSwKICAgICAgICBmaWxlc051bWJlcjogdGhpcy5pbm5lclZhbHVlLmxlbmd0aCwKICAgICAgICBtYXhGaWxlczogdGhpcy5tYXhGaWxlcwogICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkQ291bnRlcjogZnVuY3Rpb24gY29tcHV0ZWRDb3VudGVyKCkgewogICAgICBpZiAodGhpcy5jb3VudGVyTGFiZWwgIT09IHZvaWQgMCkgewogICAgICAgIHJldHVybiB0aGlzLmNvdW50ZXJMYWJlbCh0aGlzLmNvdW50ZXJQcm9wcyk7CiAgICAgIH0KCiAgICAgIHZhciBtYXggPSB0aGlzLm1heEZpbGVzOwogICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuaW5uZXJWYWx1ZS5sZW5ndGgpLmNvbmNhdChtYXggIT09IHZvaWQgMCA/ICcgLyAnICsgbWF4IDogJycsICIgKCIpLmNvbmNhdCh0aGlzLnRvdGFsU2l6ZSwgIikiKTsKICAgIH0sCiAgICBpbnB1dEF0dHJzOiBmdW5jdGlvbiBpbnB1dEF0dHJzKCkgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7CiAgICAgICAgdGFiaW5kZXg6IC0xLAogICAgICAgIHR5cGU6ICdmaWxlJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgLy8gdHJ5IHRvIHJlbW92ZSBkZWZhdWx0IHRvb2x0aXAsCiAgICAgICAgYWNjZXB0OiB0aGlzLmFjY2VwdCwKICAgICAgICBjYXB0dXJlOiB0aGlzLmNhcHR1cmUsCiAgICAgICAgbmFtZTogdGhpcy5uYW1lUHJvcAogICAgICB9LCB0aGlzLnFBdHRycywgewogICAgICAgIGlkOiB0aGlzLnRhcmdldFVpZCwKICAgICAgICBkaXNhYmxlZDogdGhpcy5lZGl0YWJsZSAhPT0gdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICBpc0FwcGVuZGluZzogZnVuY3Rpb24gaXNBcHBlbmRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLm11bHRpcGxlID09PSB0cnVlICYmIHRoaXMuYXBwZW5kID09PSB0cnVlOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlQXRJbmRleDogZnVuY3Rpb24gcmVtb3ZlQXRJbmRleChpbmRleCkgewogICAgICB2YXIgZmlsZXMgPSB0aGlzLmlubmVyVmFsdWUuc2xpY2UoKTsKICAgICAgZmlsZXMuc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgIHRoaXMuX19lbWl0VmFsdWUoZmlsZXMpOwogICAgfSwKICAgIHJlbW92ZUZpbGU6IGZ1bmN0aW9uIHJlbW92ZUZpbGUoZmlsZSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmlubmVyVmFsdWUuZmluZEluZGV4KGZpbGUpOwoKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICB0aGlzLnJlbW92ZUF0SW5kZXgoaW5kZXgpOwogICAgICB9CiAgICB9LAogICAgX19lbWl0VmFsdWU6IGZ1bmN0aW9uIF9fZW1pdFZhbHVlKGZpbGVzKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSA/IGZpbGVzIDogZmlsZXNbMF0pOwogICAgfSwKICAgIF9fb25LZXl1cDogZnVuY3Rpb24gX19vbktleXVwKGUpIHsKICAgICAgLy8gb25seSBvbiBFTlRFUgogICAgICBlLmtleUNvZGUgPT09IDEzICYmIHRoaXMucGlja0ZpbGVzKGUpOwogICAgfSwKICAgIF9fZ2V0RmlsZUlucHV0OiBmdW5jdGlvbiBfX2dldEZpbGVJbnB1dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJlZnMuaW5wdXQ7CiAgICB9LAogICAgX19hZGRGaWxlczogZnVuY3Rpb24gX19hZGRGaWxlcyhlLCBmaWxlTGlzdCkgewogICAgICB2YXIgZmlsZXMgPSB0aGlzLl9fcHJvY2Vzc0ZpbGVzKGUsIGZpbGVMaXN0LCB0aGlzLmlubmVyVmFsdWUsIHRoaXMuaXNBcHBlbmRpbmcpOwoKICAgICAgZmlsZXMgIT09IHZvaWQgMCAmJiB0aGlzLl9fZW1pdFZhbHVlKHRoaXMuaXNBcHBlbmRpbmcgPT09IHRydWUgPyB0aGlzLmlubmVyVmFsdWUuY29uY2F0KGZpbGVzKSA6IGZpbGVzKTsKICAgIH0sCiAgICBfX2dldENvbnRyb2w6IGZ1bmN0aW9uIF9fZ2V0Q29udHJvbChoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHJlZjogJ3RhcmdldCcsCiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWZpZWxkX19uYXRpdmUgcm93IGl0ZW1zLWNlbnRlciBjdXJzb3ItcG9pbnRlcicsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLnRhYmluZGV4CiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKHRoaXMuZWRpdGFibGUgPT09IHRydWUpIHsKICAgICAgICBkYXRhLm9uID0gY2FjaGUodGhpcywgJ25hdGl2ZScsIHsKICAgICAgICAgIGRyYWdvdmVyOiB0aGlzLl9fb25EcmFnT3ZlciwKICAgICAgICAgIGtleXVwOiB0aGlzLl9fb25LZXl1cAogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gaCgnZGl2JywgZGF0YSwgW3RoaXMuX19nZXRJbnB1dChoKV0uY29uY2F0KHRoaXMuX19nZXRTZWxlY3Rpb24oaCkpKTsKICAgIH0sCiAgICBfX2dldENvbnRyb2xDaGlsZDogZnVuY3Rpb24gX19nZXRDb250cm9sQ2hpbGQoaCkgewogICAgICByZXR1cm4gdGhpcy5fX2dldERuZChoLCAnZmlsZScpOwogICAgfSwKICAgIF9fZ2V0U2VsZWN0aW9uOiBmdW5jdGlvbiBfX2dldFNlbGVjdGlvbihoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuZmlsZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJWYWx1ZS5tYXAoZnVuY3Rpb24gKGZpbGUsIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuJHNjb3BlZFNsb3RzLmZpbGUoewogICAgICAgICAgICBpbmRleDogaW5kZXgsCiAgICAgICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgICAgIHJlZjogX3RoaXMKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuc2VsZWN0ZWQgIT09IHZvaWQgMCkgewogICAgICAgIHJldHVybiB0aGlzLiRzY29wZWRTbG90cy5zZWxlY3RlZCh7CiAgICAgICAgICBmaWxlczogdGhpcy5pbm5lclZhbHVlLAogICAgICAgICAgcmVmOiB0aGlzCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnVzZUNoaXBzID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXJWYWx1ZS5tYXAoZnVuY3Rpb24gKGZpbGUsIGkpIHsKICAgICAgICAgIHJldHVybiBoKFFDaGlwLCB7CiAgICAgICAgICAgIGtleTogJ2ZpbGUtJyArIGksCiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgcmVtb3ZhYmxlOiBfdGhpcy5lZGl0YWJsZSwKICAgICAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgICAgICB0ZXh0Q29sb3I6IF90aGlzLmNvbG9yLAogICAgICAgICAgICAgIHRhYmluZGV4OiBfdGhpcy50YWJpbmRleAogICAgICAgICAgICB9LAogICAgICAgICAgICBvbjogY2FjaGUoX3RoaXMsICdyZW0jJyArIGksIHsKICAgICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZUF0SW5kZXgoaSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgfSwgW2goJ3NwYW4nLCB7CiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiAnZWxsaXBzaXMnLAogICAgICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgICAgIHRleHRDb250ZW50OiBmaWxlLm5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgfSldKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtoKCdkaXYnLCB7CiAgICAgICAgc3R5bGU6IHRoaXMuaW5wdXRTdHlsZSwKICAgICAgICAiY2xhc3MiOiB0aGlzLmlucHV0Q2xhc3MsCiAgICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAgIHRleHRDb250ZW50OiB0aGlzLmRpc3BsYXlWYWx1ZSAhPT0gdm9pZCAwID8gdGhpcy5kaXNwbGF5VmFsdWUgOiB0aGlzLnNlbGVjdGVkU3RyaW5nCiAgICAgICAgfQogICAgICB9KV07CiAgICB9LAogICAgX19nZXRJbnB1dDogZnVuY3Rpb24gX19nZXRJbnB1dChoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHJlZjogJ2lucHV0JywKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZmllbGRfX2lucHV0IGZpdCBhYnNvbHV0ZS1mdWxsIGN1cnNvci1wb2ludGVyJywKICAgICAgICBhdHRyczogdGhpcy5pbnB1dEF0dHJzLAogICAgICAgIGRvbVByb3BzOiB0aGlzLmZvcm1Eb21Qcm9wcywKICAgICAgICBvbjogY2FjaGUodGhpcywgJ2lucHV0JywgewogICAgICAgICAgY2hhbmdlOiB0aGlzLl9fYWRkRmlsZXMKICAgICAgICB9KQogICAgICB9OwoKICAgICAgaWYgKHRoaXMubXVsdGlwbGUgPT09IHRydWUpIHsKICAgICAgICBkYXRhLmF0dHJzLm11bHRpcGxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGgoJ2lucHV0JywgZGF0YSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5maWVsZENsYXNzID0gJ3EtZmlsZSBxLWZpZWxkLS1hdXRvLWhlaWdodCc7IC8vIG5lY2Vzc2FyeSBmb3IgUUZpZWxkJ3MgY2xlYXJhYmxlCiAgICAvLyBhbmQgRmlsZVZhbHVlTWl4aW4KCiAgICB0aGlzLnR5cGUgPSAnZmlsZSc7CiAgfQp9KTs="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/file/QFile.js"],"names":["Vue","QField","QChip","FormFieldMixin","FileMixin","FileValueMixin","isSSR","humanStorageSize","cache","extend","name","mixins","props","value","File","FileList","Array","append","Boolean","useChips","displayValue","String","Number","tabindex","type","counterLabel","Function","inputClass","Object","inputStyle","data","dnd","computed","innerValue","from","selectedString","map","file","join","totalSize","reduce","acc","size","counterProps","filesNumber","length","maxFiles","computedCounter","max","inputAttrs","title","accept","capture","nameProp","qAttrs","id","targetUid","disabled","editable","isAppending","multiple","methods","removeAtIndex","index","files","slice","splice","__emitValue","removeFile","findIndex","$emit","__onKeyup","e","keyCode","pickFiles","__getFileInput","$refs","input","__addFiles","fileList","__processFiles","concat","__getControl","h","ref","staticClass","attrs","on","dragover","__onDragOver","keyup","__getInput","__getSelection","__getControlChild","__getDnd","$scopedSlots","selected","i","key","removable","dense","textColor","color","remove","domProps","textContent","style","formDomProps","change","created","fieldClass"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport QField from '../field/QField.js'\nimport QChip from '../chip/QChip.js'\n\nimport { FormFieldMixin } from '../../mixins/form.js'\nimport FileMixin, { FileValueMixin } from '../../mixins/file.js'\n\nimport { isSSR } from '../../plugins/Platform'\nimport { humanStorageSize } from '../../utils/format.js'\nimport cache from '../../utils/cache.js'\n\nexport default Vue.extend({\n  name: 'QFile',\n\n  mixins: [ QField, FileMixin, FormFieldMixin, FileValueMixin ],\n\n  props: {\n    /* SSR does not know about File & FileList */\n    value: isSSR === true\n      ? {}\n      : [ File, FileList, Array ],\n\n    append: Boolean,\n    useChips: Boolean,\n    displayValue: [ String, Number ],\n\n    tabindex: {\n      type: [ String, Number ],\n      default: 0\n    },\n\n    counterLabel: Function,\n\n    inputClass: [ Array, String, Object ],\n    inputStyle: [ Array, String, Object ]\n  },\n\n  data () {\n    return {\n      dnd: false\n    }\n  },\n\n  computed: {\n    innerValue () {\n      return Object(this.value) === this.value\n        ? ('length' in this.value ? Array.from(this.value) : [ this.value ])\n        : []\n    },\n\n    selectedString () {\n      return this.innerValue\n        .map(file => file.name)\n        .join(', ')\n    },\n\n    totalSize () {\n      return humanStorageSize(\n        this.innerValue.reduce((acc, file) => acc + file.size, 0)\n      )\n    },\n\n    counterProps () {\n      return {\n        totalSize: this.totalSize,\n        filesNumber: this.innerValue.length,\n        maxFiles: this.maxFiles\n      }\n    },\n\n    computedCounter () {\n      if (this.counterLabel !== void 0) {\n        return this.counterLabel(this.counterProps)\n      }\n\n      const max = this.maxFiles\n      return `${this.innerValue.length}${max !== void 0 ? ' / ' + max : ''} (${this.totalSize})`\n    },\n\n    inputAttrs () {\n      return {\n        tabindex: -1,\n        type: 'file',\n        title: '', // try to remove default tooltip,\n        accept: this.accept,\n        capture: this.capture,\n        name: this.nameProp,\n        ...this.qAttrs,\n        id: this.targetUid,\n        disabled: this.editable !== true\n      }\n    },\n\n    isAppending () {\n      return this.multiple === true && this.append === true\n    }\n  },\n\n  methods: {\n    removeAtIndex (index) {\n      const files = this.innerValue.slice()\n      files.splice(index, 1)\n      this.__emitValue(files)\n    },\n\n    removeFile (file) {\n      const index = this.innerValue.findIndex(file)\n      if (index > -1) {\n        this.removeAtIndex(index)\n      }\n    },\n\n    __emitValue (files) {\n      this.$emit('input', this.multiple === true ? files : files[0])\n    },\n\n    __onKeyup (e) {\n      // only on ENTER\n      e.keyCode === 13 && this.pickFiles(e)\n    },\n\n    __getFileInput () {\n      return this.$refs.input\n    },\n\n    __addFiles (e, fileList) {\n      const files = this.__processFiles(e, fileList, this.innerValue, this.isAppending)\n\n      files !== void 0 && this.__emitValue(\n        this.isAppending === true\n          ? this.innerValue.concat(files)\n          : files\n      )\n    },\n\n    __getControl (h) {\n      const data = {\n        ref: 'target',\n        staticClass: 'q-field__native row items-center cursor-pointer',\n        attrs: {\n          tabindex: this.tabindex\n        }\n      }\n\n      if (this.editable === true) {\n        data.on = cache(this, 'native', {\n          dragover: this.__onDragOver,\n          keyup: this.__onKeyup\n        })\n      }\n\n      return h('div', data, [ this.__getInput(h) ].concat(this.__getSelection(h)))\n    },\n\n    __getControlChild (h) {\n      return this.__getDnd(h, 'file')\n    },\n\n    __getSelection (h) {\n      if (this.$scopedSlots.file !== void 0) {\n        return this.innerValue.map((file, index) => this.$scopedSlots.file({ index, file, ref: this }))\n      }\n\n      if (this.$scopedSlots.selected !== void 0) {\n        return this.$scopedSlots.selected({ files: this.innerValue, ref: this })\n      }\n\n      if (this.useChips === true) {\n        return this.innerValue.map((file, i) => h(QChip, {\n          key: 'file-' + i,\n          props: {\n            removable: this.editable,\n            dense: true,\n            textColor: this.color,\n            tabindex: this.tabindex\n          },\n          on: cache(this, 'rem#' + i, {\n            remove: () => { this.removeAtIndex(i) }\n          })\n        }, [\n          h('span', {\n            staticClass: 'ellipsis',\n            domProps: {\n              textContent: file.name\n            }\n          })\n        ]))\n      }\n\n      return [\n        h('div', {\n          style: this.inputStyle,\n          class: this.inputClass,\n          domProps: {\n            textContent: this.displayValue !== void 0\n              ? this.displayValue\n              : this.selectedString\n          }\n        })\n      ]\n    },\n\n    __getInput (h) {\n      const data = {\n        ref: 'input',\n        staticClass: 'q-field__input fit absolute-full cursor-pointer',\n        attrs: this.inputAttrs,\n        domProps: this.formDomProps,\n        on: cache(this, 'input', {\n          change: this.__addFiles\n        })\n      }\n\n      if (this.multiple === true) {\n        data.attrs.multiple = true\n      }\n\n      return h('input', data)\n    }\n  },\n\n  created () {\n    this.fieldClass = 'q-file q-field--auto-height'\n\n    // necessary for QField's clearable\n    // and FileValueMixin\n    this.type = 'file'\n  }\n})\n"]}]}