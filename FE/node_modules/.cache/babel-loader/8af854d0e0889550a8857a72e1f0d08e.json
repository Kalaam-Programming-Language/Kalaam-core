{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/editor/editor-caret.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/editor/editor-caret.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvam9ubnkvRGVza3RvcC9teVByb2plY3RzL0thbGFhbS1jb3JlL0ZFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2pvbm55L0Rlc2t0b3AvbXlQcm9qZWN0cy9LYWxhYW0tY29yZS9GRS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXZlbnQuanMnOwoKZnVuY3Rpb24gZ2V0QmxvY2tFbGVtZW50KGVsLCBwYXJlbnQpIHsKICBpZiAocGFyZW50ICYmIGVsID09PSBwYXJlbnQpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgdmFyIG5vZGVOYW1lID0gZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgaWYgKFsnZGl2JywgJ2xpJywgJ3VsJywgJ29sJywgJ2Jsb2NrcXVvdGUnXS5pbmNsdWRlcyhub2RlTmFtZSkgPT09IHRydWUpIHsKICAgIHJldHVybiBlbDsKICB9CgogIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpIDogZWwuY3VycmVudFN0eWxlLAogICAgICBkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTsKCiAgaWYgKGRpc3BsYXkgPT09ICdibG9jaycgfHwgZGlzcGxheSA9PT0gJ3RhYmxlJykgewogICAgcmV0dXJuIGVsOwogIH0KCiAgcmV0dXJuIGdldEJsb2NrRWxlbWVudChlbC5wYXJlbnROb2RlKTsKfQoKZnVuY3Rpb24gaXNDaGlsZE9mKGVsLCBwYXJlbnQpIHsKICByZXR1cm4gIWVsIHx8IGVsID09PSBkb2N1bWVudC5ib2R5ID8gZmFsc2UgOiAocGFyZW50ID09PSBkb2N1bWVudCA/IGRvY3VtZW50LmJvZHkgOiBwYXJlbnQpLmNvbnRhaW5zKGVsLnBhcmVudE5vZGUpOwp9Cgp2YXIgdXJsUmVnZXggPSAvXmh0dHBzPzpcL1wvLzsKZXhwb3J0IHZhciBDYXJldCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIENhcmV0KGVsLCB2bSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhcmV0KTsKCiAgICB0aGlzLmVsID0gZWw7CiAgICB0aGlzLnZtID0gdm07CiAgICB0aGlzLl9yYW5nZSA9IG51bGw7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ2FyZXQsIFt7CiAgICBrZXk6ICJzYXZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgcmFuZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMucmFuZ2U7CgogICAgICBpZiAocmFuZ2UgIT09IG51bGwpIHsKICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzdG9yZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzdG9yZSgpIHsKICAgICAgdmFyIHJhbmdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLl9yYW5nZTsKICAgICAgdmFyIHIgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLAogICAgICAgICAgc2VsID0gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk7CgogICAgICBpZiAocmFuZ2UgIT09IG51bGwpIHsKICAgICAgICByLnNldFN0YXJ0KHJhbmdlLnN0YXJ0Q29udGFpbmVyLCByYW5nZS5zdGFydE9mZnNldCk7CiAgICAgICAgci5zZXRFbmQocmFuZ2UuZW5kQ29udGFpbmVyLCByYW5nZS5lbmRPZmZzZXQpOwogICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTsKICAgICAgICBzZWwuYWRkUmFuZ2Uocik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VsLnNlbGVjdEFsbENoaWxkcmVuKHRoaXMuZWwpOwogICAgICAgIHNlbC5jb2xsYXBzZVRvRW5kKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNQYXJlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1BhcmVudChuYW1lLCBzcGFuTGV2ZWwpIHsKICAgICAgdmFyIGVsID0gc3BhbkxldmVsID8gdGhpcy5wYXJlbnQgOiB0aGlzLmJsb2NrUGFyZW50OwogICAgICByZXR1cm4gZWwgIT09IG51bGwgPyBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNQYXJlbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNQYXJlbnRzKGxpc3QsIHJlY3Vyc2l2ZSkgewogICAgICB2YXIgZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRoaXMucGFyZW50OwoKICAgICAgaWYgKGVsID09PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAoZWwgIT09IG51bGwgJiYgbGlzdC5pbmNsdWRlcyhlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gcmVjdXJzaXZlID09PSB0cnVlID8gdGhpcy5oYXNQYXJlbnRzKGxpc3QsIHJlY3Vyc2l2ZSwgZWwucGFyZW50Tm9kZSkgOiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXMoY21kLCBwYXJhbSkgewogICAgICBzd2l0Y2ggKGNtZCkgewogICAgICAgIGNhc2UgJ2Zvcm1hdEJsb2NrJzoKICAgICAgICAgIGlmIChwYXJhbSA9PT0gJ0RJVicgJiYgdGhpcy5wYXJlbnQgPT09IHRoaXMuZWwpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGFyZW50KHBhcmFtLCBwYXJhbSA9PT0gJ1BSRScpOwoKICAgICAgICBjYXNlICdsaW5rJzoKICAgICAgICAgIHJldHVybiB0aGlzLmhhc1BhcmVudCgnQScsIHRydWUpOwoKICAgICAgICBjYXNlICdmb250U2l6ZSc6CiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlDb21tYW5kVmFsdWUoY21kKSA9PT0gcGFyYW07CgogICAgICAgIGNhc2UgJ2ZvbnROYW1lJzoKICAgICAgICAgIHZhciByZXMgPSBkb2N1bWVudC5xdWVyeUNvbW1hbmRWYWx1ZShjbWQpOwogICAgICAgICAgcmV0dXJuIHJlcyA9PT0gIlwiIi5jb25jYXQocGFyYW0sICJcIiIpIHx8IHJlcyA9PT0gcGFyYW07CgogICAgICAgIGNhc2UgJ2Z1bGxzY3JlZW4nOgogICAgICAgICAgcmV0dXJuIHRoaXMudm0uaW5GdWxsc2NyZWVuOwoKICAgICAgICBjYXNlICd2aWV3c291cmNlJzoKICAgICAgICAgIHJldHVybiB0aGlzLnZtLmlzVmlld2luZ1NvdXJjZTsKCiAgICAgICAgY2FzZSB2b2lkIDA6CiAgICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB2YXIgc3RhdGUgPSBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZShjbWQpOwogICAgICAgICAgcmV0dXJuIHBhcmFtICE9PSB2b2lkIDAgPyBzdGF0ZSA9PT0gcGFyYW0gOiBzdGF0ZTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImdldFBhcmVudEF0dHJpYnV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFyZW50QXR0cmlidXRlKGF0dHJpYikgewogICAgICBpZiAodGhpcy5wYXJlbnQgIT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0QXR0cmlidXRlKGF0dHJpYik7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuKG5hbWUpIHsKICAgICAgaWYgKG5hbWUgPT09ICdvdXRkZW50JykgewogICAgICAgIHJldHVybiB0aGlzLmhhc1BhcmVudHMoWydibG9ja3F1b3RlJywgJ2xpJ10sIHRydWUpOwogICAgICB9CgogICAgICBpZiAobmFtZSA9PT0gJ2luZGVudCcpIHsKICAgICAgICByZXR1cm4gdGhpcy5oYXNQYXJlbnRzKFsnbGknXSwgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIGlmIChuYW1lID09PSAnbGluaycpIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24gIT09IG51bGwgfHwgdGhpcy5pcygnbGluaycpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYXBwbHkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5KGNtZCwgcGFyYW0pIHsKICAgICAgdmFyIGRvbmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG5vb3A7CgogICAgICBpZiAoY21kID09PSAnZm9ybWF0QmxvY2snKSB7CiAgICAgICAgaWYgKFsnQkxPQ0tRVU9URScsICdIMScsICdIMicsICdIMycsICdINCcsICdINScsICdINiddLmluY2x1ZGVzKHBhcmFtKSAmJiB0aGlzLmlzKGNtZCwgcGFyYW0pKSB7CiAgICAgICAgICBjbWQgPSAnb3V0ZGVudCc7CiAgICAgICAgICBwYXJhbSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBpZiAocGFyYW0gPT09ICdQUkUnICYmIHRoaXMuaXMoY21kLCAnUFJFJykpIHsKICAgICAgICAgIHBhcmFtID0gJ1AnOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChjbWQgPT09ICdwcmludCcpIHsKICAgICAgICBkb25lKCk7CiAgICAgICAgdmFyIHdpbiA9IHdpbmRvdy5vcGVuKCk7CiAgICAgICAgd2luLmRvY3VtZW50LndyaXRlKCJcbiAgICAgICAgPCFkb2N0eXBlIGh0bWw+XG4gICAgICAgIDxodG1sPlxuICAgICAgICAgIDxoZWFkPlxuICAgICAgICAgICAgPHRpdGxlPlByaW50IC0gIi5jb25jYXQoZG9jdW1lbnQudGl0bGUsICI8L3RpdGxlPlxuICAgICAgICAgIDwvaGVhZD5cbiAgICAgICAgICA8Ym9keT5cbiAgICAgICAgICAgIDxkaXY+IikuY29uY2F0KHRoaXMuZWwuaW5uZXJIVE1MLCAiPC9kaXY+XG4gICAgICAgICAgPC9ib2R5PlxuICAgICAgICA8L2h0bWw+XG4gICAgICAiKSk7CiAgICAgICAgd2luLnByaW50KCk7CiAgICAgICAgd2luLmNsb3NlKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKGNtZCA9PT0gJ2xpbmsnKSB7CiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldFBhcmVudEF0dHJpYnV0ZSgnaHJlZicpOwoKICAgICAgICBpZiAobGluayA9PT0gbnVsbCkgewogICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0V29yZCh0aGlzLnNlbGVjdGlvbik7CiAgICAgICAgICB2YXIgdXJsID0gc2VsZWN0aW9uID8gc2VsZWN0aW9uLnRvU3RyaW5nKCkgOiAnJzsKCiAgICAgICAgICBpZiAoIXVybC5sZW5ndGgpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMudm0uZWRpdExpbmtVcmwgPSB1cmxSZWdleC50ZXN0KHVybCkgPyB1cmwgOiAnaHR0cHM6Ly8nOwogICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NyZWF0ZUxpbmsnLCBmYWxzZSwgdGhpcy52bS5lZGl0TGlua1VybCk7CiAgICAgICAgICB0aGlzLnNhdmUoc2VsZWN0aW9uLmdldFJhbmdlQXQoMCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnZtLmVkaXRMaW5rVXJsID0gbGluazsKICAgICAgICAgIHRoaXMucmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKHRoaXMucGFyZW50KTsKICAgICAgICAgIHRoaXMuc2F2ZSgpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKGNtZCA9PT0gJ2Z1bGxzY3JlZW4nKSB7CiAgICAgICAgdGhpcy52bS50b2dnbGVGdWxsc2NyZWVuKCk7CiAgICAgICAgZG9uZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChjbWQgPT09ICd2aWV3c291cmNlJykgewogICAgICAgIHRoaXMudm0uaXNWaWV3aW5nU291cmNlID0gdGhpcy52bS5pc1ZpZXdpbmdTb3VyY2UgPT09IGZhbHNlOwoKICAgICAgICB0aGlzLnZtLl9fc2V0Q29udGVudCh0aGlzLnZtLnZhbHVlKTsKCiAgICAgICAgZG9uZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoY21kLCBmYWxzZSwgcGFyYW0pOwogICAgICBkb25lKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2VsZWN0V29yZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0V29yZChzZWwpIHsKICAgICAgaWYgKHNlbCA9PT0gbnVsbCB8fCBzZWwuaXNDb2xsYXBzZWQgIT09IHRydWUgfHwKICAgICAgLyogSUUgMTEgKi8KICAgICAgc2VsLm1vZGlmeSA9PT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHNlbDsKICAgICAgfSAvLyBEZXRlY3QgaWYgc2VsZWN0aW9uIGlzIGJhY2t3YXJkcwoKCiAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CiAgICAgIHJhbmdlLnNldFN0YXJ0KHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KTsKICAgICAgcmFuZ2Uuc2V0RW5kKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCk7CiAgICAgIHZhciBkaXJlY3Rpb24gPSByYW5nZS5jb2xsYXBzZWQgPyBbJ2JhY2t3YXJkJywgJ2ZvcndhcmQnXSA6IFsnZm9yd2FyZCcsICdiYWNrd2FyZCddOwogICAgICByYW5nZS5kZXRhY2goKTsgLy8gbW9kaWZ5KCkgd29ya3Mgb24gdGhlIGZvY3VzIG9mIHRoZSBzZWxlY3Rpb24KCiAgICAgIHZhciBlbmROb2RlID0gc2VsLmZvY3VzTm9kZSwKICAgICAgICAgIGVuZE9mZnNldCA9IHNlbC5mb2N1c09mZnNldDsKICAgICAgc2VsLmNvbGxhcHNlKHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KTsKICAgICAgc2VsLm1vZGlmeSgnbW92ZScsIGRpcmVjdGlvblswXSwgJ2NoYXJhY3RlcicpOwogICAgICBzZWwubW9kaWZ5KCdtb3ZlJywgZGlyZWN0aW9uWzFdLCAnd29yZCcpOwogICAgICBzZWwuZXh0ZW5kKGVuZE5vZGUsIGVuZE9mZnNldCk7CiAgICAgIHNlbC5tb2RpZnkoJ2V4dGVuZCcsIGRpcmVjdGlvblsxXSwgJ2NoYXJhY3RlcicpOwogICAgICBzZWwubW9kaWZ5KCdleHRlbmQnLCBkaXJlY3Rpb25bMF0sICd3b3JkJyk7CiAgICAgIHJldHVybiBzZWw7CiAgICB9CiAgfSwgewogICAga2V5OiAic2VsZWN0aW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAodGhpcy5lbCkgewogICAgICAgIHZhciBzZWwgPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTsgLy8gb25seSB3aGVuIHRoZSBzZWxlY3Rpb24gaW4gZWxlbWVudAoKICAgICAgICBpZiAoaXNDaGlsZE9mKHNlbC5hbmNob3JOb2RlLCB0aGlzLmVsKSAmJiBpc0NoaWxkT2Yoc2VsLmZvY3VzTm9kZSwgdGhpcy5lbCkpIHsKICAgICAgICAgIHJldHVybiBzZWw7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJoYXNTZWxlY3Rpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbiAhPT0gbnVsbCA/IHRoaXMuc2VsZWN0aW9uLnRvU3RyaW5nKCkubGVuZ3RoID4gMCA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogInJhbmdlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgc2VsID0gdGhpcy5zZWxlY3Rpb247CgogICAgICBpZiAoc2VsICE9PSBudWxsICYmIHNlbC5yYW5nZUNvdW50KSB7CiAgICAgICAgcmV0dXJuIHNlbC5nZXRSYW5nZUF0KDApOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5fcmFuZ2U7CiAgICB9CiAgfSwgewogICAga2V5OiAicGFyZW50IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcmFuZ2UgPSB0aGlzLnJhbmdlOwoKICAgICAgaWYgKHJhbmdlICE9PSBudWxsKSB7CiAgICAgICAgdmFyIG5vZGUgPSByYW5nZS5zdGFydENvbnRhaW5lcjsKICAgICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gZG9jdW1lbnQuRUxFTUVOVF9OT0RFID8gbm9kZSA6IG5vZGUucGFyZW50Tm9kZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiYmxvY2tQYXJlbnQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudDsKCiAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHsKICAgICAgICByZXR1cm4gZ2V0QmxvY2tFbGVtZW50KHBhcmVudCwgdGhpcy5lbCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENhcmV0Owp9KCk7"},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/editor/editor-caret.js"],"names":["noop","getBlockElement","el","parent","nodeName","toLowerCase","includes","style","window","getComputedStyle","currentStyle","display","parentNode","isChildOf","document","body","contains","urlRegex","Caret","vm","_range","range","r","createRange","sel","getSelection","setStart","startContainer","startOffset","setEnd","endContainer","endOffset","removeAllRanges","addRange","selectAllChildren","collapseToEnd","name","spanLevel","blockParent","list","recursive","hasParents","cmd","param","hasParent","queryCommandValue","res","inFullscreen","isViewingSource","state","queryCommandState","attrib","getAttribute","selection","is","done","win","open","write","title","innerHTML","print","close","link","getParentAttribute","selectWord","url","toString","length","editLinkUrl","test","execCommand","save","getRangeAt","selectNodeContents","toggleFullscreen","__setContent","value","isCollapsed","modify","anchorNode","anchorOffset","focusNode","focusOffset","direction","collapsed","detach","endNode","collapse","extend","rangeCount","node","nodeType","ELEMENT_NODE"],"mappings":"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","sourcesContent":["import { noop } from '../../utils/event.js'\n\nfunction getBlockElement (el, parent) {\n  if (parent && el === parent) {\n    return null\n  }\n\n  const nodeName = el.nodeName.toLowerCase()\n\n  if (['div', 'li', 'ul', 'ol', 'blockquote'].includes(nodeName) === true) {\n    return el\n  }\n\n  const\n    style = window.getComputedStyle\n      ? window.getComputedStyle(el)\n      : el.currentStyle,\n    display = style.display\n\n  if (display === 'block' || display === 'table') {\n    return el\n  }\n\n  return getBlockElement(el.parentNode)\n}\n\nfunction isChildOf (el, parent) {\n  return !el || el === document.body\n    ? false\n    : (parent === document ? document.body : parent).contains(el.parentNode)\n}\n\nconst urlRegex = /^https?:\\/\\//\n\nexport class Caret {\n  constructor (el, vm) {\n    this.el = el\n    this.vm = vm\n    this._range = null\n  }\n\n  get selection () {\n    if (this.el) {\n      const sel = document.getSelection()\n\n      // only when the selection in element\n      if (isChildOf(sel.anchorNode, this.el) && isChildOf(sel.focusNode, this.el)) {\n        return sel\n      }\n    }\n\n    return null\n  }\n\n  get hasSelection () {\n    return this.selection !== null\n      ? this.selection.toString().length > 0\n      : false\n  }\n\n  get range () {\n    const sel = this.selection\n\n    if (sel !== null && sel.rangeCount) {\n      return sel.getRangeAt(0)\n    }\n\n    return this._range\n  }\n\n  get parent () {\n    const range = this.range\n\n    if (range !== null) {\n      const node = range.startContainer\n\n      return node.nodeType === document.ELEMENT_NODE\n        ? node\n        : node.parentNode\n    }\n\n    return null\n  }\n\n  get blockParent () {\n    const parent = this.parent\n\n    if (parent !== null) {\n      return getBlockElement(parent, this.el)\n    }\n\n    return null\n  }\n\n  save (range = this.range) {\n    if (range !== null) {\n      this._range = range\n    }\n  }\n\n  restore (range = this._range) {\n    const\n      r = document.createRange(),\n      sel = document.getSelection()\n\n    if (range !== null) {\n      r.setStart(range.startContainer, range.startOffset)\n      r.setEnd(range.endContainer, range.endOffset)\n      sel.removeAllRanges()\n      sel.addRange(r)\n    }\n    else {\n      sel.selectAllChildren(this.el)\n      sel.collapseToEnd()\n    }\n  }\n\n  hasParent (name, spanLevel) {\n    const el = spanLevel\n      ? this.parent\n      : this.blockParent\n\n    return el !== null\n      ? el.nodeName.toLowerCase() === name.toLowerCase()\n      : false\n  }\n\n  hasParents (list, recursive, el = this.parent) {\n    if (el === null) {\n      return false\n    }\n\n    if (el !== null && list.includes(el.nodeName.toLowerCase()) === true) {\n      return true\n    }\n\n    return recursive === true\n      ? this.hasParents(list, recursive, el.parentNode)\n      : false\n  }\n\n  is (cmd, param) {\n    switch (cmd) {\n      case 'formatBlock':\n        if (param === 'DIV' && this.parent === this.el) {\n          return true\n        }\n        return this.hasParent(param, param === 'PRE')\n      case 'link':\n        return this.hasParent('A', true)\n      case 'fontSize':\n        return document.queryCommandValue(cmd) === param\n      case 'fontName':\n        const res = document.queryCommandValue(cmd)\n        return res === `\"${param}\"` || res === param\n      case 'fullscreen':\n        return this.vm.inFullscreen\n      case 'viewsource':\n        return this.vm.isViewingSource\n      case void 0:\n        return false\n      default:\n        const state = document.queryCommandState(cmd)\n        return param !== void 0 ? state === param : state\n    }\n  }\n\n  getParentAttribute (attrib) {\n    if (this.parent !== null) {\n      return this.parent.getAttribute(attrib)\n    }\n\n    return null\n  }\n\n  can (name) {\n    if (name === 'outdent') {\n      return this.hasParents(['blockquote', 'li'], true)\n    }\n\n    if (name === 'indent') {\n      return this.hasParents(['li'], true)\n    }\n\n    if (name === 'link') {\n      return this.selection !== null || this.is('link')\n    }\n  }\n\n  apply (cmd, param, done = noop) {\n    if (cmd === 'formatBlock') {\n      if (['BLOCKQUOTE', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6'].includes(param) && this.is(cmd, param)) {\n        cmd = 'outdent'\n        param = null\n      }\n\n      if (param === 'PRE' && this.is(cmd, 'PRE')) {\n        param = 'P'\n      }\n    }\n    else if (cmd === 'print') {\n      done()\n\n      const win = window.open()\n\n      win.document.write(`\n        <!doctype html>\n        <html>\n          <head>\n            <title>Print - ${document.title}</title>\n          </head>\n          <body>\n            <div>${this.el.innerHTML}</div>\n          </body>\n        </html>\n      `)\n      win.print()\n      win.close()\n\n      return\n    }\n    else if (cmd === 'link') {\n      const link = this.getParentAttribute('href')\n\n      if (link === null) {\n        const selection = this.selectWord(this.selection)\n        const url = selection ? selection.toString() : ''\n\n        if (!url.length) {\n          return\n        }\n\n        this.vm.editLinkUrl = urlRegex.test(url) ? url : 'https://'\n        document.execCommand('createLink', false, this.vm.editLinkUrl)\n\n        this.save(selection.getRangeAt(0))\n      }\n      else {\n        this.vm.editLinkUrl = link\n\n        this.range.selectNodeContents(this.parent)\n        this.save()\n      }\n\n      return\n    }\n    else if (cmd === 'fullscreen') {\n      this.vm.toggleFullscreen()\n      done()\n\n      return\n    }\n    else if (cmd === 'viewsource') {\n      this.vm.isViewingSource = this.vm.isViewingSource === false\n      this.vm.__setContent(this.vm.value)\n      done()\n\n      return\n    }\n\n    document.execCommand(cmd, false, param)\n\n    done()\n  }\n\n  selectWord (sel) {\n    if (sel === null || sel.isCollapsed !== true || /* IE 11 */ sel.modify === void 0) {\n      return sel\n    }\n\n    // Detect if selection is backwards\n    const range = document.createRange()\n    range.setStart(sel.anchorNode, sel.anchorOffset)\n    range.setEnd(sel.focusNode, sel.focusOffset)\n    const direction = range.collapsed ? ['backward', 'forward'] : ['forward', 'backward']\n    range.detach()\n\n    // modify() works on the focus of the selection\n    const\n      endNode = sel.focusNode,\n      endOffset = sel.focusOffset\n    sel.collapse(sel.anchorNode, sel.anchorOffset)\n    sel.modify('move', direction[0], 'character')\n    sel.modify('move', direction[1], 'word')\n    sel.extend(endNode, endOffset)\n    sel.modify('extend', direction[1], 'character')\n    sel.modify('extend', direction[0], 'word')\n\n    return sel\n  }\n}\n"]}]}