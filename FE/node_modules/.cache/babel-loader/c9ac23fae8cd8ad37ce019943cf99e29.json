{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/date/QDate.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/date/QDate.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZsYXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmV2ZXJzZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zY29wYWJsZXMuZmxhdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydGllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2pvbm55L0Rlc2t0b3AvbXlQcm9qZWN0cy9LYWxhYW0tY29yZS9GRS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUUJ0biBmcm9tICcuLi9idG4vUUJ0bi5qcyc7CmltcG9ydCBEYXRlVGltZU1peGluIGZyb20gJy4uLy4uL21peGlucy9kYXRldGltZS5qcyc7CmltcG9ydCB7IHNsb3QgfSBmcm9tICcuLi8uLi91dGlscy9zbG90LmpzJzsKaW1wb3J0IHsgZm9ybWF0RGF0ZSwgX19zcGxpdERhdGUgfSBmcm9tICcuLi8uLi91dGlscy9kYXRlLmpzJzsKaW1wb3J0IHsgcGFkIH0gZnJvbSAnLi4vLi4vdXRpbHMvZm9ybWF0LmpzJzsKaW1wb3J0IHsgamFsYWFsaU1vbnRoTGVuZ3RoLCB0b0dyZWdvcmlhbiB9IGZyb20gJy4uLy4uL3V0aWxzL2RhdGUtcGVyc2lhbi5qcyc7CmltcG9ydCBjYWNoZSBmcm9tICcuLi8uLi91dGlscy9jYWNoZS5qcyc7CnZhciB5ZWFyc0ludGVydmFsID0gMjA7Cgp2YXIgdmlld0lzVmFsaWQgPSBmdW5jdGlvbiB2aWV3SXNWYWxpZCh2KSB7CiAgcmV0dXJuIFsnQ2FsZW5kYXInLCAnWWVhcnMnLCAnTW9udGhzJ10uaW5jbHVkZXModik7Cn07CgpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnUURhdGUnLAogIG1peGluczogW0RhdGVUaW1lTWl4aW5dLAogIHByb3BzOiB7CiAgICB0aXRsZTogU3RyaW5nLAogICAgc3VidGl0bGU6IFN0cmluZywKICAgIGVtaXRJbW1lZGlhdGVseTogQm9vbGVhbiwKICAgIG1hc2s6IHsKICAgICAgLy8gdGhpcyBtYXNrIGlzIGZvcmNlZAogICAgICAvLyB3aGVuIHVzaW5nIHBlcnNpYW4gY2FsZW5kYXIKICAgICAgImRlZmF1bHQiOiAnWVlZWS9NTS9ERCcKICAgIH0sCiAgICBkZWZhdWx0WWVhck1vbnRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodikgewogICAgICAgIHJldHVybiAvXi0/W1xkXStcL1swLTFdXGQkLy50ZXN0KHYpOwogICAgICB9CiAgICB9LAogICAgeWVhcnNJbk1vbnRoVmlldzogQm9vbGVhbiwKICAgIGV2ZW50czogW0FycmF5LCBGdW5jdGlvbl0sCiAgICBldmVudENvbG9yOiBbU3RyaW5nLCBGdW5jdGlvbl0sCiAgICBvcHRpb25zOiBbQXJyYXksIEZ1bmN0aW9uXSwKICAgIGZpcnN0RGF5T2ZXZWVrOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgdG9kYXlCdG46IEJvb2xlYW4sCiAgICBtaW5pbWFsOiBCb29sZWFuLAogICAgZGVmYXVsdFZpZXc6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICAiZGVmYXVsdCI6ICdDYWxlbmRhcicsCiAgICAgIHZhbGlkYXRvcjogdmlld0lzVmFsaWQKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMkX19nZXRNb2RlbHMgPSB0aGlzLl9fZ2V0TW9kZWxzKHRoaXMudmFsdWUsIHRoaXMubWFzaywgdGhpcy5fX2dldENvbXB1dGVkTG9jYWxlKCkpLAogICAgICAgIGlubmVyID0gX3RoaXMkX19nZXRNb2RlbHMuaW5uZXIsCiAgICAgICAgZXh0ZXJuYWwgPSBfdGhpcyRfX2dldE1vZGVscy5leHRlcm5hbCwKICAgICAgICBkaXJlY3Rpb24gPSB0aGlzLiRxLmxhbmcucnRsID09PSB0cnVlID8gJ3JpZ2h0JyA6ICdsZWZ0JzsKCiAgICByZXR1cm4gewogICAgICB2aWV3OiB0aGlzLmRlZmF1bHRWaWV3LAogICAgICBtb250aERpcmVjdGlvbjogZGlyZWN0aW9uLAogICAgICB5ZWFyRGlyZWN0aW9uOiBkaXJlY3Rpb24sCiAgICAgIHN0YXJ0WWVhcjogaW5uZXIueWVhciAtIGlubmVyLnllYXIgJSB5ZWFyc0ludGVydmFsIC0gKGlubmVyLnllYXIgPCAwID8geWVhcnNJbnRlcnZhbCA6IDApLAogICAgICBpbm5lck1vZGVsOiBpbm5lciwKICAgICAgZXh0TW9kZWw6IGV4dGVybmFsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkX19nZXRNb2RlbHMyID0gdGhpcy5fX2dldE1vZGVscyh2LCB0aGlzLm1hc2ssIHRoaXMuX19nZXRDb21wdXRlZExvY2FsZSgpKSwKICAgICAgICAgIGlubmVyID0gX3RoaXMkX19nZXRNb2RlbHMyLmlubmVyLAogICAgICAgICAgZXh0ZXJuYWwgPSBfdGhpcyRfX2dldE1vZGVsczIuZXh0ZXJuYWw7CgogICAgICBpZiAodGhpcy5leHRNb2RlbC5kYXRlSGFzaCAhPT0gZXh0ZXJuYWwuZGF0ZUhhc2ggfHwgdGhpcy5leHRNb2RlbC50aW1lSGFzaCAhPT0gZXh0ZXJuYWwudGltZUhhc2gpIHsKICAgICAgICB0aGlzLmV4dE1vZGVsID0gZXh0ZXJuYWw7CiAgICAgIH0KCiAgICAgIGlmIChpbm5lci5kYXRlSGFzaCAhPT0gdGhpcy5pbm5lck1vZGVsLmRhdGVIYXNoKSB7CiAgICAgICAgdGhpcy5tb250aERpcmVjdGlvbiA9IHRoaXMuaW5uZXJNb2RlbC5kYXRlSGFzaCA8IGlubmVyLmRhdGVIYXNoID09PSAodGhpcy4kcS5sYW5nLnJ0bCAhPT0gdHJ1ZSkgPyAnbGVmdCcgOiAncmlnaHQnOwoKICAgICAgICBpZiAoaW5uZXIueWVhciAhPT0gdGhpcy5pbm5lck1vZGVsLnllYXIpIHsKICAgICAgICAgIHRoaXMueWVhckRpcmVjdGlvbiA9IHRoaXMubW9udGhEaXJlY3Rpb247CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5zdGFydFllYXIgPSBpbm5lci55ZWFyIC0gaW5uZXIueWVhciAlIHllYXJzSW50ZXJ2YWwgLSAoaW5uZXIueWVhciA8IDAgPyB5ZWFyc0ludGVydmFsIDogMCk7CiAgICAgICAgICBfdGhpcy5pbm5lck1vZGVsID0gaW5uZXI7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB2aWV3OiBmdW5jdGlvbiB2aWV3KCkgewogICAgICB0aGlzLiRyZWZzLmJsdXJUYXJnZXQgIT09IHZvaWQgMCAmJiB0aGlzLiRyZWZzLmJsdXJUYXJnZXQuZm9jdXMoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkgewogICAgICB2YXIgdHlwZSA9IHRoaXMubGFuZHNjYXBlID09PSB0cnVlID8gJ2xhbmRzY2FwZScgOiAncG9ydHJhaXQnOwogICAgICByZXR1cm4gInEtZGF0ZSBxLWRhdGUtLSIuY29uY2F0KHR5cGUsICIgcS1kYXRlLS0iKS5jb25jYXQodHlwZSwgIi0iKS5jb25jYXQodGhpcy5taW5pbWFsID09PSB0cnVlID8gJ21pbmltYWwnIDogJ3N0YW5kYXJkJykgKyAodGhpcy5pc0RhcmsgPT09IHRydWUgPyAnIHEtZGF0ZS0tZGFyayBxLWRhcmsnIDogJycpICsgKHRoaXMuYm9yZGVyZWQgPT09IHRydWUgPyAiIHEtZGF0ZS0tYm9yZGVyZWQiIDogJycpICsgKHRoaXMuc3F1YXJlID09PSB0cnVlID8gIiBxLWRhdGUtLXNxdWFyZSBuby1ib3JkZXItcmFkaXVzIiA6ICcnKSArICh0aGlzLmZsYXQgPT09IHRydWUgPyAiIHEtZGF0ZS0tZmxhdCBuby1zaGFkb3ciIDogJycpICsgKHRoaXMuZGlzYWJsZSA9PT0gdHJ1ZSA/ICcgZGlzYWJsZWQnIDogdGhpcy5yZWFkb25seSA9PT0gdHJ1ZSA/ICcgcS1kYXRlLS1yZWFkb25seScgOiAnJyk7CiAgICB9LAogICAgaGVhZGVyVGl0bGU6IGZ1bmN0aW9uIGhlYWRlclRpdGxlKCkgewogICAgICBpZiAodGhpcy50aXRsZSAhPT0gdm9pZCAwICYmIHRoaXMudGl0bGUgIT09IG51bGwgJiYgdGhpcy50aXRsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGU7CiAgICAgIH0KCiAgICAgIHZhciBtb2RlbCA9IHRoaXMuZXh0TW9kZWw7CgogICAgICBpZiAobW9kZWwuZGF0ZUhhc2ggPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gJyAtLS0gJzsKICAgICAgfQoKICAgICAgdmFyIGRhdGU7CgogICAgICBpZiAodGhpcy5jYWxlbmRhciAhPT0gJ3BlcnNpYW4nKSB7CiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKG1vZGVsLnllYXIsIG1vZGVsLm1vbnRoIC0gMSwgbW9kZWwuZGF5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZ0RhdGUgPSB0b0dyZWdvcmlhbihtb2RlbC55ZWFyLCBtb2RlbC5tb250aCwgbW9kZWwuZGF5KTsKICAgICAgICBkYXRlID0gbmV3IERhdGUoZ0RhdGUuZ3ksIGdEYXRlLmdtIC0gMSwgZ0RhdGUuZ2QpOwogICAgICB9CgogICAgICBpZiAoaXNOYU4oZGF0ZS52YWx1ZU9mKCkpID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuICcgLS0tICc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmNvbXB1dGVkTG9jYWxlLmhlYWRlclRpdGxlICE9PSB2b2lkIDApIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wdXRlZExvY2FsZS5oZWFkZXJUaXRsZShkYXRlLCBtb2RlbCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVkTG9jYWxlLmRheXNTaG9ydFtkYXRlLmdldERheSgpXSArICcsICcgKyB0aGlzLmNvbXB1dGVkTG9jYWxlLm1vbnRoc1Nob3J0W21vZGVsLm1vbnRoIC0gMV0gKyAnICcgKyBtb2RlbC5kYXk7CiAgICB9LAogICAgaGVhZGVyU3VidGl0bGU6IGZ1bmN0aW9uIGhlYWRlclN1YnRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5zdWJ0aXRsZSAhPT0gdm9pZCAwICYmIHRoaXMuc3VidGl0bGUgIT09IG51bGwgJiYgdGhpcy5zdWJ0aXRsZS5sZW5ndGggPiAwID8gdGhpcy5zdWJ0aXRsZSA6IHRoaXMuZXh0TW9kZWwueWVhciAhPT0gbnVsbCA/IHRoaXMuZXh0TW9kZWwueWVhciA6ICcgLS0tICc7CiAgICB9LAogICAgZGF0ZUFycm93OiBmdW5jdGlvbiBkYXRlQXJyb3coKSB7CiAgICAgIHZhciB2YWwgPSBbdGhpcy4kcS5pY29uU2V0LmRhdGV0aW1lLmFycm93TGVmdCwgdGhpcy4kcS5pY29uU2V0LmRhdGV0aW1lLmFycm93UmlnaHRdOwogICAgICByZXR1cm4gdGhpcy4kcS5sYW5nLnJ0bCA9PT0gdHJ1ZSA/IHZhbC5yZXZlcnNlKCkgOiB2YWw7CiAgICB9LAogICAgY29tcHV0ZWRGaXJzdERheU9mV2VlazogZnVuY3Rpb24gY29tcHV0ZWRGaXJzdERheU9mV2VlaygpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlyc3REYXlPZldlZWsgIT09IHZvaWQgMCA/IE51bWJlcih0aGlzLmZpcnN0RGF5T2ZXZWVrKSA6IHRoaXMuY29tcHV0ZWRMb2NhbGUuZmlyc3REYXlPZldlZWs7CiAgICB9LAogICAgZGF5c09mV2VlazogZnVuY3Rpb24gZGF5c09mV2VlaygpIHsKICAgICAgdmFyIGRheXMgPSB0aGlzLmNvbXB1dGVkTG9jYWxlLmRheXNTaG9ydCwKICAgICAgICAgIGZpcnN0ID0gdGhpcy5jb21wdXRlZEZpcnN0RGF5T2ZXZWVrOwogICAgICByZXR1cm4gZmlyc3QgPiAwID8gZGF5cy5zbGljZShmaXJzdCwgNykuY29uY2F0KGRheXMuc2xpY2UoMCwgZmlyc3QpKSA6IGRheXM7CiAgICB9LAogICAgZGF5c0luTW9udGg6IGZ1bmN0aW9uIGRheXNJbk1vbnRoKCkgewogICAgICByZXR1cm4gdGhpcy5fX2dldERheXNJbk1vbnRoKHRoaXMuaW5uZXJNb2RlbCk7CiAgICB9LAogICAgdG9kYXk6IGZ1bmN0aW9uIHRvZGF5KCkgewogICAgICByZXR1cm4gdGhpcy5fX2dldEN1cnJlbnREYXRlKCk7CiAgICB9LAogICAgZXZ0Rm46IGZ1bmN0aW9uIGV2dEZuKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5ldmVudHMgPT09ICdmdW5jdGlvbicgPyB0aGlzLmV2ZW50cyA6IGZ1bmN0aW9uIChkYXRlKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5ldmVudHMuaW5jbHVkZXMoZGF0ZSk7CiAgICAgIH07CiAgICB9LAogICAgZXZ0Q29sb3I6IGZ1bmN0aW9uIGV2dENvbG9yKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5ldmVudENvbG9yID09PSAnZnVuY3Rpb24nID8gdGhpcy5ldmVudENvbG9yIDogZnVuY3Rpb24gKGRhdGUpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmV2ZW50Q29sb3I7CiAgICAgIH07CiAgICB9LAogICAgaXNJblNlbGVjdGlvbjogZnVuY3Rpb24gaXNJblNlbGVjdGlvbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gdHlwZW9mIHRoaXMub3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMub3B0aW9ucyA6IGZ1bmN0aW9uIChkYXRlKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5vcHRpb25zLmluY2x1ZGVzKGRhdGUpOwogICAgICB9OwogICAgfSwKICAgIGRheXM6IGZ1bmN0aW9uIGRheXMoKSB7CiAgICAgIHZhciBkYXRlLCBlbmREYXk7CiAgICAgIHZhciByZXMgPSBbXTsKCiAgICAgIGlmICh0aGlzLmNhbGVuZGFyICE9PSAncGVyc2lhbicpIHsKICAgICAgICBkYXRlID0gbmV3IERhdGUodGhpcy5pbm5lck1vZGVsLnllYXIsIHRoaXMuaW5uZXJNb2RlbC5tb250aCAtIDEsIDEpOwogICAgICAgIGVuZERheSA9IG5ldyBEYXRlKHRoaXMuaW5uZXJNb2RlbC55ZWFyLCB0aGlzLmlubmVyTW9kZWwubW9udGggLSAxLCAwKS5nZXREYXRlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGdEYXRlID0gdG9HcmVnb3JpYW4odGhpcy5pbm5lck1vZGVsLnllYXIsIHRoaXMuaW5uZXJNb2RlbC5tb250aCwgMSk7CiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGdEYXRlLmd5LCBnRGF0ZS5nbSAtIDEsIGdEYXRlLmdkKTsKICAgICAgICB2YXIgcHJldkpNID0gdGhpcy5pbm5lck1vZGVsLm1vbnRoIC0gMTsKICAgICAgICB2YXIgcHJldkpZID0gdGhpcy5pbm5lck1vZGVsLnllYXI7CgogICAgICAgIGlmIChwcmV2Sk0gPT09IDApIHsKICAgICAgICAgIHByZXZKTSA9IDEyOwogICAgICAgICAgcHJldkpZLS07CiAgICAgICAgfQoKICAgICAgICBlbmREYXkgPSBqYWxhYWxpTW9udGhMZW5ndGgocHJldkpZLCBwcmV2Sk0pOwogICAgICB9CgogICAgICB2YXIgZGF5cyA9IGRhdGUuZ2V0RGF5KCkgLSB0aGlzLmNvbXB1dGVkRmlyc3REYXlPZldlZWsgLSAxOwogICAgICB2YXIgbGVuID0gZGF5cyA8IDAgPyBkYXlzICsgNyA6IGRheXM7CgogICAgICBpZiAobGVuIDwgNikgewogICAgICAgIGZvciAodmFyIGkgPSBlbmREYXkgLSBsZW47IGkgPD0gZW5kRGF5OyBpKyspIHsKICAgICAgICAgIHJlcy5wdXNoKHsKICAgICAgICAgICAgaTogaSwKICAgICAgICAgICAgZmlsbDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgaW5kZXggPSByZXMubGVuZ3RoLAogICAgICAgICAgcHJlZml4ID0gdGhpcy5pbm5lck1vZGVsLnllYXIgKyAnLycgKyBwYWQodGhpcy5pbm5lck1vZGVsLm1vbnRoKSArICcvJzsKCiAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPD0gdGhpcy5kYXlzSW5Nb250aDsgX2krKykgewogICAgICAgIHZhciBkYXkgPSBwcmVmaXggKyBwYWQoX2kpOwoKICAgICAgICBpZiAodGhpcy5vcHRpb25zICE9PSB2b2lkIDAgJiYgdGhpcy5pc0luU2VsZWN0aW9uKGRheSkgIT09IHRydWUpIHsKICAgICAgICAgIHJlcy5wdXNoKHsKICAgICAgICAgICAgaTogX2kKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLmV2ZW50cyAhPT0gdm9pZCAwICYmIHRoaXMuZXZ0Rm4oZGF5KSA9PT0gdHJ1ZSA/IHRoaXMuZXZ0Q29sb3IoZGF5KSA6IGZhbHNlOwogICAgICAgICAgcmVzLnB1c2goewogICAgICAgICAgICBpOiBfaSwKICAgICAgICAgICAgImluIjogdHJ1ZSwKICAgICAgICAgICAgZmxhdDogdHJ1ZSwKICAgICAgICAgICAgZXZlbnQ6IGV2ZW50CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlubmVyTW9kZWwueWVhciA9PT0gdGhpcy5leHRNb2RlbC55ZWFyICYmIHRoaXMuaW5uZXJNb2RlbC5tb250aCA9PT0gdGhpcy5leHRNb2RlbC5tb250aCkgewogICAgICAgIHZhciBfaTIgPSBpbmRleCArIHRoaXMuaW5uZXJNb2RlbC5kYXkgLSAxOwoKICAgICAgICByZXNbX2kyXSAhPT0gdm9pZCAwICYmIE9iamVjdC5hc3NpZ24ocmVzW19pMl0sIHsKICAgICAgICAgIHVuZWxldmF0ZWQ6IHRydWUsCiAgICAgICAgICBmbGF0OiBmYWxzZSwKICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbXB1dGVkQ29sb3IsCiAgICAgICAgICB0ZXh0Q29sb3I6IHRoaXMuY29tcHV0ZWRUZXh0Q29sb3IKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5uZXJNb2RlbC55ZWFyID09PSB0aGlzLnRvZGF5LnllYXIgJiYgdGhpcy5pbm5lck1vZGVsLm1vbnRoID09PSB0aGlzLnRvZGF5Lm1vbnRoKSB7CiAgICAgICAgcmVzW2luZGV4ICsgdGhpcy50b2RheS5kYXkgLSAxXS50b2RheSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHZhciBsZWZ0ID0gcmVzLmxlbmd0aCAlIDc7CgogICAgICBpZiAobGVmdCA+IDApIHsKICAgICAgICB2YXIgYWZ0ZXJEYXlzID0gNyAtIGxlZnQ7CgogICAgICAgIGZvciAodmFyIF9pMyA9IDE7IF9pMyA8PSBhZnRlckRheXM7IF9pMysrKSB7CiAgICAgICAgICByZXMucHVzaCh7CiAgICAgICAgICAgIGk6IF9pMywKICAgICAgICAgICAgZmlsbDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmVzOwogICAgfSwKICAgIGF0dHJzOiBmdW5jdGlvbiBhdHRycygpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAnYXJpYS1kaXNhYmxlZCc6ICcnCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucmVhZG9ubHkgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgJ2FyaWEtcmVhZG9ubHknOiAnJwogICAgICAgIH07CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFRvZGF5OiBmdW5jdGlvbiBzZXRUb2RheSgpIHsKICAgICAgdGhpcy5fX3VwZGF0ZVZhbHVlKF9vYmplY3RTcHJlYWQoe30sIHRoaXMudG9kYXkpLCAndG9kYXknKTsKCiAgICAgIHRoaXMudmlldyA9ICdDYWxlbmRhcic7CiAgICB9LAogICAgc2V0VmlldzogZnVuY3Rpb24gc2V0Vmlldyh2aWV3KSB7CiAgICAgIGlmICh2aWV3SXNWYWxpZCh2aWV3KSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMudmlldyA9IHZpZXc7CiAgICAgIH0KICAgIH0sCiAgICBvZmZzZXRDYWxlbmRhcjogZnVuY3Rpb24gb2Zmc2V0Q2FsZW5kYXIodHlwZSwgZGVzY2VuZGluZykgewogICAgICBpZiAoWydtb250aCcsICd5ZWFyJ10uaW5jbHVkZXModHlwZSkpIHsKICAgICAgICB0aGlzWyJfX2dvVG8iLmNvbmNhdCh0eXBlID09PSAnbW9udGgnID8gJ01vbnRoJyA6ICdZZWFyJyldKGRlc2NlbmRpbmcgPT09IHRydWUgPyAtMSA6IDEpOwogICAgICB9CiAgICB9LAogICAgX19nZXRNb2RlbHM6IGZ1bmN0aW9uIF9fZ2V0TW9kZWxzKHZhbCwgbWFzaywgbG9jYWxlKSB7CiAgICAgIHZhciBleHRlcm5hbCA9IF9fc3BsaXREYXRlKHZhbCwgdGhpcy5jYWxlbmRhciA9PT0gJ3BlcnNpYW4nID8gJ1lZWVkvTU0vREQnIDogbWFzaywgbG9jYWxlLCB0aGlzLmNhbGVuZGFyKTsKCiAgICAgIHJldHVybiB7CiAgICAgICAgZXh0ZXJuYWw6IGV4dGVybmFsLAogICAgICAgIGlubmVyOiBleHRlcm5hbC5kYXRlSGFzaCA9PT0gbnVsbCA/IHRoaXMuX19nZXREZWZhdWx0TW9kZWwoKSA6IF9vYmplY3RTcHJlYWQoe30sIGV4dGVybmFsKQogICAgICB9OwogICAgfSwKICAgIF9fZ2V0RGVmYXVsdE1vZGVsOiBmdW5jdGlvbiBfX2dldERlZmF1bHRNb2RlbCgpIHsKICAgICAgdmFyIHllYXIsIG1vbnRoOwoKICAgICAgaWYgKHRoaXMuZGVmYXVsdFllYXJNb250aCAhPT0gdm9pZCAwKSB7CiAgICAgICAgdmFyIGQgPSB0aGlzLmRlZmF1bHRZZWFyTW9udGguc3BsaXQoJy8nKTsKICAgICAgICB5ZWFyID0gcGFyc2VJbnQoZFswXSwgMTApOwogICAgICAgIG1vbnRoID0gcGFyc2VJbnQoZFsxXSwgMTApOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIG1heSBjb21lIGZyb20gZGF0YSgpIHdoZXJlIGNvbXB1dGVkCiAgICAgICAgLy8gcHJvcHMgYXJlIG5vdCB5ZXQgYXZhaWxhYmxlCiAgICAgICAgdmFyIF9kID0gdGhpcy50b2RheSAhPT0gdm9pZCAwID8gdGhpcy50b2RheSA6IHRoaXMuX19nZXRDdXJyZW50RGF0ZSgpOwoKICAgICAgICB5ZWFyID0gX2QueWVhcjsKICAgICAgICBtb250aCA9IF9kLm1vbnRoOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHllYXI6IHllYXIsCiAgICAgICAgbW9udGg6IG1vbnRoLAogICAgICAgIGRheTogMSwKICAgICAgICBob3VyOiAwLAogICAgICAgIG1pbnV0ZTogMCwKICAgICAgICBzZWNvbmQ6IDAsCiAgICAgICAgbWlsbGlzZWNvbmQ6IDAsCiAgICAgICAgZGF0ZUhhc2g6IHllYXIgKyAnLycgKyBwYWQobW9udGgpICsgJy8wMScKICAgICAgfTsKICAgIH0sCiAgICBfX2dldEhlYWRlcjogZnVuY3Rpb24gX19nZXRIZWFkZXIoaCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLm1pbmltYWwgPT09IHRydWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2hlYWRlcicsCiAgICAgICAgImNsYXNzIjogdGhpcy5oZWFkZXJDbGFzcwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncmVsYXRpdmUtcG9zaXRpb24nCiAgICAgIH0sIFtoKCd0cmFuc2l0aW9uJywgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBuYW1lOiAncS10cmFuc2l0aW9uLS1mYWRlJwogICAgICAgIH0KICAgICAgfSwgW2goJ2RpdicsIHsKICAgICAgICBrZXk6ICdoLXlyLScgKyB0aGlzLmhlYWRlclN1YnRpdGxlLAogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19oZWFkZXItc3VidGl0bGUgcS1kYXRlX19oZWFkZXItbGluaycsCiAgICAgICAgImNsYXNzIjogdGhpcy52aWV3ID09PSAnWWVhcnMnID8gJ3EtZGF0ZV9faGVhZGVyLWxpbmstLWFjdGl2ZScgOiAnY3Vyc29yLXBvaW50ZXInLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ3ZZJywgewogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICBfdGhpczUudmlldyA9ICdZZWFycyc7CiAgICAgICAgICB9LAogICAgICAgICAga2V5dXA6IGZ1bmN0aW9uIGtleXVwKGUpIHsKICAgICAgICAgICAgZS5rZXlDb2RlID09PSAxMyAmJiAoX3RoaXM1LnZpZXcgPSAnWWVhcnMnKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9LCBbdGhpcy5oZWFkZXJTdWJ0aXRsZV0pXSldKSwgaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19oZWFkZXItdGl0bGUgcmVsYXRpdmUtcG9zaXRpb24gZmxleCBuby13cmFwJwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncmVsYXRpdmUtcG9zaXRpb24gY29sJwogICAgICB9LCBbaCgndHJhbnNpdGlvbicsIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tZmFkZScKICAgICAgICB9CiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAga2V5OiAnaC1zdWInICsgdGhpcy5oZWFkZXJUaXRsZSwKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9faGVhZGVyLXRpdGxlLWxhYmVsIHEtZGF0ZV9faGVhZGVyLWxpbmsnLAogICAgICAgICJjbGFzcyI6IHRoaXMudmlldyA9PT0gJ0NhbGVuZGFyJyA/ICdxLWRhdGVfX2hlYWRlci1saW5rLS1hY3RpdmUnIDogJ2N1cnNvci1wb2ludGVyJywKICAgICAgICBhdHRyczogewogICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleAogICAgICAgIH0sCiAgICAgICAgb246IGNhY2hlKHRoaXMsICd2QycsIHsKICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgX3RoaXM1LnZpZXcgPSAnQ2FsZW5kYXInOwogICAgICAgICAgfSwKICAgICAgICAgIGtleXVwOiBmdW5jdGlvbiBrZXl1cChlKSB7CiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gMTMgJiYgKF90aGlzNS52aWV3ID0gJ0NhbGVuZGFyJyk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwgW3RoaXMuaGVhZGVyVGl0bGVdKV0pXSksIHRoaXMudG9kYXlCdG4gPT09IHRydWUgPyBoKFFCdG4sIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9faGVhZGVyLXRvZGF5JywKICAgICAgICBwcm9wczogewogICAgICAgICAgaWNvbjogdGhpcy4kcS5pY29uU2V0LmRhdGV0aW1lLnRvZGF5LAogICAgICAgICAgZmxhdDogdHJ1ZSwKICAgICAgICAgIHNpemU6ICdzbScsCiAgICAgICAgICByb3VuZDogdHJ1ZSwKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAndG9kYXknLCB7CiAgICAgICAgICBjbGljazogdGhpcy5zZXRUb2RheQogICAgICAgIH0pCiAgICAgIH0pIDogbnVsbF0pXSk7CiAgICB9LAogICAgX19nZXROYXZpZ2F0aW9uOiBmdW5jdGlvbiBfX2dldE5hdmlnYXRpb24oaCwgX3JlZikgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBsYWJlbCA9IF9yZWYubGFiZWwsCiAgICAgICAgICB2aWV3ID0gX3JlZi52aWV3LAogICAgICAgICAga2V5ID0gX3JlZi5rZXksCiAgICAgICAgICBkaXIgPSBfcmVmLmRpciwKICAgICAgICAgIGdvVG8gPSBfcmVmLmdvVG8sCiAgICAgICAgICBjbHMgPSBfcmVmLmNsczsKICAgICAgcmV0dXJuIFtoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdyb3cgaXRlbXMtY2VudGVyIHEtZGF0ZV9fYXJyb3cnCiAgICAgIH0sIFtoKFFCdG4sIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgcm91bmQ6IHRydWUsCiAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgIHNpemU6ICdzbScsCiAgICAgICAgICBmbGF0OiB0cnVlLAogICAgICAgICAgaWNvbjogdGhpcy5kYXRlQXJyb3dbMF0sCiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ2dvLSMnICsgdmlldywgewogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICBnb1RvKC0xKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KV0pLCBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdyZWxhdGl2ZS1wb3NpdGlvbiBvdmVyZmxvdy1oaWRkZW4gZmxleCBmbGV4LWNlbnRlcicgKyBjbHMKICAgICAgfSwgW2goJ3RyYW5zaXRpb24nLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIG5hbWU6ICdxLXRyYW5zaXRpb24tLWp1bXAtJyArIGRpcgogICAgICAgIH0KICAgICAgfSwgW2goJ2RpdicsIHsKICAgICAgICBrZXk6IGtleQogICAgICB9LCBbaChRQnRuLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGZsYXQ6IHRydWUsCiAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgIG5vQ2FwczogdHJ1ZSwKICAgICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAndmlldyMnICsgdmlldywgewogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICBfdGhpczYudmlldyA9IHZpZXc7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSldKV0pXSksIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3JvdyBpdGVtcy1jZW50ZXIgcS1kYXRlX19hcnJvdycKICAgICAgfSwgW2goUUJ0biwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICByb3VuZDogdHJ1ZSwKICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgc2l6ZTogJ3NtJywKICAgICAgICAgIGZsYXQ6IHRydWUsCiAgICAgICAgICBpY29uOiB0aGlzLmRhdGVBcnJvd1sxXSwKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAnZ28rIycgKyB2aWV3LCB7CiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIGdvVG8oMSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSldKV07CiAgICB9LAogICAgX19nZXRDYWxlbmRhclZpZXc6IGZ1bmN0aW9uIF9fZ2V0Q2FsZW5kYXJWaWV3KGgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gW2goJ2RpdicsIHsKICAgICAgICBrZXk6ICdjYWxlbmRhci12aWV3JywKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fdmlldyBxLWRhdGVfX2NhbGVuZGFyJwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19uYXZpZ2F0aW9uIHJvdyBpdGVtcy1jZW50ZXIgbm8td3JhcCcKICAgICAgfSwgdGhpcy5fX2dldE5hdmlnYXRpb24oaCwgewogICAgICAgIGxhYmVsOiB0aGlzLmNvbXB1dGVkTG9jYWxlLm1vbnRoc1t0aGlzLmlubmVyTW9kZWwubW9udGggLSAxXSwKICAgICAgICB2aWV3OiAnTW9udGhzJywKICAgICAgICBrZXk6IHRoaXMuaW5uZXJNb2RlbC5tb250aCwKICAgICAgICBkaXI6IHRoaXMubW9udGhEaXJlY3Rpb24sCiAgICAgICAgZ29UbzogdGhpcy5fX2dvVG9Nb250aCwKICAgICAgICBjbHM6ICcgY29sJwogICAgICB9KS5jb25jYXQodGhpcy5fX2dldE5hdmlnYXRpb24oaCwgewogICAgICAgIGxhYmVsOiB0aGlzLmlubmVyTW9kZWwueWVhciwKICAgICAgICB2aWV3OiAnWWVhcnMnLAogICAgICAgIGtleTogdGhpcy5pbm5lck1vZGVsLnllYXIsCiAgICAgICAgZGlyOiB0aGlzLnllYXJEaXJlY3Rpb24sCiAgICAgICAgZ29UbzogdGhpcy5fX2dvVG9ZZWFyLAogICAgICAgIGNsczogJycKICAgICAgfSkpKSwgaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19jYWxlbmRhci13ZWVrZGF5cyByb3cgaXRlbXMtY2VudGVyIG5vLXdyYXAnCiAgICAgIH0sIHRoaXMuZGF5c09mV2Vlay5tYXAoZnVuY3Rpb24gKGRheSkgewogICAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fY2FsZW5kYXItaXRlbScKICAgICAgICB9LCBbaCgnZGl2JywgW2RheV0pXSk7CiAgICAgIH0pKSwgaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19jYWxlbmRhci1kYXlzLWNvbnRhaW5lciByZWxhdGl2ZS1wb3NpdGlvbiBvdmVyZmxvdy1oaWRkZW4nCiAgICAgIH0sIFtoKCd0cmFuc2l0aW9uJywgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBuYW1lOiAncS10cmFuc2l0aW9uLS1zbGlkZS0nICsgdGhpcy5tb250aERpcmVjdGlvbgogICAgICAgIH0KICAgICAgfSwgW2goJ2RpdicsIHsKICAgICAgICBrZXk6IHRoaXMuaW5uZXJNb2RlbC55ZWFyICsgJy8nICsgdGhpcy5pbm5lck1vZGVsLm1vbnRoLAogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19jYWxlbmRhci1kYXlzIGZpdCcKICAgICAgfSwgdGhpcy5kYXlzLm1hcChmdW5jdGlvbiAoZGF5KSB7CiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAicS1kYXRlX19jYWxlbmRhci1pdGVtIHEtZGF0ZV9fY2FsZW5kYXItaXRlbS0tIi5jb25jYXQoZGF5LmZpbGwgPT09IHRydWUgPyAnZmlsbCcgOiBkYXlbImluIl0gPT09IHRydWUgPyAnaW4nIDogJ291dCcpCiAgICAgICAgfSwgW2RheVsiaW4iXSA9PT0gdHJ1ZSA/IGgoUUJ0biwgewogICAgICAgICAgc3RhdGljQ2xhc3M6IGRheS50b2RheSA9PT0gdHJ1ZSA/ICdxLWRhdGVfX3RvZGF5JyA6IG51bGwsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgICAgZmxhdDogZGF5LmZsYXQsCiAgICAgICAgICAgIHVuZWxldmF0ZWQ6IGRheS51bmVsZXZhdGVkLAogICAgICAgICAgICBjb2xvcjogZGF5LmNvbG9yLAogICAgICAgICAgICB0ZXh0Q29sb3I6IGRheS50ZXh0Q29sb3IsCiAgICAgICAgICAgIGxhYmVsOiBkYXkuaSwKICAgICAgICAgICAgdGFiaW5kZXg6IF90aGlzNy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgICB9LAogICAgICAgICAgb246IGNhY2hlKF90aGlzNywgJ2RheSMnICsgZGF5LmksIHsKICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICAgIF90aGlzNy5fX3NldERheShkYXkuaSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSwgZGF5LmV2ZW50ICE9PSBmYWxzZSA/IFtoKCdkaXYnLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fZXZlbnQgYmctJyArIGRheS5ldmVudAogICAgICAgIH0pXSA6IG51bGwpIDogaCgnZGl2JywgW2RheS5pXSldKTsKICAgICAgfSkpXSldKV0pXTsKICAgIH0sCiAgICBfX2dldE1vbnRoc1ZpZXc6IGZ1bmN0aW9uIF9fZ2V0TW9udGhzVmlldyhoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIGN1cnJlbnRZZWFyID0gdGhpcy5pbm5lck1vZGVsLnllYXIgPT09IHRoaXMudG9kYXkueWVhcjsKICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLmNvbXB1dGVkTG9jYWxlLm1vbnRoc1Nob3J0Lm1hcChmdW5jdGlvbiAobW9udGgsIGkpIHsKICAgICAgICB2YXIgYWN0aXZlID0gX3RoaXM4LmlubmVyTW9kZWwubW9udGggPT09IGkgKyAxOwogICAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fbW9udGhzLWl0ZW0gZmxleCBmbGV4LWNlbnRlcicKICAgICAgICB9LCBbaChRQnRuLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogY3VycmVudFllYXIgPT09IHRydWUgJiYgX3RoaXM4LnRvZGF5Lm1vbnRoID09PSBpICsgMSA/ICdxLWRhdGVfX3RvZGF5JyA6IG51bGwsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBmbGF0OiBhY3RpdmUgIT09IHRydWUsCiAgICAgICAgICAgIGxhYmVsOiBtb250aCwKICAgICAgICAgICAgdW5lbGV2YXRlZDogYWN0aXZlLAogICAgICAgICAgICBjb2xvcjogYWN0aXZlID09PSB0cnVlID8gX3RoaXM4LmNvbXB1dGVkQ29sb3IgOiBudWxsLAogICAgICAgICAgICB0ZXh0Q29sb3I6IGFjdGl2ZSA9PT0gdHJ1ZSA/IF90aGlzOC5jb21wdXRlZFRleHRDb2xvciA6IG51bGwsCiAgICAgICAgICAgIHRhYmluZGV4OiBfdGhpczguY29tcHV0ZWRUYWJpbmRleAogICAgICAgICAgfSwKICAgICAgICAgIG9uOiBjYWNoZShfdGhpczgsICdtb250aCMnICsgaSwgewogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgICAgX3RoaXM4Ll9fc2V0TW9udGgoaSArIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pXSk7CiAgICAgIH0pOwogICAgICB0aGlzLnllYXJzSW5Nb250aFZpZXcgPT09IHRydWUgJiYgY29udGVudC51bnNoaWZ0KGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3JvdyBuby13cmFwIGZ1bGwtd2lkdGgnCiAgICAgIH0sIFt0aGlzLl9fZ2V0TmF2aWdhdGlvbihoLCB7CiAgICAgICAgbGFiZWw6IHRoaXMuaW5uZXJNb2RlbC55ZWFyLAogICAgICAgIHZpZXc6ICdZZWFycycsCiAgICAgICAga2V5OiB0aGlzLmlubmVyTW9kZWwueWVhciwKICAgICAgICBkaXI6IHRoaXMueWVhckRpcmVjdGlvbiwKICAgICAgICBnb1RvOiB0aGlzLl9fZ29Ub1llYXIsCiAgICAgICAgY2xzOiAnIGNvbCcKICAgICAgfSldKSk7CiAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAga2V5OiAnbW9udGhzLXZpZXcnLAogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX192aWV3IHEtZGF0ZV9fbW9udGhzIGZsZXggZmxleC1jZW50ZXInCiAgICAgIH0sIGNvbnRlbnQpOwogICAgfSwKICAgIF9fZ2V0WWVhcnNWaWV3OiBmdW5jdGlvbiBfX2dldFllYXJzVmlldyhoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydFllYXIsCiAgICAgICAgICBzdG9wID0gc3RhcnQgKyB5ZWFyc0ludGVydmFsLAogICAgICAgICAgeWVhcnMgPSBbXTsKCiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICB2YXIgYWN0aXZlID0gX3RoaXM5LmlubmVyTW9kZWwueWVhciA9PT0gaTsKICAgICAgICB5ZWFycy5wdXNoKGgoJ2RpdicsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX195ZWFycy1pdGVtIGZsZXggZmxleC1jZW50ZXInCiAgICAgICAgfSwgW2goUUJ0biwgewogICAgICAgICAga2V5OiAneXInICsgaSwKICAgICAgICAgIHN0YXRpY0NsYXNzOiBfdGhpczkudG9kYXkueWVhciA9PT0gaSA/ICdxLWRhdGVfX3RvZGF5JyA6IG51bGwsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBmbGF0OiAhYWN0aXZlLAogICAgICAgICAgICBsYWJlbDogaSwKICAgICAgICAgICAgZGVuc2U6IHRydWUsCiAgICAgICAgICAgIHVuZWxldmF0ZWQ6IGFjdGl2ZSwKICAgICAgICAgICAgY29sb3I6IGFjdGl2ZSA/IF90aGlzOS5jb21wdXRlZENvbG9yIDogbnVsbCwKICAgICAgICAgICAgdGV4dENvbG9yOiBhY3RpdmUgPyBfdGhpczkuY29tcHV0ZWRUZXh0Q29sb3IgOiBudWxsLAogICAgICAgICAgICB0YWJpbmRleDogX3RoaXM5LmNvbXB1dGVkVGFiaW5kZXgKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogY2FjaGUoX3RoaXM5LCAneXIjJyArIGksIHsKICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICAgIF90aGlzOS5fX3NldFllYXIoaSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSldKSk7CiAgICAgIH07CgogICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPD0gc3RvcDsgaSsrKSB7CiAgICAgICAgX2xvb3AoaSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX3ZpZXcgcS1kYXRlX195ZWFycyBmbGV4IGZsZXgtY2VudGVyJwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAnY29sLWF1dG8nCiAgICAgIH0sIFtoKFFCdG4sIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgcm91bmQ6IHRydWUsCiAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgIGZsYXQ6IHRydWUsCiAgICAgICAgICBpY29uOiB0aGlzLmRhdGVBcnJvd1swXSwKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAneS0nLCB7CiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzOS5zdGFydFllYXIgLT0geWVhcnNJbnRlcnZhbDsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KV0pLCBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX3llYXJzLWNvbnRlbnQgY29sIHNlbGYtc3RyZXRjaCByb3cgaXRlbXMtY2VudGVyJwogICAgICB9LCB5ZWFycyksIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ2NvbC1hdXRvJwogICAgICB9LCBbaChRQnRuLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHJvdW5kOiB0cnVlLAogICAgICAgICAgZGVuc2U6IHRydWUsCiAgICAgICAgICBmbGF0OiB0cnVlLAogICAgICAgICAgaWNvbjogdGhpcy5kYXRlQXJyb3dbMV0sCiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ3krJywgewogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICBfdGhpczkuc3RhcnRZZWFyICs9IHllYXJzSW50ZXJ2YWw7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSldKV0pOwogICAgfSwKICAgIF9fZ2V0RGF5c0luTW9udGg6IGZ1bmN0aW9uIF9fZ2V0RGF5c0luTW9udGgob2JqKSB7CiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyICE9PSAncGVyc2lhbicgPyBuZXcgRGF0ZShvYmoueWVhciwgb2JqLm1vbnRoLCAwKS5nZXREYXRlKCkgOiBqYWxhYWxpTW9udGhMZW5ndGgob2JqLnllYXIsIG9iai5tb250aCk7CiAgICB9LAogICAgX19nb1RvTW9udGg6IGZ1bmN0aW9uIF9fZ29Ub01vbnRoKG9mZnNldCkgewogICAgICB2YXIgbW9udGggPSBOdW1iZXIodGhpcy5pbm5lck1vZGVsLm1vbnRoKSArIG9mZnNldCwKICAgICAgICAgIHllYXJEaXIgPSB0aGlzLnllYXJEaXJlY3Rpb247CgogICAgICBpZiAobW9udGggPT09IDEzKSB7CiAgICAgICAgbW9udGggPSAxOwogICAgICAgIHRoaXMuaW5uZXJNb2RlbC55ZWFyKys7CiAgICAgICAgeWVhckRpciA9IHRoaXMuJHEubGFuZy5ydGwgIT09IHRydWUgPyAnbGVmdCcgOiAncmlnaHQnOwogICAgICB9IGVsc2UgaWYgKG1vbnRoID09PSAwKSB7CiAgICAgICAgbW9udGggPSAxMjsKICAgICAgICB0aGlzLmlubmVyTW9kZWwueWVhci0tOwogICAgICAgIHllYXJEaXIgPSB0aGlzLiRxLmxhbmcucnRsICE9PSB0cnVlID8gJ3JpZ2h0JyA6ICdsZWZ0JzsKICAgICAgfQoKICAgICAgdGhpcy5tb250aERpcmVjdGlvbiA9IG9mZnNldCA+IDAgPT09ICh0aGlzLiRxLmxhbmcucnRsICE9PSB0cnVlKSA/ICdsZWZ0JyA6ICdyaWdodCc7CiAgICAgIHRoaXMueWVhckRpcmVjdGlvbiA9IHllYXJEaXI7CiAgICAgIHRoaXMuaW5uZXJNb2RlbC5tb250aCA9IG1vbnRoOwogICAgICB0aGlzLmVtaXRJbW1lZGlhdGVseSA9PT0gdHJ1ZSAmJiB0aGlzLl9fdXBkYXRlVmFsdWUoe30sICdtb250aCcpOwogICAgfSwKICAgIF9fZ29Ub1llYXI6IGZ1bmN0aW9uIF9fZ29Ub1llYXIob2Zmc2V0KSB7CiAgICAgIHRoaXMubW9udGhEaXJlY3Rpb24gPSB0aGlzLnllYXJEaXJlY3Rpb24gPSBvZmZzZXQgPiAwID09PSAodGhpcy4kcS5sYW5nLnJ0bCAhPT0gdHJ1ZSkgPyAnbGVmdCcgOiAncmlnaHQnOwogICAgICB0aGlzLmlubmVyTW9kZWwueWVhciA9IE51bWJlcih0aGlzLmlubmVyTW9kZWwueWVhcikgKyBvZmZzZXQ7CiAgICAgIHRoaXMuZW1pdEltbWVkaWF0ZWx5ID09PSB0cnVlICYmIHRoaXMuX191cGRhdGVWYWx1ZSh7fSwgJ3llYXInKTsKICAgIH0sCiAgICBfX3NldFllYXI6IGZ1bmN0aW9uIF9fc2V0WWVhcih5ZWFyKSB7CiAgICAgIHRoaXMuaW5uZXJNb2RlbC55ZWFyID0geWVhcjsKICAgICAgdGhpcy5lbWl0SW1tZWRpYXRlbHkgPT09IHRydWUgJiYgdGhpcy5fX3VwZGF0ZVZhbHVlKHsKICAgICAgICB5ZWFyOiB5ZWFyCiAgICAgIH0sICd5ZWFyJyk7CiAgICAgIHRoaXMudmlldyA9IHRoaXMuZXh0TW9kZWwubW9udGggPT09IG51bGwgfHwgdGhpcy5kZWZhdWx0VmlldyA9PT0gJ1llYXJzJyA/ICdNb250aHMnIDogJ0NhbGVuZGFyJzsKICAgIH0sCiAgICBfX3NldE1vbnRoOiBmdW5jdGlvbiBfX3NldE1vbnRoKG1vbnRoKSB7CiAgICAgIHRoaXMuaW5uZXJNb2RlbC5tb250aCA9IG1vbnRoOwogICAgICB0aGlzLmVtaXRJbW1lZGlhdGVseSA9PT0gdHJ1ZSAmJiB0aGlzLl9fdXBkYXRlVmFsdWUoewogICAgICAgIG1vbnRoOiBtb250aAogICAgICB9LCAnbW9udGgnKTsKICAgICAgdGhpcy52aWV3ID0gJ0NhbGVuZGFyJzsKICAgIH0sCiAgICBfX3NldERheTogZnVuY3Rpb24gX19zZXREYXkoZGF5KSB7CiAgICAgIHRoaXMuX191cGRhdGVWYWx1ZSh7CiAgICAgICAgZGF5OiBkYXkKICAgICAgfSwgJ2RheScpOwogICAgfSwKICAgIF9fdXBkYXRlVmFsdWU6IGZ1bmN0aW9uIF9fdXBkYXRlVmFsdWUoZGF0ZSwgcmVhc29uKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIGlmIChkYXRlLnllYXIgPT09IHZvaWQgMCkgewogICAgICAgIGRhdGUueWVhciA9IHRoaXMuaW5uZXJNb2RlbC55ZWFyOwogICAgICB9CgogICAgICBpZiAoZGF0ZS5tb250aCA9PT0gdm9pZCAwKSB7CiAgICAgICAgZGF0ZS5tb250aCA9IHRoaXMuaW5uZXJNb2RlbC5tb250aDsKICAgICAgfQoKICAgICAgaWYgKGRhdGUuZGF5ID09PSB2b2lkIDAgfHwgdGhpcy5lbWl0SW1tZWRpYXRlbHkgPT09IHRydWUgJiYgKHJlYXNvbiA9PT0gJ3llYXInIHx8IHJlYXNvbiA9PT0gJ21vbnRoJykpIHsKICAgICAgICBkYXRlLmRheSA9IHRoaXMuaW5uZXJNb2RlbC5kYXk7CiAgICAgICAgdmFyIG1heERheSA9IHRoaXMuZW1pdEltbWVkaWF0ZWx5ID09PSB0cnVlID8gdGhpcy5fX2dldERheXNJbk1vbnRoKGRhdGUpIDogdGhpcy5kYXlzSW5Nb250aDsKICAgICAgICBkYXRlLmRheSA9IE1hdGgubWluKE1hdGgubWF4KDEsIGRhdGUuZGF5KSwgbWF4RGF5KTsKICAgICAgfQoKICAgICAgdmFyIHZhbCA9IHRoaXMuY2FsZW5kYXIgPT09ICdwZXJzaWFuJyA/IGRhdGUueWVhciArICcvJyArIHBhZChkYXRlLm1vbnRoKSArICcvJyArIHBhZChkYXRlLmRheSkgOiBmb3JtYXREYXRlKG5ldyBEYXRlKGRhdGUueWVhciwgZGF0ZS5tb250aCAtIDEsIGRhdGUuZGF5LCB0aGlzLmV4dE1vZGVsLmhvdXIsIHRoaXMuZXh0TW9kZWwubWludXRlLCB0aGlzLmV4dE1vZGVsLnNlY29uZCwgdGhpcy5leHRNb2RlbC5taWxsaXNlY29uZCksIHRoaXMubWFzaywgdGhpcy5jb21wdXRlZExvY2FsZSwgZGF0ZS55ZWFyLCB0aGlzLmV4dE1vZGVsLnRpbWV6b25lT2Zmc2V0KTsKICAgICAgZGF0ZS5jaGFuZ2VkID0gdmFsICE9PSB0aGlzLnZhbHVlOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbCwgcmVhc29uLCBkYXRlKTsKCiAgICAgIGlmICh2YWwgPT09IHRoaXMudmFsdWUgJiYgcmVhc29uID09PSAndG9kYXknKSB7CiAgICAgICAgdmFyIG5ld0hhc2ggPSBkYXRlLnllYXIgKyAnLycgKyBwYWQoZGF0ZS5tb250aCkgKyAnLycgKyBwYWQoZGF0ZS5kYXkpOwogICAgICAgIHZhciBjdXJIYXNoID0gdGhpcy5pbm5lck1vZGVsLnllYXIgKyAnLycgKyBwYWQodGhpcy5pbm5lck1vZGVsLm1vbnRoKSArICcvJyArIHBhZCh0aGlzLmlubmVyTW9kZWwuZGF5KTsKCiAgICAgICAgaWYgKG5ld0hhc2ggIT09IGN1ckhhc2gpIHsKICAgICAgICAgIHRoaXMubW9udGhEaXJlY3Rpb24gPSBjdXJIYXNoIDwgbmV3SGFzaCA9PT0gKHRoaXMuJHEubGFuZy5ydGwgIT09IHRydWUpID8gJ2xlZnQnIDogJ3JpZ2h0JzsKCiAgICAgICAgICBpZiAoZGF0ZS55ZWFyICE9PSB0aGlzLmlubmVyTW9kZWwueWVhcikgewogICAgICAgICAgICB0aGlzLnllYXJEaXJlY3Rpb24gPSB0aGlzLm1vbnRoRGlyZWN0aW9uOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMxMC5zdGFydFllYXIgPSBkYXRlLnllYXIgLSBkYXRlLnllYXIgJSB5ZWFyc0ludGVydmFsIC0gKGRhdGUueWVhciA8IDAgPyB5ZWFyc0ludGVydmFsIDogMCk7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMxMC5pbm5lck1vZGVsLCB7CiAgICAgICAgICAgICAgeWVhcjogZGF0ZS55ZWFyLAogICAgICAgICAgICAgIG1vbnRoOiBkYXRlLm1vbnRoLAogICAgICAgICAgICAgIGRheTogZGF0ZS5kYXksCiAgICAgICAgICAgICAgZGF0ZUhhc2g6IG5ld0hhc2gKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBjb250ZW50ID0gW2goJ2RpdicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2NvbnRlbnQgY29sIHJlbGF0aXZlLXBvc2l0aW9uJwogICAgfSwgW2goJ3RyYW5zaXRpb24nLCB7CiAgICAgIHByb3BzOiB7CiAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tZmFkZScKICAgICAgfQogICAgfSwgW3RoaXNbIl9fZ2V0Ii5jb25jYXQodGhpcy52aWV3LCAiVmlldyIpXShoKV0pXSldOwogICAgdmFyIGRlZiA9IHNsb3QodGhpcywgJ2RlZmF1bHQnKTsKICAgIGRlZiAhPT0gdm9pZCAwICYmIGNvbnRlbnQucHVzaChoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19hY3Rpb25zJwogICAgfSwgZGVmKSk7CgogICAgaWYgKHRoaXMubmFtZSAhPT0gdm9pZCAwICYmIHRoaXMuZGlzYWJsZSAhPT0gdHJ1ZSkgewogICAgICB0aGlzLl9faW5qZWN0Rm9ybUlucHV0KGNvbnRlbnQsICdwdXNoJyk7CiAgICB9CgogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgImNsYXNzIjogdGhpcy5jbGFzc2VzLAogICAgICBhdHRyczogdGhpcy5hdHRycywKICAgICAgb246IF9vYmplY3RTcHJlYWQoe30sIHRoaXMucUxpc3RlbmVycykKICAgIH0sIFt0aGlzLl9fZ2V0SGVhZGVyKGgpLCBoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19tYWluIGNvbCBjb2x1bW4nLAogICAgICBhdHRyczogewogICAgICAgIHRhYmluZGV4OiAtMQogICAgICB9LAogICAgICByZWY6ICdibHVyVGFyZ2V0JwogICAgfSwgY29udGVudCldKTsKICB9Cn0pOw=="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/components/date/QDate.js"],"names":["Vue","QBtn","DateTimeMixin","slot","formatDate","__splitDate","pad","jalaaliMonthLength","toGregorian","cache","yearsInterval","viewIsValid","v","includes","extend","name","mixins","props","title","String","subtitle","emitImmediately","Boolean","mask","defaultYearMonth","type","validator","test","yearsInMonthView","events","Array","Function","eventColor","options","firstDayOfWeek","Number","todayBtn","minimal","defaultView","data","__getModels","value","__getComputedLocale","inner","external","direction","$q","lang","rtl","view","monthDirection","yearDirection","startYear","year","innerModel","extModel","watch","dateHash","timeHash","$nextTick","$refs","blurTarget","focus","computed","classes","landscape","isDark","bordered","square","flat","disable","readonly","headerTitle","length","model","date","calendar","Date","month","day","gDate","gy","gm","gd","isNaN","valueOf","computedLocale","daysShort","getDay","monthsShort","headerSubtitle","dateArrow","val","iconSet","datetime","arrowLeft","arrowRight","reverse","computedFirstDayOfWeek","daysOfWeek","days","first","slice","concat","daysInMonth","__getDaysInMonth","today","__getCurrentDate","evtFn","evtColor","isInSelection","endDay","res","getDate","prevJM","prevJY","len","i","push","fill","index","prefix","event","Object","assign","unelevated","color","computedColor","textColor","computedTextColor","left","afterDays","attrs","methods","setToday","__updateValue","setView","offsetCalendar","descending","locale","__getDefaultModel","d","split","parseInt","hour","minute","second","millisecond","__getHeader","h","staticClass","headerClass","key","tabindex","computedTabindex","on","click","keyup","e","keyCode","icon","size","round","__getNavigation","label","dir","goTo","cls","dense","noCaps","__getCalendarView","months","__goToMonth","__goToYear","map","__setDay","__getMonthsView","currentYear","content","active","__setMonth","unshift","__getYearsView","start","stop","years","__setYear","obj","offset","yearDir","reason","maxDay","Math","min","max","timezoneOffset","changed","$emit","newHash","curHash","render","def","__injectFormInput","qListeners","ref"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport QBtn from '../btn/QBtn.js'\nimport DateTimeMixin from '../../mixins/datetime.js'\n\nimport { slot } from '../../utils/slot.js'\nimport { formatDate, __splitDate } from '../../utils/date.js'\nimport { pad } from '../../utils/format.js'\nimport { jalaaliMonthLength, toGregorian } from '../../utils/date-persian.js'\nimport cache from '../../utils/cache.js'\n\nconst yearsInterval = 20\nconst viewIsValid = v => ['Calendar', 'Years', 'Months'].includes(v)\n\nexport default Vue.extend({\n  name: 'QDate',\n\n  mixins: [ DateTimeMixin ],\n\n  props: {\n    title: String,\n    subtitle: String,\n\n    emitImmediately: Boolean,\n\n    mask: {\n      // this mask is forced\n      // when using persian calendar\n      default: 'YYYY/MM/DD'\n    },\n\n    defaultYearMonth: {\n      type: String,\n      validator: v => /^-?[\\d]+\\/[0-1]\\d$/.test(v)\n    },\n\n    yearsInMonthView: Boolean,\n\n    events: [Array, Function],\n    eventColor: [String, Function],\n\n    options: [Array, Function],\n\n    firstDayOfWeek: [String, Number],\n    todayBtn: Boolean,\n    minimal: Boolean,\n    defaultView: {\n      type: String,\n      default: 'Calendar',\n      validator: viewIsValid\n    }\n  },\n\n  data () {\n    const\n      { inner, external } = this.__getModels(this.value, this.mask, this.__getComputedLocale()),\n      direction = this.$q.lang.rtl === true ? 'right' : 'left'\n\n    return {\n      view: this.defaultView,\n      monthDirection: direction,\n      yearDirection: direction,\n      startYear: inner.year - inner.year % yearsInterval - (inner.year < 0 ? yearsInterval : 0),\n      innerModel: inner,\n      extModel: external\n    }\n  },\n\n  watch: {\n    value (v) {\n      const { inner, external } = this.__getModels(v, this.mask, this.__getComputedLocale())\n\n      if (\n        this.extModel.dateHash !== external.dateHash ||\n        this.extModel.timeHash !== external.timeHash\n      ) {\n        this.extModel = external\n      }\n\n      if (inner.dateHash !== this.innerModel.dateHash) {\n        this.monthDirection = (this.innerModel.dateHash < inner.dateHash) === (this.$q.lang.rtl !== true) ? 'left' : 'right'\n        if (inner.year !== this.innerModel.year) {\n          this.yearDirection = this.monthDirection\n        }\n\n        this.$nextTick(() => {\n          this.startYear = inner.year - inner.year % yearsInterval - (inner.year < 0 ? yearsInterval : 0)\n          this.innerModel = inner\n        })\n      }\n    },\n\n    view () {\n      this.$refs.blurTarget !== void 0 && this.$refs.blurTarget.focus()\n    }\n  },\n\n  computed: {\n    classes () {\n      const type = this.landscape === true ? 'landscape' : 'portrait'\n      return `q-date q-date--${type} q-date--${type}-${this.minimal === true ? 'minimal' : 'standard'}` +\n        (this.isDark === true ? ' q-date--dark q-dark' : '') +\n        (this.bordered === true ? ` q-date--bordered` : '') +\n        (this.square === true ? ` q-date--square no-border-radius` : '') +\n        (this.flat === true ? ` q-date--flat no-shadow` : '') +\n        (this.disable === true ? ' disabled' : (this.readonly === true ? ' q-date--readonly' : ''))\n    },\n\n    headerTitle () {\n      if (this.title !== void 0 && this.title !== null && this.title.length > 0) {\n        return this.title\n      }\n\n      const model = this.extModel\n      if (model.dateHash === null) { return ' --- ' }\n\n      let date\n\n      if (this.calendar !== 'persian') {\n        date = new Date(model.year, model.month - 1, model.day)\n      }\n      else {\n        const gDate = toGregorian(model.year, model.month, model.day)\n        date = new Date(gDate.gy, gDate.gm - 1, gDate.gd)\n      }\n\n      if (isNaN(date.valueOf()) === true) { return ' --- ' }\n\n      if (this.computedLocale.headerTitle !== void 0) {\n        return this.computedLocale.headerTitle(date, model)\n      }\n\n      return this.computedLocale.daysShort[ date.getDay() ] + ', ' +\n        this.computedLocale.monthsShort[ model.month - 1 ] + ' ' +\n        model.day\n    },\n\n    headerSubtitle () {\n      return this.subtitle !== void 0 && this.subtitle !== null && this.subtitle.length > 0\n        ? this.subtitle\n        : (\n          this.extModel.year !== null\n            ? this.extModel.year\n            : ' --- '\n        )\n    },\n\n    dateArrow () {\n      const val = [ this.$q.iconSet.datetime.arrowLeft, this.$q.iconSet.datetime.arrowRight ]\n      return this.$q.lang.rtl === true ? val.reverse() : val\n    },\n\n    computedFirstDayOfWeek () {\n      return this.firstDayOfWeek !== void 0\n        ? Number(this.firstDayOfWeek)\n        : this.computedLocale.firstDayOfWeek\n    },\n\n    daysOfWeek () {\n      const\n        days = this.computedLocale.daysShort,\n        first = this.computedFirstDayOfWeek\n\n      return first > 0\n        ? days.slice(first, 7).concat(days.slice(0, first))\n        : days\n    },\n\n    daysInMonth () {\n      return this.__getDaysInMonth(this.innerModel)\n    },\n\n    today () {\n      return this.__getCurrentDate()\n    },\n\n    evtFn () {\n      return typeof this.events === 'function'\n        ? this.events\n        : date => this.events.includes(date)\n    },\n\n    evtColor () {\n      return typeof this.eventColor === 'function'\n        ? this.eventColor\n        : date => this.eventColor\n    },\n\n    isInSelection () {\n      return typeof this.options === 'function'\n        ? this.options\n        : date => this.options.includes(date)\n    },\n\n    days () {\n      let date, endDay\n\n      const res = []\n\n      if (this.calendar !== 'persian') {\n        date = new Date(this.innerModel.year, this.innerModel.month - 1, 1)\n        endDay = (new Date(this.innerModel.year, this.innerModel.month - 1, 0)).getDate()\n      }\n      else {\n        const gDate = toGregorian(this.innerModel.year, this.innerModel.month, 1)\n        date = new Date(gDate.gy, gDate.gm - 1, gDate.gd)\n        let prevJM = this.innerModel.month - 1\n        let prevJY = this.innerModel.year\n        if (prevJM === 0) {\n          prevJM = 12\n          prevJY--\n        }\n        endDay = jalaaliMonthLength(prevJY, prevJM)\n      }\n\n      const days = (date.getDay() - this.computedFirstDayOfWeek - 1)\n\n      const len = days < 0 ? days + 7 : days\n      if (len < 6) {\n        for (let i = endDay - len; i <= endDay; i++) {\n          res.push({ i, fill: true })\n        }\n      }\n\n      const\n        index = res.length,\n        prefix = this.innerModel.year + '/' + pad(this.innerModel.month) + '/'\n\n      for (let i = 1; i <= this.daysInMonth; i++) {\n        const day = prefix + pad(i)\n\n        if (this.options !== void 0 && this.isInSelection(day) !== true) {\n          res.push({ i })\n        }\n        else {\n          const event = this.events !== void 0 && this.evtFn(day) === true\n            ? this.evtColor(day)\n            : false\n\n          res.push({ i, in: true, flat: true, event })\n        }\n      }\n\n      if (this.innerModel.year === this.extModel.year && this.innerModel.month === this.extModel.month) {\n        const i = index + this.innerModel.day - 1\n        res[i] !== void 0 && Object.assign(res[i], {\n          unelevated: true,\n          flat: false,\n          color: this.computedColor,\n          textColor: this.computedTextColor\n        })\n      }\n\n      if (this.innerModel.year === this.today.year && this.innerModel.month === this.today.month) {\n        res[index + this.today.day - 1].today = true\n      }\n\n      const left = res.length % 7\n      if (left > 0) {\n        const afterDays = 7 - left\n        for (let i = 1; i <= afterDays; i++) {\n          res.push({ i, fill: true })\n        }\n      }\n\n      return res\n    },\n\n    attrs () {\n      if (this.disable === true) {\n        return { 'aria-disabled': '' }\n      }\n      if (this.readonly === true) {\n        return { 'aria-readonly': '' }\n      }\n    }\n  },\n\n  methods: {\n    setToday () {\n      this.__updateValue({ ...this.today }, 'today')\n      this.view = 'Calendar'\n    },\n\n    setView (view) {\n      if (viewIsValid(view) === true) {\n        this.view = view\n      }\n    },\n\n    offsetCalendar (type, descending) {\n      if (['month', 'year'].includes(type)) {\n        this[`__goTo${type === 'month' ? 'Month' : 'Year'}`](\n          descending === true ? -1 : 1\n        )\n      }\n    },\n\n    __getModels (val, mask, locale) {\n      const external = __splitDate(\n        val,\n        this.calendar === 'persian' ? 'YYYY/MM/DD' : mask,\n        locale,\n        this.calendar\n      )\n\n      return {\n        external,\n        inner: external.dateHash === null\n          ? this.__getDefaultModel()\n          : { ...external }\n      }\n    },\n\n    __getDefaultModel () {\n      let year, month\n\n      if (this.defaultYearMonth !== void 0) {\n        const d = this.defaultYearMonth.split('/')\n        year = parseInt(d[0], 10)\n        month = parseInt(d[1], 10)\n      }\n      else {\n        // may come from data() where computed\n        // props are not yet available\n        const d = this.today !== void 0\n          ? this.today\n          : this.__getCurrentDate()\n\n        year = d.year\n        month = d.month\n      }\n\n      return {\n        year,\n        month,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        dateHash: year + '/' + pad(month) + '/01'\n      }\n    },\n\n    __getHeader (h) {\n      if (this.minimal === true) { return }\n\n      return h('div', {\n        staticClass: 'q-date__header',\n        class: this.headerClass\n      }, [\n        h('div', {\n          staticClass: 'relative-position'\n        }, [\n          h('transition', {\n            props: {\n              name: 'q-transition--fade'\n            }\n          }, [\n            h('div', {\n              key: 'h-yr-' + this.headerSubtitle,\n              staticClass: 'q-date__header-subtitle q-date__header-link',\n              class: this.view === 'Years' ? 'q-date__header-link--active' : 'cursor-pointer',\n              attrs: { tabindex: this.computedTabindex },\n              on: cache(this, 'vY', {\n                click: () => { this.view = 'Years' },\n                keyup: e => { e.keyCode === 13 && (this.view = 'Years') }\n              })\n            }, [ this.headerSubtitle ])\n          ])\n        ]),\n\n        h('div', {\n          staticClass: 'q-date__header-title relative-position flex no-wrap'\n        }, [\n          h('div', {\n            staticClass: 'relative-position col'\n          }, [\n            h('transition', {\n              props: {\n                name: 'q-transition--fade'\n              }\n            }, [\n              h('div', {\n                key: 'h-sub' + this.headerTitle,\n                staticClass: 'q-date__header-title-label q-date__header-link',\n                class: this.view === 'Calendar' ? 'q-date__header-link--active' : 'cursor-pointer',\n                attrs: { tabindex: this.computedTabindex },\n                on: cache(this, 'vC', {\n                  click: () => { this.view = 'Calendar' },\n                  keyup: e => { e.keyCode === 13 && (this.view = 'Calendar') }\n                })\n              }, [ this.headerTitle ])\n            ])\n          ]),\n\n          this.todayBtn === true ? h(QBtn, {\n            staticClass: 'q-date__header-today',\n            props: {\n              icon: this.$q.iconSet.datetime.today,\n              flat: true,\n              size: 'sm',\n              round: true,\n              tabindex: this.computedTabindex\n            },\n            on: cache(this, 'today', { click: this.setToday })\n          }) : null\n        ])\n      ])\n    },\n\n    __getNavigation (h, { label, view, key, dir, goTo, cls }) {\n      return [\n        h('div', {\n          staticClass: 'row items-center q-date__arrow'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              size: 'sm',\n              flat: true,\n              icon: this.dateArrow[0],\n              tabindex: this.computedTabindex\n            },\n            on: cache(this, 'go-#' + view, { click () { goTo(-1) } })\n          })\n        ]),\n\n        h('div', {\n          staticClass: 'relative-position overflow-hidden flex flex-center' + cls\n        }, [\n          h('transition', {\n            props: {\n              name: 'q-transition--jump-' + dir\n            }\n          }, [\n            h('div', { key }, [\n              h(QBtn, {\n                props: {\n                  flat: true,\n                  dense: true,\n                  noCaps: true,\n                  label,\n                  tabindex: this.computedTabindex\n                },\n                on: cache(this, 'view#' + view, { click: () => { this.view = view } })\n              })\n            ])\n          ])\n        ]),\n\n        h('div', {\n          staticClass: 'row items-center q-date__arrow'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              size: 'sm',\n              flat: true,\n              icon: this.dateArrow[1],\n              tabindex: this.computedTabindex\n            },\n            on: cache(this, 'go+#' + view, { click () { goTo(1) } })\n          })\n        ])\n      ]\n    },\n\n    __getCalendarView (h) {\n      return [\n        h('div', {\n          key: 'calendar-view',\n          staticClass: 'q-date__view q-date__calendar'\n        }, [\n          h('div', {\n            staticClass: 'q-date__navigation row items-center no-wrap'\n          }, this.__getNavigation(h, {\n            label: this.computedLocale.months[ this.innerModel.month - 1 ],\n            view: 'Months',\n            key: this.innerModel.month,\n            dir: this.monthDirection,\n            goTo: this.__goToMonth,\n            cls: ' col'\n          }).concat(this.__getNavigation(h, {\n            label: this.innerModel.year,\n            view: 'Years',\n            key: this.innerModel.year,\n            dir: this.yearDirection,\n            goTo: this.__goToYear,\n            cls: ''\n          }))),\n\n          h('div', {\n            staticClass: 'q-date__calendar-weekdays row items-center no-wrap'\n          }, this.daysOfWeek.map(day => h('div', { staticClass: 'q-date__calendar-item' }, [ h('div', [ day ]) ]))),\n\n          h('div', {\n            staticClass: 'q-date__calendar-days-container relative-position overflow-hidden'\n          }, [\n            h('transition', {\n              props: {\n                name: 'q-transition--slide-' + this.monthDirection\n              }\n            }, [\n              h('div', {\n                key: this.innerModel.year + '/' + this.innerModel.month,\n                staticClass: 'q-date__calendar-days fit'\n              }, this.days.map(day => h('div', {\n                staticClass: `q-date__calendar-item q-date__calendar-item--${day.fill === true ? 'fill' : (day.in === true ? 'in' : 'out')}`\n              }, [\n                day.in === true\n                  ? h(QBtn, {\n                    staticClass: day.today === true ? 'q-date__today' : null,\n                    props: {\n                      dense: true,\n                      flat: day.flat,\n                      unelevated: day.unelevated,\n                      color: day.color,\n                      textColor: day.textColor,\n                      label: day.i,\n                      tabindex: this.computedTabindex\n                    },\n                    on: cache(this, 'day#' + day.i, { click: () => { this.__setDay(day.i) } })\n                  }, day.event !== false ? [\n                    h('div', { staticClass: 'q-date__event bg-' + day.event })\n                  ] : null)\n                  : h('div', [ day.i ])\n              ])))\n            ])\n          ])\n        ])\n      ]\n    },\n\n    __getMonthsView (h) {\n      const currentYear = this.innerModel.year === this.today.year\n\n      const content = this.computedLocale.monthsShort.map((month, i) => {\n        const active = this.innerModel.month === i + 1\n\n        return h('div', {\n          staticClass: 'q-date__months-item flex flex-center'\n        }, [\n          h(QBtn, {\n            staticClass: currentYear === true && this.today.month === i + 1 ? 'q-date__today' : null,\n            props: {\n              flat: active !== true,\n              label: month,\n              unelevated: active,\n              color: active === true ? this.computedColor : null,\n              textColor: active === true ? this.computedTextColor : null,\n              tabindex: this.computedTabindex\n            },\n            on: cache(this, 'month#' + i, { click: () => { this.__setMonth(i + 1) } })\n          })\n        ])\n      })\n\n      this.yearsInMonthView === true && content.unshift(\n        h('div', { staticClass: 'row no-wrap full-width' }, [\n          this.__getNavigation(h, {\n            label: this.innerModel.year,\n            view: 'Years',\n            key: this.innerModel.year,\n            dir: this.yearDirection,\n            goTo: this.__goToYear,\n            cls: ' col'\n          })\n        ])\n      )\n\n      return h('div', {\n        key: 'months-view',\n        staticClass: 'q-date__view q-date__months flex flex-center'\n      }, content)\n    },\n\n    __getYearsView (h) {\n      const\n        start = this.startYear,\n        stop = start + yearsInterval,\n        years = []\n\n      for (let i = start; i <= stop; i++) {\n        const active = this.innerModel.year === i\n\n        years.push(\n          h('div', {\n            staticClass: 'q-date__years-item flex flex-center'\n          }, [\n            h(QBtn, {\n              key: 'yr' + i,\n              staticClass: this.today.year === i ? 'q-date__today' : null,\n              props: {\n                flat: !active,\n                label: i,\n                dense: true,\n                unelevated: active,\n                color: active ? this.computedColor : null,\n                textColor: active ? this.computedTextColor : null,\n                tabindex: this.computedTabindex\n              },\n              on: cache(this, 'yr#' + i, { click: () => { this.__setYear(i) } })\n            })\n          ])\n        )\n      }\n\n      return h('div', {\n        staticClass: 'q-date__view q-date__years flex flex-center'\n      }, [\n        h('div', {\n          staticClass: 'col-auto'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              flat: true,\n              icon: this.dateArrow[0],\n              tabindex: this.computedTabindex\n            },\n            on: cache(this, 'y-', { click: () => { this.startYear -= yearsInterval } })\n          })\n        ]),\n\n        h('div', {\n          staticClass: 'q-date__years-content col self-stretch row items-center'\n        }, years),\n\n        h('div', {\n          staticClass: 'col-auto'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              flat: true,\n              icon: this.dateArrow[1],\n              tabindex: this.computedTabindex\n            },\n            on: cache(this, 'y+', { click: () => { this.startYear += yearsInterval } })\n          })\n        ])\n      ])\n    },\n\n    __getDaysInMonth (obj) {\n      return this.calendar !== 'persian'\n        ? (new Date(obj.year, obj.month, 0)).getDate()\n        : jalaaliMonthLength(obj.year, obj.month)\n    },\n\n    __goToMonth (offset) {\n      let\n        month = Number(this.innerModel.month) + offset,\n        yearDir = this.yearDirection\n\n      if (month === 13) {\n        month = 1\n        this.innerModel.year++\n        yearDir = (this.$q.lang.rtl !== true) ? 'left' : 'right'\n      }\n      else if (month === 0) {\n        month = 12\n        this.innerModel.year--\n        yearDir = (this.$q.lang.rtl !== true) ? 'right' : 'left'\n      }\n\n      this.monthDirection = (offset > 0) === (this.$q.lang.rtl !== true) ? 'left' : 'right'\n      this.yearDirection = yearDir\n      this.innerModel.month = month\n      this.emitImmediately === true && this.__updateValue({}, 'month')\n    },\n\n    __goToYear (offset) {\n      this.monthDirection = this.yearDirection = (offset > 0) === (this.$q.lang.rtl !== true) ? 'left' : 'right'\n      this.innerModel.year = Number(this.innerModel.year) + offset\n      this.emitImmediately === true && this.__updateValue({}, 'year')\n    },\n\n    __setYear (year) {\n      this.innerModel.year = year\n      this.emitImmediately === true && this.__updateValue({ year }, 'year')\n      this.view = this.extModel.month === null || this.defaultView === 'Years' ? 'Months' : 'Calendar'\n    },\n\n    __setMonth (month) {\n      this.innerModel.month = month\n      this.emitImmediately === true && this.__updateValue({ month }, 'month')\n      this.view = 'Calendar'\n    },\n\n    __setDay (day) {\n      this.__updateValue({ day }, 'day')\n    },\n\n    __updateValue (date, reason) {\n      if (date.year === void 0) {\n        date.year = this.innerModel.year\n      }\n      if (date.month === void 0) {\n        date.month = this.innerModel.month\n      }\n      if (\n        date.day === void 0 ||\n        (this.emitImmediately === true && (reason === 'year' || reason === 'month'))\n      ) {\n        date.day = this.innerModel.day\n        const maxDay = this.emitImmediately === true\n          ? this.__getDaysInMonth(date)\n          : this.daysInMonth\n\n        date.day = Math.min(Math.max(1, date.day), maxDay)\n      }\n\n      const val = this.calendar === 'persian'\n        ? date.year + '/' + pad(date.month) + '/' + pad(date.day)\n        : formatDate(\n          new Date(\n            date.year,\n            date.month - 1,\n            date.day,\n            this.extModel.hour,\n            this.extModel.minute,\n            this.extModel.second,\n            this.extModel.millisecond\n          ),\n          this.mask,\n          this.computedLocale,\n          date.year,\n          this.extModel.timezoneOffset\n        )\n\n      date.changed = val !== this.value\n      this.$emit('input', val, reason, date)\n\n      if (val === this.value && reason === 'today') {\n        const newHash = date.year + '/' + pad(date.month) + '/' + pad(date.day)\n        const curHash = this.innerModel.year + '/' + pad(this.innerModel.month) + '/' + pad(this.innerModel.day)\n\n        if (newHash !== curHash) {\n          this.monthDirection = (curHash < newHash) === (this.$q.lang.rtl !== true) ? 'left' : 'right'\n          if (date.year !== this.innerModel.year) {\n            this.yearDirection = this.monthDirection\n          }\n\n          this.$nextTick(() => {\n            this.startYear = date.year - date.year % yearsInterval - (date.year < 0 ? yearsInterval : 0)\n            Object.assign(this.innerModel, {\n              year: date.year,\n              month: date.month,\n              day: date.day,\n              dateHash: newHash\n            })\n          })\n        }\n      }\n    }\n  },\n\n  render (h) {\n    const content = [\n      h('div', {\n        staticClass: 'q-date__content col relative-position'\n      }, [\n        h('transition', {\n          props: { name: 'q-transition--fade' }\n        }, [\n          this[`__get${this.view}View`](h)\n        ])\n      ])\n    ]\n\n    const def = slot(this, 'default')\n    def !== void 0 && content.push(\n      h('div', { staticClass: 'q-date__actions' }, def)\n    )\n\n    if (this.name !== void 0 && this.disable !== true) {\n      this.__injectFormInput(content, 'push')\n    }\n\n    return h('div', {\n      class: this.classes,\n      attrs: this.attrs,\n      on: { ...this.qListeners }\n    }, [\n      this.__getHeader(h),\n\n      h('div', {\n        staticClass: 'q-date__main col column',\n        attrs: { tabindex: -1 },\n        ref: 'blurTarget'\n      }, content)\n    ])\n  }\n})\n"]}]}