{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/directives/GoBack.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/directives/GoBack.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCB7IGNsaWVudCB9IGZyb20gJy4uL3BsdWdpbnMvUGxhdGZvcm0uanMnOwppbXBvcnQgeyBpc0tleUNvZGUgfSBmcm9tICcuLi91dGlscy9rZXktY29tcG9zaXRpb24uanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2dvLWJhY2snLAogIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoZWwsIF9yZWYsIHZub2RlKSB7CiAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlLAogICAgICAgIG1vZGlmaWVycyA9IF9yZWYubW9kaWZpZXJzOwogICAgdmFyIGN0eCA9IHsKICAgICAgdmFsdWU6IHZhbHVlLAogICAgICBwb3NpdGlvbjogd2luZG93Lmhpc3RvcnkubGVuZ3RoIC0gMSwKICAgICAgc2luZ2xlOiBtb2RpZmllcnMuc2luZ2xlLAogICAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgICB2YXIgcm91dGVyID0gdm5vZGUuY29udGV4dC4kcm91dGVyOwoKICAgICAgICBpZiAoY3R4LnNpbmdsZSA9PT0gdHJ1ZSkgewogICAgICAgICAgcm91dGVyLmdvKC0xKTsKICAgICAgICB9IGVsc2UgaWYgKGNsaWVudC5pcy5uYXRpdmVNb2JpbGUgPT09IHRydWUpIHsKICAgICAgICAgIHJvdXRlci5nbyhjdHgucG9zaXRpb24gLSB3aW5kb3cuaGlzdG9yeS5sZW5ndGgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByb3V0ZXIucmVwbGFjZShjdHgudmFsdWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ29CYWNrS2V5OiBmdW5jdGlvbiBnb0JhY2tLZXkoZSkgewogICAgICAgIC8vIGlmIEVOVEVSIGtleQogICAgICAgIGlzS2V5Q29kZShlLCAxMykgPT09IHRydWUgJiYgY3R4LmdvQmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIGlmIChlbC5fX3Fnb2JhY2spIHsKICAgICAgZWwuX19xZ29iYWNrX29sZCA9IGVsLl9fcWdvYmFjazsKICAgIH0KCiAgICBlbC5fX3Fnb2JhY2sgPSBjdHg7CiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGN0eC5nb0JhY2spOwogICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBjdHguZ29CYWNrS2V5KTsKICB9LAogIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGVsLCBfcmVmMikgewogICAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWUsCiAgICAgICAgb2xkVmFsdWUgPSBfcmVmMi5vbGRWYWx1ZSwKICAgICAgICBtb2RpZmllcnMgPSBfcmVmMi5tb2RpZmllcnM7CiAgICB2YXIgY3R4ID0gZWwuX19xZ29iYWNrOwoKICAgIGlmIChjdHggIT09IHZvaWQgMCkgewogICAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7CiAgICAgICAgY3R4LnZhbHVlID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIGlmIChjdHguc2luZ2xlICE9PSBtb2RpZmllcnMuc2luZ2xlKSB7CiAgICAgICAgY3R4LnNpbmdsZSA9IG1vZGlmaWVycy5zaW5nbGU7CiAgICAgIH0KICAgIH0KICB9LAogIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKGVsKSB7CiAgICB2YXIgY3R4ID0gZWwuX19xZ29iYWNrX29sZCB8fCBlbC5fX3Fnb2JhY2s7CgogICAgaWYgKGN0eCAhPT0gdm9pZCAwKSB7CiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3R4LmdvQmFjayk7CiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgY3R4LmdvQmFja0tleSk7CiAgICAgIGRlbGV0ZSBlbFtlbC5fX3Fnb2JhY2tfb2xkID8gJ19fcWdvYmFja19vbGQnIDogJ19fcWdvYmFjayddOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-core/FE/node_modules/quasar/src/directives/GoBack.js"],"names":["client","isKeyCode","name","bind","el","vnode","value","modifiers","ctx","position","window","history","length","single","goBack","router","context","$router","go","is","nativeMobile","replace","goBackKey","e","__qgoback","__qgoback_old","addEventListener","update","oldValue","unbind","removeEventListener"],"mappings":";;AAAA,SAASA,MAAT,QAAuB,wBAAvB;AACA,SAASC,SAAT,QAA0B,6BAA1B;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,SADO;AAGbC,EAAAA,IAHa,gBAGPC,EAHO,QAGmBC,KAHnB,EAG0B;AAAA,QAA3BC,KAA2B,QAA3BA,KAA2B;AAAA,QAApBC,SAAoB,QAApBA,SAAoB;AACrC,QAAMC,GAAG,GAAG;AACVF,MAAAA,KAAK,EAALA,KADU;AAGVG,MAAAA,QAAQ,EAAEC,MAAM,CAACC,OAAP,CAAeC,MAAf,GAAwB,CAHxB;AAIVC,MAAAA,MAAM,EAAEN,SAAS,CAACM,MAJR;AAMVC,MAAAA,MANU,oBAMA;AACR,YAAMC,MAAM,GAAGV,KAAK,CAACW,OAAN,CAAcC,OAA7B;;AAEA,YAAIT,GAAG,CAACK,MAAJ,KAAe,IAAnB,EAAyB;AACvBE,UAAAA,MAAM,CAACG,EAAP,CAAU,CAAC,CAAX;AACD,SAFD,MAGK,IAAIlB,MAAM,CAACmB,EAAP,CAAUC,YAAV,KAA2B,IAA/B,EAAqC;AACxCL,UAAAA,MAAM,CAACG,EAAP,CAAUV,GAAG,CAACC,QAAJ,GAAeC,MAAM,CAACC,OAAP,CAAeC,MAAxC;AACD,SAFI,MAGA;AACHG,UAAAA,MAAM,CAACM,OAAP,CAAeb,GAAG,CAACF,KAAnB;AACD;AACF,OAlBS;AAoBVgB,MAAAA,SApBU,qBAoBCC,CApBD,EAoBI;AACZ;AACAtB,QAAAA,SAAS,CAACsB,CAAD,EAAI,EAAJ,CAAT,KAAqB,IAArB,IAA6Bf,GAAG,CAACM,MAAJ,EAA7B;AACD;AAvBS,KAAZ;;AA0BA,QAAIV,EAAE,CAACoB,SAAP,EAAkB;AAChBpB,MAAAA,EAAE,CAACqB,aAAH,GAAmBrB,EAAE,CAACoB,SAAtB;AACD;;AAEDpB,IAAAA,EAAE,CAACoB,SAAH,GAAehB,GAAf;AACAJ,IAAAA,EAAE,CAACsB,gBAAH,CAAoB,OAApB,EAA6BlB,GAAG,CAACM,MAAjC;AACAV,IAAAA,EAAE,CAACsB,gBAAH,CAAoB,OAApB,EAA6BlB,GAAG,CAACc,SAAjC;AACD,GArCY;AAuCbK,EAAAA,MAvCa,kBAuCLvB,EAvCK,SAuC+B;AAAA,QAA9BE,KAA8B,SAA9BA,KAA8B;AAAA,QAAvBsB,QAAuB,SAAvBA,QAAuB;AAAA,QAAbrB,SAAa,SAAbA,SAAa;AAC1C,QAAMC,GAAG,GAAGJ,EAAE,CAACoB,SAAf;;AAEA,QAAIhB,GAAG,KAAK,KAAK,CAAjB,EAAoB;AAClB,UAAIF,KAAK,KAAKsB,QAAd,EAAwB;AACtBpB,QAAAA,GAAG,CAACF,KAAJ,GAAYA,KAAZ;AACD;;AAED,UAAIE,GAAG,CAACK,MAAJ,KAAeN,SAAS,CAACM,MAA7B,EAAqC;AACnCL,QAAAA,GAAG,CAACK,MAAJ,GAAaN,SAAS,CAACM,MAAvB;AACD;AACF;AACF,GAnDY;AAqDbgB,EAAAA,MArDa,kBAqDLzB,EArDK,EAqDD;AACV,QAAMI,GAAG,GAAGJ,EAAE,CAACqB,aAAH,IAAoBrB,EAAE,CAACoB,SAAnC;;AACA,QAAIhB,GAAG,KAAK,KAAK,CAAjB,EAAoB;AAClBJ,MAAAA,EAAE,CAAC0B,mBAAH,CAAuB,OAAvB,EAAgCtB,GAAG,CAACM,MAApC;AACAV,MAAAA,EAAE,CAAC0B,mBAAH,CAAuB,OAAvB,EAAgCtB,GAAG,CAACc,SAApC;AACA,aAAOlB,EAAE,CAACA,EAAE,CAACqB,aAAH,GAAmB,eAAnB,GAAqC,WAAtC,CAAT;AACD;AACF;AA5DY,CAAf","sourcesContent":["import { client } from '../plugins/Platform.js'\nimport { isKeyCode } from '../utils/key-composition.js'\n\nexport default {\n  name: 'go-back',\n\n  bind (el, { value, modifiers }, vnode) {\n    const ctx = {\n      value,\n\n      position: window.history.length - 1,\n      single: modifiers.single,\n\n      goBack () {\n        const router = vnode.context.$router\n\n        if (ctx.single === true) {\n          router.go(-1)\n        }\n        else if (client.is.nativeMobile === true) {\n          router.go(ctx.position - window.history.length)\n        }\n        else {\n          router.replace(ctx.value)\n        }\n      },\n\n      goBackKey (e) {\n        // if ENTER key\n        isKeyCode(e, 13) === true && ctx.goBack()\n      }\n    }\n\n    if (el.__qgoback) {\n      el.__qgoback_old = el.__qgoback\n    }\n\n    el.__qgoback = ctx\n    el.addEventListener('click', ctx.goBack)\n    el.addEventListener('keyup', ctx.goBackKey)\n  },\n\n  update (el, { value, oldValue, modifiers }) {\n    const ctx = el.__qgoback\n\n    if (ctx !== void 0) {\n      if (value !== oldValue) {\n        ctx.value = value\n      }\n\n      if (ctx.single !== modifiers.single) {\n        ctx.single = modifiers.single\n      }\n    }\n  },\n\n  unbind (el) {\n    const ctx = el.__qgoback_old || el.__qgoback\n    if (ctx !== void 0) {\n      el.removeEventListener('click', ctx.goBack)\n      el.removeEventListener('keyup', ctx.goBackKey)\n      delete el[el.__qgoback_old ? '__qgoback_old' : '__qgoback']\n    }\n  }\n}\n"]}]}