{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-BE/Scripts/main.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/Scripts/main.js","mtime":1652752356137},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IHsgU291cmNlRGF0YVJlcGxhY2Vmb3JFYXN5UGFyc2luZyB9IGZyb20gJy4uL1NjcmlwdHMvRGF0YUNsZWFuaW5nJzsKaW1wb3J0IHsgQWN0aXZlTGFuZ3VnYWVLZXl3b3JkcyB9IGZyb20gJy4uL0NvbXBpbGVyL2NvbnN0YW50cyc7CmltcG9ydCB7IFJlbW92ZVF1b3RlcywgUmVtb3ZlQnJhY2tldHMsIENvdW50IH0gZnJvbSAnLi4vU2NyaXB0cy9IZWxwZXJzJzsgLy9BTkNIT1IgLSBJbXBvcnRhbnQgZnVuY3Rpb25zIHRvIGJlIHVzZWQgd2hpbGUgcGFyc2luZwovL0NoZWNraW5nIGlmIHN0cmluZyBpcyBlbXB0eS4gVGhlIHdheSB3ZSBjaGVjayBzdHJpbmcgaXMgZW1wdHkgb3Igbm90IGJvaWxzIGRvd24gdG8gaG93IGNsZWFuZWRfc291cmNlZGF0YSBzZWVzIGVtcHR5IHN0cmluZyBzCi8vTmVlZHMgaW1wcm92ZW1lbnQKCmZ1bmN0aW9uIElzU3BlY2lhbENoYXIodiwgaSkgewogIHJldHVybiB2W2ldID09ICc/JyB8fCB2W2ldID09ICc9JyAmJiB2W2kgKyAxXSAhPSAnPScgJiYgdltpIC0gMV0gIT0gJz0nIHx8IHZbaV0gPT0gJ3wnIHx8IHZbaV0gPT0gJzsnIHx8IHZbaV0gPT0gJyYnIHx8IHZbaV0gPT0gJ14nIHx8IHZbaV0gPT0gJyUnIHx8IHZbaV0gPT0gJyQnIHx8IHZbaV0gPT0gJyMnIHx8IHZbaV0gPT0gJ0AnIHx8IHZbaV0gPT0gJyEnIHx8IHZbaV0gPT0gJzonIHx8IHZbaV0gPT0gJysnIHx8IHZbaV0gPT0gJywnIHx8IHZbaV0gPT0gJyUnIHx8IHZbaV0gPT0gJy0nIHx8IHZbaSArIDFdID09ICcpJyB8fCB2W2ldID09ICcvJyB8fCB2W2ldID09ICcqJyB8fCB2W2ldID09ICc+JyB8fCB2W2ldID09ICc8JzsKfQoKZnVuY3Rpb24gSXNDb25kaXRpb25hbE9wZXJhdG9yKGUpIHsKICByZXR1cm4gZS5pbmNsdWRlcygnPicpIHx8IGUuaW5jbHVkZXMoJzwnKSB8fCBlLmluY2x1ZGVzKCc9PScpIHx8IGUuaW5jbHVkZXMoJyE9Jyk7Cn0KCmZ1bmN0aW9uIElzUmVzZXJ2ZWRLZXl3b3JkKGUpIHsKICByZXR1cm4gZS5pbmNsdWRlcygn4KSm4KWB4KS54KSw4KS+4KSTJykgfHwgZS5pbmNsdWRlcygn4KSw4KSa4KSo4KS+JykgfHwgZS5pbmNsdWRlcygn4KSF4KSo4KWN4KSv4KSl4KS+JykgfHwgZS5pbmNsdWRlcygn4KSH4KSo4KSq4KWB4KSfJykgfHwgZS5pbmNsdWRlcygn4KSq4KWB4KS2JykgfHwgZS5pbmNsdWRlcyhBY3RpdmVMYW5ndWdhZUtleXdvcmRzLlByaW50KSB8fCBlLmluY2x1ZGVzKEFjdGl2ZUxhbmd1Z2FlS2V5d29yZHMuSWYpIHx8CiAgLyogY2xlYW5lZF9zb3VyY2VkYXRhW2sgKyAxXSA9PSAnPScqLwogIGUgPT0gJ30nOwp9IC8vQ2hlY2tpbmcgaWYgZWxlbWVudCBpcyBhIHB1cmUgZXZhbHVhdGlvbiBsaWtlIDErMiwgMjAqMzQsIDQwKzYtOTggZXRjCgoKZnVuY3Rpb24gaXNQdXJlRXZhbChlbGVtZW50KSB7CiAgaWYgKC9eKFstK10/WzAtOV0qXC4/WzAtOV0rW1wvXCtcLVwqXSkrKFstK10/WzAtOV0qXC4/WzAtOV0rKSokL2dtLnRlc3QoZWxlbWVudCkpIHsKICAgIHJldHVybiB0cnVlOwogIH0KfSAvL0NoZWNraW5nIGlmIGFuIGVsZW1lbnQgaXMgY2FsY3VsYXRpb24gdG8gYmUgcGVyZm9ybWVkCgoKZnVuY3Rpb24gaXNDYWxjdWxhdGlvbihlbGVtZW50KSB7CiAgaWYgKCFpc051bWJlcihlbGVtZW50KSkgewogICAgaWYgKChlbGVtZW50LmluY2x1ZGVzKCcrJykgfHwgZWxlbWVudC5pbmNsdWRlcygnJScpIHx8IGVsZW1lbnQuaW5jbHVkZXMoJy0nKSB8fCBlbGVtZW50LmluY2x1ZGVzKCcqJykgfHwgZWxlbWVudC5pbmNsdWRlcygnLycpKSAmJiAoZWxlbWVudC5pbmNsdWRlcygnKCcpICYmIGVsZW1lbnQuaW5jbHVkZXMoJyknKSB8fCAhZWxlbWVudC5pbmNsdWRlcygnKCcpICYmICFlbGVtZW50LmluY2x1ZGVzKCcpJykpICYmIGVsZW1lbnQuY2hhckF0KGVsZW1lbnQubGVuZ3RoIC0gMSkgIT0gJysnKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KfSAvL3JlbW92aW5nIGJyYWNrZXRzIGZyb20gZWxlbWVudAoKCmZ1bmN0aW9uIGlzQXJyYXlPcGVyYXRpb24oZWxlbWVudCkgewogIC8vVG8gZmluZCBQYXR0ZXJucyBsaWtlIEFycmF5WzJdLCBBcnJheVtpbmRleF0gZXRjCiAgZWxlbWVudCA9IFJlbW92ZUJyYWNrZXRzKGVsZW1lbnQpOwoKICBpZiAoZWxlbWVudC5jaGFyQXQoZWxlbWVudC5sZW5ndGggLSAxKSA9PSAnXScgJiYgZWxlbWVudC5pbmNsdWRlcygnWycpICYmIGVsZW1lbnQuY2hhckF0KDApICE9ICdbJykgewogICAgcmV0dXJuIHRydWU7CiAgfQp9IC8vcHJlcGFyaW5nIHNvdXJjZWRhdGEgZm9yIGVhc3kgcGFyc2luZyBieSBoYW5kbGluZyBuZXcgbGluZXMsIGVudGVycyBldGMuCi8vY2xlYW5pbmcgdXAgdGhlIGRhdGEgdG8gZ2V0IGEgc3VpdGFibGUgdmVyc2lvbiBvZiBzb3VyY2VkYXRhLiBpdCdzIGJldHRlciB0byBnZXQgc3VpdGFibGUgdmVyc2lvbiBiZWNhdXNlIHVzZXJzIGNhbiB0eXBlIHdoYXQgdGhleSB3aXNoIGJ1dCB3ZSBuZWVkIHRvIG1haW50YWluCi8vaW50ZWdyaXR5IG9mIHByb2dyYW0gaW4gZXZlcnkgcG9zc2libGUgY29uZGl0aW9uLiBTbywgd2UgY2xlYW4gYW5kIHJlZmFjdG9yIHJhdyBjb2RlIHRvIHJlbW92ZSB1bm5lY2Vzc2FyeSBkYXRhLgoKCmZ1bmN0aW9uIEdldENsZWFuU291cmNlZGF0YShzb3VyY2VkYXRhLCBjbGVhbmVkX3NvdXJjZWRhdGEsIGltcHVyaXRpZXMpIHsKICBzb3VyY2VkYXRhID0gU291cmNlRGF0YVJlcGxhY2Vmb3JFYXN5UGFyc2luZyhzb3VyY2VkYXRhKTsKICBzb3VyY2VkYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgIC8vZmluZGluZyB0aGUgZWxlbWVudHMgd2hpY2ggaGFzID0iIGluIGl0IHNvIHRoYXQgdG8gc2VwcmF0ZSB0aGVtIGludG8gbmFtZSw9PSxzd2FuYW5kIGlmIGlucHV0IGlzIG5hbWU9InN3YW5hbmQiLgogICAgLy9XZSBkZWZpbmUgc3VjaCBlbGVtZW50cyBhcyBpbXB1cml0ZXMuIFdlIHByb2Nlc3MgdGhlbSwgYnJpbmcgdGhlbSBpbnRvIGEgc3VpdGFibGUgZm9ybSBhbmQgcHVzaCB0byBjbGVhbmVkX3NwaXJjZWRhdGEKICAgIC8vVGhpcyBpcyBvdXIgY2xlYW5pbmcgZmFjdG9yeQogICAgaWYgKCFlbGVtZW50LmluY2x1ZGVzKCc9PScpICYmIChlbGVtZW50LmluZGV4T2YoJz0iJykgPiAtMSB8fCBlbGVtZW50LmluZGV4T2YoJz0nKSA+IDAgfHwgZWxlbWVudC5jaGFyQXQoMCkgPT0gJz0nKSAmJiBlbGVtZW50ICE9ICc9PScpIHsKICAgICAgaW1wdXJpdGllcy5wdXNoKGVsZW1lbnQpOyAvL3B1c2ggc3VjaCBlbGVtZW50IGFzIGltcHVyaXR5IGluIGltcHVyaXRpZXMKCiAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnQuc3BsaXQoJz0nKTsKICAgICAgdmFyIGluZGV4ID0gY2xlYW5lZF9zb3VyY2VkYXRhLmxlbmd0aDsKICAgICAgY2xlYW5lZF9zb3VyY2VkYXRhW2luZGV4XSA9IGVsZW1lbnRzWzBdOwogICAgICBjbGVhbmVkX3NvdXJjZWRhdGFbaW5kZXggKyAxXSA9ICc9JzsKICAgICAgY2xlYW5lZF9zb3VyY2VkYXRhW2luZGV4ICsgMl0gPSBlbGVtZW50c1sxXTsKICAgIH0gLy9hcyBsb25nIGFzIGVsZW1lbnQgaXMgcHVyZSwgcHVzaCBpdCB0byBuZXcgYW5kIGNsZWFuIHZlcnNpb24gb2Ygc291cmNlZGF0YQoKCiAgICBpZiAoIWltcHVyaXRpZXMuaW5jbHVkZXMoZWxlbWVudCkpIHsKICAgICAgY2xlYW5lZF9zb3VyY2VkYXRhLnB1c2goZWxlbWVudCk7CiAgICB9IC8vCgogIH0pOyAvL3JlbW92aW5nIGVtcHR5ICIiIHZhbHVlcyBmb3IgZmluYWwgdmVyc2lvbiBvZiBzb3VyY2VkYXRhCiAgLy9TRUNUSU9OIEZJbmFsIHNvdXJjZWRhdGEgY2xlYW5pbmcKCiAgY2xlYW5lZF9zb3VyY2VkYXRhID0gY2xlYW5lZF9zb3VyY2VkYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIGl0ZW0gIT09ICcnOwogIH0pOwogIHJldHVybiBjbGVhbmVkX3NvdXJjZWRhdGE7Cn0KCmZ1bmN0aW9uIEdldGNsZWFuZWRFeHByZXNzaW9uKGV4cHJlc3Npb24pIHsKICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5yZXBsYWNlKC8gL2csICcnKTsKICBleHByZXNzaW9uID0gUmVtb3ZlUXVvdGVzKGV4cHJlc3Npb24pOwogIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoL1woL2csICcnKTsKICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5yZXBsYWNlKC9cKS9nLCAnJyk7CiAgcmV0dXJuIGV4cHJlc3Npb247Cn0gLy9UbyBjb252ZXJ0ICdhK2ItYypkJyBpbnRvIFsnYScsJysnLCctJywnYycsJyonLCdkJ10KCgpmdW5jdGlvbiBTcGxpdEVsZW1lbnRzQXJyYXkoZWxlbWVudCwgbXVsdGlDYWwpIHsKICBlbGVtZW50ID0gbXVsdGlDYWwgPyBlbGVtZW50IDogUmVtb3ZlQnJhY2tldHMoZWxlbWVudCk7CgogIGlmIChJc0NvbmRpdGlvbmFsT3BlcmF0b3IoZWxlbWVudCkpIHsKICAgIGVsZW1lbnQgPSBlbGVtZW50LnJlcGxhY2UoLycgJy9nLCAnJyk7CiAgfSAvL2dldCBpbmRleCBvZiBvcGVyYXRpb24gZnJvbSB1cGRhdGVkIHRva2VucywgYXMgYSByZWZlcmVuY2UKCgogIHZhciBTdHJpbmdWYXIgPSBbXTsgLy8gaGVyZSBTdHJWYXIgdmFsdWVzIHdpbGwgZ2V0IHB1c2hlZAoKICB2YXIgU3RyVmFyID0gJyc7IC8vIGl0cyB1c2VkIHRvIHJlYWQgdmFyIHZhbHVlcyBvZiBhbnkgdHlwZSAoYW5uYSxhLGJhZCx4IGV0Yy4pIGFuZCBwdXNoIGl0IHRvIFN0cmluZ1ZhcgogIC8vICB2YXIgSGluZGlSZWdleCA9IC8oPzpefFxzKVtcdTA5MDAtXHUwOTdGXSs/KD86XHN8JCkvZwoKICBmb3IgKHZhciBqID0gMDsgaiA8IGVsZW1lbnQubGVuZ3RoOyBqKyspIHsKICAgIC8vIGZpbmQgaWYgZWxlbWVudFtqXSBpcyBhbHBoYWJldAogICAgdmFyIGZsYWcgPSBmYWxzZTsKCiAgICBpZiAoL15bQS1aXSskL2kudGVzdChlbGVtZW50W2pdKSB8fCBlbGVtZW50W2pdID09ICdbJyB8fCBlbGVtZW50W2pdID09ICddJyB8fCBlbGVtZW50W2pdID09ICciJyB8fCBlbGVtZW50W2pdID09ICInIiB8fCBpc051bWJlcihlbGVtZW50W2pdKSkgewogICAgICBTdHJWYXIgPSBTdHJWYXIgKyBlbGVtZW50W2pdOyAvL2tlZXAgb24gcHVzaGluZyBmb3IgbG9uZyB2YXJpYWJsZSBuYW1lcyBhcyBzdHJpbmdzIGUuZyBoZWxsbywga2FsYWFtCgogICAgICBmbGFnID0gdHJ1ZTsKICAgIH0KCiAgICBpZiAoZWxlbWVudFtqXSA9PSAnKScgfHwgZWxlbWVudFtqXSA9PSAnKCcpIHsKICAgICAgU3RyaW5nVmFyLnB1c2goZWxlbWVudFtqXSk7CiAgICAgIGZsYWcgPSB0cnVlOwogICAgfSAvL3RvIHNvbHZlIFsiQWdlICJdIGludG8gWyJBZ2UiXSwgc28gdGhhdCBpdCBjYW4gY29ycmVjdGx5IGZpbmQgaXRzIHZhbHVlIGluIHVwZGF0ZWRfdG9rZW5zCgoKICAgIGlmIChlbGVtZW50W2pdID09ICcgJyAmJiBlbGVtZW50W2ogKyAxXSAhPSAnKycpIHsKICAgICAgU3RyVmFyID0gU3RyVmFyICsgZWxlbWVudFtqXTsKICAgICAgZmxhZyA9IHRydWU7CiAgICB9IC8vZm9yIGNoZWNraW5nIGVxdWl2YWxlbmN5CgoKICAgIGlmIChlbGVtZW50W2pdID09ICc9JyAmJiBlbGVtZW50W2ogKyAxXSA9PSAnPScpIHsKICAgICAgU3RyaW5nVmFyLnB1c2goU3RyVmFyKTsKICAgICAgU3RyaW5nVmFyLnB1c2goZWxlbWVudFtqXSArIGVsZW1lbnRbaiArIDFdKTsKICAgICAgU3RyVmFyID0gJyc7CiAgICAgIGZsYWcgPSB0cnVlOwogICAgICBqID0gaiArIDE7CiAgICB9IC8vZm9yIGNoZWNraW5nICE9CgoKICAgIGlmIChlbGVtZW50W2pdID09ICchJyAmJiBlbGVtZW50W2ogKyAxXSA9PSAnPScpIHsKICAgICAgU3RyaW5nVmFyLnB1c2goU3RyVmFyKTsKICAgICAgU3RyaW5nVmFyLnB1c2goZWxlbWVudFtqXSArIGVsZW1lbnRbaiArIDFdKTsKICAgICAgU3RyVmFyID0gJyc7CiAgICAgIGZsYWcgPSB0cnVlOwogICAgfQoKICAgIGlmIChJc1NwZWNpYWxDaGFyKGVsZW1lbnQsIGopKSB7CiAgICAgIFN0cmluZ1Zhci5wdXNoKFN0clZhcik7IC8vcHVzaCB3aGF0ZXZlciBzdHJpbmcgd2UgaGF2ZSBnb3QgYmVjYXVzZSBpdCdzIGEgc3RyaW5nIG5vdywgY2FudCBwdXNoIG9wZXJhdG9ycyB3aXRoIGl0CiAgICAgIC8vZmluZGluZyB0aGUgY2FsY3VsYXRpb25zIHRoYXQgcmVxdWlyZWQgYnJhY2tldHMgYW5kIGFkZGluZyB0aGVtCgogICAgICBpZiAoZWxlbWVudFtqICsgMV0gIT0gJyknKSB7CiAgICAgICAgU3RyaW5nVmFyLnB1c2goZWxlbWVudFtqXSk7IC8vIGZpeGluZyB0aGUgYmlhcwogICAgICB9CgogICAgICBTdHJWYXIgPSAnJzsgLy8gZW1wdHlpZyB0aGUgU3RyVmFyIGZvciBuZXh0IHZhcmlhYmxlCgogICAgICBmbGFnID0gdHJ1ZTsKICAgIH0gLy9wdXNoaW5nIGhpbmRpIGNoYXJzIGhlcmUKICAgIC8vVVBEQVRFRAoKCiAgICBpZiAoZmxhZyA9PSBmYWxzZSkgewogICAgICBTdHJWYXIgPSBTdHJWYXIgKyBlbGVtZW50W2pdOwogICAgICBmbGFnID0gdHJ1ZTsKICAgIH0KCiAgICBpZiAoZWxlbWVudFtqICsgMV0gPT0gbnVsbCkgewogICAgICBTdHJpbmdWYXIucHVzaChTdHJWYXIpOyAvL2ZpeGluZyBiaWFzIGZvciBsYXN0IGVsZW1lbnQKCiAgICAgIGZsYWcgPSB0cnVlOwogICAgfQogIH0KCiAgcmV0dXJuIFN0cmluZ1ZhcjsKfSAvL2dldCB0aGUgc3RhcnQgb2YgbG9vcCBpbiB0b2tlbnMgYXJyYXkKCgpmdW5jdGlvbiBnZXRMb29wSW5kZXhTdGFydChtdXRhYmxlX3Rva2VucywgaiwgY2hlY2ssIHNldEluZGV4KSB7CiAgd2hpbGUgKG11dGFibGVfdG9rZW5zW2pdLnZhbHVlICE9IGNoZWNrKSB7CiAgICBpZiAobXV0YWJsZV90b2tlbnNbaiArIDFdLnZhbHVlID09IGNoZWNrKSB7CiAgICAgIHNldEluZGV4ID0gaiArIDE7CiAgICB9CgogICAgaisrOwogIH0KCiAgcmV0dXJuIHNldEluZGV4Owp9IC8vdGhpcyBpcyBob3cgd2UgaGFuZGxlIG11bGl0aXBsZSBjb25kaXRpb25zIGxpa2Ug4KSF4KSX4KSwIChhZ2VvbmU9PTEwICYmIEF2ZXJhZ2VBZ2U8MTAwMCAmJiBhZ2V0d28+MTAwIHx8IGFnZW9uZT09MTApIE9SIChhZ2VvbmU9PTEwICkKCgpmdW5jdGlvbiBoYW5kbGVtdWx0Q29uZGl0aW9ucyhlbGVtZW50KSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7CiAgICBpZiAoZWxlbWVudC5jaGFyQXQoaSkgPT0gJyYnIHx8IGVsZW1lbnQuY2hhckF0KGkpID09ICd8JykgewogICAgICB2YXIgY29uZGl0aW9uID0gZWxlbWVudC5zdWJzdHJpbmcoMCwgaSArIDIpOwogICAgICB2YXIgU3dlZXBlZEVsZW1lbnQgPSBlbGVtZW50LnJlcGxhY2UoY29uZGl0aW9uLCAnJyk7CiAgICAgIHZhciBvcGVyYXRvciA9ICcnOwoKICAgICAgaWYgKGVsZW1lbnQuY2hhckF0KGkpID09ICcmJykgewogICAgICAgIGNvbmRpdGlvbiA9IGNvbmRpdGlvbi5yZXBsYWNlKCcmJicsICcnKTsKICAgICAgICBvcGVyYXRvciA9ICcmJic7CiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5jaGFyQXQoaSkgPT0gJ3wnKSB7CiAgICAgICAgY29uZGl0aW9uID0gY29uZGl0aW9uLnJlcGxhY2UoJ3x8JywgJycpOwogICAgICAgIG9wZXJhdG9yID0gJ3x8JzsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBTd2VlcGVkRWxlbWVudDogU3dlZXBlZEVsZW1lbnQsCiAgICAgICAgY29uZGl0aW9uOiBjb25kaXRpb24sCiAgICAgICAgb3BlcmF0b3I6IG9wZXJhdG9yCiAgICAgIH07CiAgICB9CiAgfQp9IC8vRm9yIG9wZXJhcmlvbnMgbGlrZSBOdW1iZXJzLuCkquClgeCktigyMykKCgpmdW5jdGlvbiBBZGRFbGVtZW50VG9BcnJheShTb3VyY2VkYXRhLCBpbmRleCwgdXBkYXRlZF90b2tlbnMsIEV4ZWN1dGlvblN0YWNrLCBMaW5lYnlsaW5lU291cmNlZGF0YSkgewogIHZhciB0b2tlbiA9IFNvdXJjZWRhdGFbaW5kZXhdLnZhbHVlOwogIHRva2VuID0gdG9rZW4ucmVwbGFjZSgn4KSq4KWB4KS2JywgJycpOwogIHZhciBTcGxpdCA9IHRva2VuLnNwbGl0KCcuJyk7CiAgdmFyIEFycmF5ID0gU3BsaXRbMF07CiAgdmFyIEVsZW1lbnR0b1B1c2ggPSBSZW1vdmVCcmFja2V0cyhTcGxpdFsxXSk7CgogIGlmIChFbGVtZW50dG9QdXNoLmNoYXJBdCgwKSA9PSAnIicgfHwgRWxlbWVudHRvUHVzaC5jaGFyQXQoMCkgPT0gIiciKSB7CiAgICBFbGVtZW50dG9QdXNoID0gRWxlbWVudHRvUHVzaDsKICB9IGVsc2UgewogICAgRWxlbWVudHRvUHVzaCA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgIHJldHVybiBlbC5uYW1lID09IEVsZW1lbnR0b1B1c2g7CiAgICB9KS52YWx1ZTsKICB9CgogIHZhciBBcnJheUVsID0gdXBkYXRlZF90b2tlbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgIHJldHVybiBlbC5uYW1lID09IEFycmF5OwogIH0pOwogIHZhciBBcnJheVZhbHVlID0gQXJyYXlFbC52YWx1ZTsKCiAgaWYgKEFycmF5VmFsdWUgPT0gJ1tdJykgewogICAgQXJyYXlWYWx1ZSA9IEFycmF5VmFsdWUuc3BsaXQoJywnKTsKICB9CgogIEFycmF5VmFsdWUucHVzaChFbGVtZW50dG9QdXNoKTsKICB2YXIgaW5kZXhvZkFycmF5ID0gdXBkYXRlZF90b2tlbnMuaW5kZXhPZihBcnJheUVsKTsKICBBcnJheVZhbHVlID0gQXJyYXlWYWx1ZS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwgIT0gJ1tdJzsKICB9KTsKICB1cGRhdGVkX3Rva2Vuc1tpbmRleG9mQXJyYXldLnZhbHVlID0gQXJyYXlWYWx1ZTsKICB2YXIgbWVzc2FnZSA9ICfgpIbgpKrgpKjgpYcgJyArICciJyArIEVsZW1lbnR0b1B1c2ggKyAnIicgKyAnIOCkleCliyAnICsgKyciJyArIEFycmF5ICsgJyInICsgJyDgpIfgpLgg4KSs4KSV4KWH4KSfKEFycmF5KSDgpK7gpYfgpIIg4KSm4KSw4KWN4KScKFN0b3JlKSDgpJXgpLDgpLXgpL7gpK/gpL4g4KS54KWIfCAnOwogIHZhciBleHByZXNzaW9uID0gU291cmNlZGF0YVtpbmRleF0udmFsdWU7IC8vCgogIHZhciBMaW5lbnVtYmVyID0gTGluZWJ5bGluZVNvdXJjZWRhdGEuaW5kZXhPZihleHByZXNzaW9uKTsKICBMaW5lbnVtYmVyICs9IDE7CiAgQWRkdG9FeGVjdXRpb25TdGFjayhFeGVjdXRpb25TdGFjaywgJ+Ckh+CkqOCkquClgeCknycsICfgpJXgpL/gpLjgpYAg4KSo4KSIIFZBTFVFIOCkleCliyDgpLjgpY3gpLXgpYDgpJXgpL7gpLAg4KSV4KSw4KSo4KS+ICcsIEFycmF5LCBFbGVtZW50dG9QdXNoLCBtZXNzYWdlLCBMaW5lbnVtYmVyKTsKfQoKZnVuY3Rpb24gQWNjZXB0SW5wdXRhbmRTZXRWYWx1ZSh0b2tlbnMsIGluZGV4LCB1cGRhdGVkX3Rva2VucywgRXhlY3V0aW9uU3RhY2ssIExpbmVieWxpbmVTb3VyY2VkYXRhKSB7CiAgY29uc29sZS5sb2coJ2luZGV4OicsIGluZGV4KTsKICBjb25zb2xlLmxvZygndG9rZW5zOicsIHRva2Vucyk7CiAgdmFyIFNldElucHV0VmFsdWVBcyA9IHRva2Vuc1tpbmRleF0uQWNjZXB0QXM7CiAgdmFyIHZhbHVlID0gcHJvbXB0KCfgpIbgpKogJyArICciJyArIFNldElucHV0VmFsdWVBcyArICciJyArICcg4KSV4KWLIOCkleCljeCkr+CkviDgpJXgpL/gpILgpK7gpKQg4KSm4KWH4KSo4KS+IOCkmuCkvuCkueCkpOClhyDgpLngpYsgPycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCgogIHVwZGF0ZWRfdG9rZW5zLnB1c2goewogICAgbmFtZTogU2V0SW5wdXRWYWx1ZUFzLAogICAgdmFsdWU6IHZhbHVlCiAgfSk7CiAgY29uc29sZS5sb2coJ3VwZGF0ZWRfdG9rZW5zOicsIHVwZGF0ZWRfdG9rZW5zKTsKICB2YXIgbWVzc2FnZSA9ICfgpIbgpKrgpKjgpYcgJyArICciJyArIFNldElucHV0VmFsdWVBcyArICciJyArICcg4KSV4KWLICcgKyAnIicgKyB2YWx1ZSArICciJyArICcg4KSv4KWHIFZhbHVlIOCkpuClh+CkleCksCBDb21wdXRlciDgpJXgpYcgTWVtb3J5IOCkruClh+CkgiDgpKbgpLDgpY3gpJwoU3RvcmUpIOCkleCksOCkteCkvuCkr+CkviDgpLngpYh8ICc7CiAgdmFyIGV4cHJlc3Npb24gPSAn4KSH4KSo4KSq4KWB4KSfKCcgKyBTZXRJbnB1dFZhbHVlQXMgKyAnKSc7CiAgdmFyIExpbmVudW1iZXIgPSBMaW5lYnlsaW5lU291cmNlZGF0YS5pbmRleE9mKGV4cHJlc3Npb24pOwogIExpbmVudW1iZXIgKz0gMTsKICBBZGR0b0V4ZWN1dGlvblN0YWNrKEV4ZWN1dGlvblN0YWNrLCAn4KSH4KSo4KSq4KWB4KSfJywgJ+CkleCkv+CkuOClgCDgpKjgpIggVkFMVUUg4KSV4KWLIOCkuOCljeCkteClgOCkleCkvuCksCDgpJXgpLDgpKjgpL4gJywgU2V0SW5wdXRWYWx1ZUFzLCB2YWx1ZSwgbWVzc2FnZSwgTGluZW51bWJlcik7Cn0gLy9PbmUgb2YgdGhlIG1vc3QgZnJlcXVlbnRseSBuZWVkZWQgZnVuY3Rpb24KLy9pdCBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB2YXJpYWJsZSB2YWx1ZXMgbGlrZSB4PSB5KjEwMCAoeSoxMDAgd2lsbCBiZSBjYWxjdWxhdGVkIGhlcmUpCi8vb3IgQXJyYXlbaV09IHgrYWdlb25lLiAoeCthZ2VvbmUpIGlzIGNhbHVjdWxhdGVkIGhlcmUKLy9JZiB5b3UgYXJlIG5vdCBnZXR0aW5nIHRoZSB2YWx1ZXMgcmlnaHQsIHRoaXMgaXMgd2hlcmUgeW91IHNob3VsZCBzdGFydCBkZWJ1Z2dpbmcKCgpmdW5jdGlvbiBDYWxjdWxhdGVWYWx1ZXMoY2FsY3VsYXRpb24sIGosIHVwZGF0ZWRfdG9rZW5zLCBtdWx0aUNhbCkgewogIHZhciByZXN1bHQ7CgogIHRyeSB7CiAgICB2YXIgY2FsY3VsYXRpb25BcnJheSA9IFNwbGl0RWxlbWVudHNBcnJheShjYWxjdWxhdGlvbiwgbXVsdGlDYWwpOwogICAgdmFyIFN0cmluZ1ZhciA9IFNldFZhbHVlcyhjYWxjdWxhdGlvbkFycmF5LCB1cGRhdGVkX3Rva2Vucyk7CiAgICB2YXIgam9pblN0cmluZ1ZhciA9IFN0cmluZ1Zhci5qb2luKCcnKTsKICAgIHZhciBOZXdTdHJpbmdWYXIgPSAnJzsgLy9ldmFsdWF0ZSB0aGUgZXhlcHJlc3Npb24gYXMgaXQgaXMgd2hlbiBtdWx0aWNhbCBpcyB0cnVlCiAgICAvL2ZvciBleHByZXNzaW9ucyBsaWtlIGM9KGFnZW9uZSthZ2V0d28pLzIgKyAoYWdlb25lK2FnZXR3bykqMgoKICAgIGlmIChpc051bWJlcihqb2luU3RyaW5nVmFyLmNoYXJBdCgwKSkgfHwgbXVsdGlDYWwpIHsKICAgICAgTmV3U3RyaW5nVmFyID0gZXZhbChqb2luU3RyaW5nVmFyKTsKICAgIH0gLy9Ob3QgcmVhbHRlZCB0byBudW1iZXJzIGF0IGFsbCBidXQgc3RyaW5ncwogICAgZWxzZSBpZiAoIWlzTnVtYmVyKGpvaW5TdHJpbmdWYXIuY2hhckF0KDApKSkgewogICAgICAgIFN0cmluZ1Zhci5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgaWYgKGVsICE9ICcrJykgewogICAgICAgICAgICBlbCA9IGVsLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIE5ld1N0cmluZ1ZhciA9IE5ld1N0cmluZ1ZhciArIGVsOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIFN0cmluZ1ZhciA9IFN0cmluZ1ZhcjsKICAgICAgfQoKICAgIHJlc3VsdCA9IFN0cmluZ1Zhci5sZW5ndGggPiAxID8gTmV3U3RyaW5nVmFyIDogU3RyaW5nVmFyOwogIH0gY2F0Y2ggKGUpIHsKICAgIC8vaWYgYz1hK2IsIGFuZCBlaXRoZXIgYixhIGlzIHVuZGVmaW5lZAogICAgcmVzdWx0ID0gZTsKICB9CgogIHJldHVybiByZXN1bHQ7Cn0gLy9IYXZlIHRvIG1vdmUgdGhpcyB0d28gZnVuY3Rpb25zIHRvIFB1c2hmdW5jdGlvbnMuanMKCgpmdW5jdGlvbiBQdXNoU2V0QXJyYXlJbmRleFZhbHVlKHZhbHVlLCB0b2tlbnMsIGRhdGEsIGkpIHsKICB0b2tlbnMucHVzaCh7CiAgICB0eXBlOiAnU2V0QXJyYXlJbmRleFZhbHVlJywKICAgIHZhbHVlOiB2YWx1ZSwKICAgIFZhbHVlVG9TZXQ6IGRhdGFbaSArIDJdIC8vc2tpcHBpbmcgPQoKICB9KTsKfQoKZnVuY3Rpb24gUHVzaEdldEFycmF5SW5kZXhWYWx1ZSh2YWx1ZSwgdG9rZW5zKSB7CiAgdG9rZW5zLnB1c2goewogICAgdHlwZTogJ0dldEFycmF5SW5kZXhWYWx1ZScsCiAgICB2YWx1ZTogdmFsdWUKICB9KTsKfSAvL1BlcmZvcm1zIG9ubHkgQXJyYXkgT3BlcmF0aW9ucwovL2NvbnZlcnRzIEFycmF5W2FdIGludG8gW0FycmF5LCBhXQovL1RoaXMgaGVscHMgdXMgdG8gZmluZCB0aGVpciByZXNwZWN0aXZlIHZhbHVlcyBlYXNpbHkgaW4gdXBkYXRlZF90b2tlbnMKCgpmdW5jdGlvbiBDcmVhdGVBcnJheUVsZW1lbnQoVmFsdWUsIGl0ZXJhdG9yKSB7CiAgdmFyIEFycmF5RWxlbWVudCA9IFJlbW92ZUJyYWNrZXRzKFZhbHVlKTsgLy9TZXByYXRpbmcgb3V0IGluZGV4IGlkZW50aWZpZXIuIGEgZnJvbSBBcnJheVthXQoKICB2YXIgZWxlbWVudCA9IEFycmF5RWxlbWVudDsKICBlbGVtZW50ID0gZWxlbWVudC5yZXBsYWNlKCddJywgJycpOwogIHZhciBTcGxpdCA9IGVsZW1lbnQuc3BsaXQoJ1snKTsKICBTcGxpdFsxXSA9IGl0ZXJhdG9yOwogIFNwbGl0ID0gU3BsaXQuam9pbignWycpOwogIFNwbGl0ID0gU3BsaXQgKyAnXSc7CiAgQXJyYXlFbGVtZW50ID0gU3BsaXQ7CiAgQXJyYXlFbGVtZW50ID0gQXJyYXlFbGVtZW50LnJlcGxhY2UoLycgJy9nLCAnJyk7CiAgcmV0dXJuIEFycmF5RWxlbWVudDsKfSAvL1RoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBnZXQgYXJyYXkgb3Igc3RyaW5nIGVsZW1lbnRzLiBlLmcgQXJyYXlbMl0sIFN0cmluZ1s1XQovL0hlYXZpbHkgdXNlZCBieSBjb21waWxlciBpbiBsb29wcwoKCmZ1bmN0aW9uIFNldEFycmF5b3JTdHJpbmdFbGVtZW50KE9yaWdpbmFsRWxlbWVudCwgQXJyYXlFbGVtZW50LCB1cGRhdGVkX3Rva2VucywgaXRlcmF0b3IsIE5ld1ZhbHVlLCB0b2tlbnMsIEV4ZWN1dGlvblN0YWNrLCBMaW5lYnlsaW5lU291cmNlZGF0YSkgewogIHZhciB2YXJpYWJsZSA9IEFycmF5RWxlbWVudDsKICBBcnJheUVsZW1lbnQgPSBBcnJheUVsZW1lbnQucmVwbGFjZSgnXScsICcnKTsKICB2YXIgU3BsaXQgPSBBcnJheUVsZW1lbnQuc3BsaXQoJ1snKTsKICB2YXIgaW5kZXhDb2xsZWN0ZWQgPSBTcGxpdFsxXTsKICB2YXIgRWxlbWVudCA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwubmFtZSA9PSBOZXdWYWx1ZTsKICB9KTsgLy9JZiBlbGVtZW50IGlzIGFuIGFzc2lnbmVkIHZhcmlhYmxlLiBGaW5kIHRoZSB2YWx1ZSBhbmQgc2V0IGl0LgoKICBpZiAoRWxlbWVudCkgewogICAgaWYgKGlzQ2FsY3VsYXRpb24oTmV3VmFsdWUpKSB7CiAgICAgIC8vIFRoaXMgaXMgdG8gc2V0IHg9IHkqMTAwLCBBcnJheVtpXT0geCthZ2VvbmUuCiAgICAgIHZhciBfdG9rZW4gPSB0b2tlbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwudmFsdWUgPT0gTmV3VmFsdWU7CiAgICAgIH0pOwoKICAgICAgdmFyIGogPSB0b2tlbnMuaW5kZXhPZihfdG9rZW4pIC0gMTsKCiAgICAgIHZhciBfdmFsdWUgPSBDYWxjdWxhdGVWYWx1ZXMoTmV3VmFsdWUsIGosIHVwZGF0ZWRfdG9rZW5zKTsKCiAgICAgIE5ld1ZhbHVlID0gX3ZhbHVlOwogICAgfQoKICAgIE5ld1ZhbHVlID0gRWxlbWVudC52YWx1ZTsKICB9CgogIGlmIChpdGVyYXRvciA9PSB0cnVlKSB7CiAgICAvL2ZvciBBcnJheVthXT1hCiAgICBpZiAoIWlzQ2FsY3VsYXRpb24oTmV3VmFsdWUpKSB7CiAgICAgIE5ld1ZhbHVlID0gaW5kZXhDb2xsZWN0ZWQ7CiAgICB9CiAgfSAvL2lmIGZyZXNoIG5ld3ZhbHVlIGlzIGZvdW1kLiB0aGUgb25lIHdoaWNoIGRvZXNudCB5ZXQgZXhpc3QgaW4gdGhlIHByb2dyYW0sIHRoZW4gcnVuIHRoaXMuCiAgZWxzZSB7CiAgICAgIE5ld1ZhbHVlID0gTmV3VmFsdWU7CiAgICB9CgogIHZhciB0b2tlbiA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwubmFtZSA9PSBTcGxpdFswXTsKICB9KTsKICB2YXIgaW5kZXggPSB1cGRhdGVkX3Rva2Vucy5pbmRleE9mKHRva2VuKTsgLy91cGRhdGVkX3Rva2VucyB2YWx1ZXMgd2lsbCBhbHNvIGdldCB1cGRhdGVkIHRocnVnaCB0aGlzIHJlZmVyZW5jZQoKICB2YXIgdmFsdWUgPSB0b2tlbi52YWx1ZTsKICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7CiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCddJywgJycpOwogIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnWycsICcnKTsKICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcsJyk7CgogIGlmIChpdGVyYXRvciA9PSB0cnVlKSB7CiAgICAvL1RoaXMgaXMgZm9yIEFycmF5W2FdPWEKICAgIHZhbHVlW2luZGV4Q29sbGVjdGVkXSA9IGluZGV4Q29sbGVjdGVkOwogIH0gZWxzZSB7CiAgICAvL1J1biB3aGVuIGl0ZXJhdG9yIGlzIG5vdCBuZWVkZWQuIGl0ZXJhdG9yIGlzIHByZXNlbnQgaW4gQXJyYXlFbGVNRU5UIEFMUkVBRFkuIFRoaXMgaXMgZm9yIEFycmF5W2ldPSdTd2FuYW5kJwogICAgdmFsdWVbaW5kZXhDb2xsZWN0ZWRdID0gTmV3VmFsdWU7CiAgfSAvL2NvbnZlcnRpbmcgYXJyYXkgYmFjayBpbnRvIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaXQgZm9yIGJldHRlciBwcmludGFiaWxsaXR5CgoKICB1cGRhdGVkX3Rva2Vuc1tpbmRleF0udmFsdWUgPSAnWycgKyB2YWx1ZS50b1N0cmluZygpICsgJ10nOwogIHZhciBtZXNzYWdlID0gJyBDb21wdXRlciDgpKjgpYcsICcgKyAnIicgKyB2YXJpYWJsZSArICciJyArICcg4KSV4KWLLCAnICsgJyInICsgdmFsdWVbaW5kZXhDb2xsZWN0ZWRdICsgJyInICsgJyDgpK/gpYcgVkFMVUUg4KSm4KWHIOCkleCksCDgpIXgpKrgpKjgpYcgTWVtb3J5IOCkruClh+CkgiDgpKbgpLDgpY3gpJwoU3RvcmUpIOCkleCksOCkteCkvuCkr+CkviDgpLngpYggfCc7CiAgdmFyIGV4cHJlc3Npb24gPSBPcmlnaW5hbEVsZW1lbnQ7CiAgZXhwcmVzc2lvbiA9IEdldGNsZWFuZWRFeHByZXNzaW9uKGV4cHJlc3Npb24pOwogIExpbmVieWxpbmVTb3VyY2VkYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkgewogICAgZWwgPSBHZXRjbGVhbmVkRXhwcmVzc2lvbihlbCk7CgogICAgaWYgKGVsID09IGV4cHJlc3Npb24pIHsKICAgICAgQWRkdG9FeGVjdXRpb25TdGFjayhFeGVjdXRpb25TdGFjaywgJz0nLCAnIOCkleCkv+CkuOClgCBWQVJJQUJMRSDgpJXgpYsg4KSo4KSIIFZBTFVFIOCkuOClh+CknyDgpJXgpLDgpKjgpL4gICAnLCB2YXJpYWJsZSwgdmFsdWVbaW5kZXhDb2xsZWN0ZWRdLCBtZXNzYWdlLCBpbmRleCArIDEpOwogICAgfQogIH0pOyAvLyBsZXQgTGluZW51bWJlcj0nJwp9IC8vUHJpbnRpbmcgYSBzcGVjaWZpYyBhcnJheSBlbGVtZW50IGxpa2UgQXJyYXlbMF0sIEFycmF5WzNdIGV0Yy4KLy9QcmludGluZyBhIGR5bmFtaWMgYXJyYXkgZWxlbWVudCBsaWtlIEFycmF5W2ldLCBBcnJheVtpKzFdIGV0Yy4KCgpmdW5jdGlvbiBHZXRBcnJheW9yU3RyaW5nRWxlbWVudChlbGVtZW50LCB1cGRhdGVkX3Rva2VucywgTmV3VmFsdWUpIHsKICBlbGVtZW50ID0gZWxlbWVudC5yZXBsYWNlKCddJywgJycpOwogIHZhciBTcGxpdCA9IGVsZW1lbnQuc3BsaXQoJ1snKTsKICB2YXIgaW5kZXhDb2xsZWN0ZWQgPSBTcGxpdFsxXTsKCiAgaWYgKGlzTnVtYmVyKGluZGV4Q29sbGVjdGVkKSkgewogICAgdmFyIHRva2VuID0gdXBkYXRlZF90b2tlbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgcmV0dXJuIGVsLm5hbWUgPT0gU3BsaXRbMF07CiAgICB9KTsKICAgIHZhciBpbmRleCA9IHVwZGF0ZWRfdG9rZW5zLmluZGV4T2YodG9rZW4pOwogICAgdmFyIHZhbHVlID0gdG9rZW4udmFsdWUudG9TdHJpbmcoKTsKCiAgICBpZiAodG9rZW4udHlwZSA9PSAnQXJyYXknKSB7CiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnXScsICcnKTsKICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCdbJywgJycpOwogICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcsJyk7CgogICAgICBpZiAoTmV3VmFsdWUgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKCFpc051bWJlcihOZXdWYWx1ZSkpIHsKICAgICAgICAgIE5ld1ZhbHVlID0gUmVtb3ZlUXVvdGVzKE5ld1ZhbHVlKTsKICAgICAgICAgIE5ld1ZhbHVlID0gTmV3VmFsdWUucmVwbGFjZSgvJy9nLCAnJyk7CiAgICAgICAgICBOZXdWYWx1ZSA9IE5ld1ZhbHVlLnJlcGxhY2UoL+KAmC9nLCAnJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIE5ld1ZhbHVlID0gTmV3VmFsdWU7CiAgICAgICAgfQoKICAgICAgICB2YWx1ZVtpbmRleENvbGxlY3RlZF0gPSBOZXdWYWx1ZTsKICAgICAgICB1cGRhdGVkX3Rva2Vuc1tpbmRleF0udmFsdWUgPSB2YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YWx1ZSA9IHZhbHVlW2luZGV4Q29sbGVjdGVkXTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09ICdzdHJpbmcnIHx8IHRva2VuLnR5cGUgIT0gJ0FycmF5JykgewogICAgICB2YWx1ZSA9IHZhbHVlLmNoYXJBdChpbmRleENvbGxlY3RlZCk7CiAgICB9CgogICAgcmV0dXJuIHZhbHVlOwogIH0KfSAvL05lZWRzIGltcHJvdmVtZW50CgoKZnVuY3Rpb24gRm9yTG9vcEFycmF5b3JTdHJpbmdPdXRwdXQoZWxlbWVudFZhbHVlLCBpdGVyYXRvciwgdXBkYXRlZF90b2tlbnMsIGdsb2JhbCkgewogIHZhciBDdXJyZW50RWxlbWVudCA9ICcnOwogIEN1cnJlbnRFbGVtZW50ID0gZWxlbWVudFZhbHVlLm5hbWUgKyAnWycgKyBpdGVyYXRvciArICddJzsgLy9Gb3VuZHZhbHVlIGlzIGRlY2lkZWQgaW4gdGhlIGZ1bmN0aW9uIGRlcGVuZGluZyB1cG9uIHRoZSB0eXBlLgogIC8vaWYgaXQncyBhcnJheSBydW4gYXJyYXlbMl0sIGlmIGl0cyBzdHJpbmcgcnVuIHN0cmluZy5jaGFyQXQoMikKCiAgdmFyIEZvdW5kVmFsdWUgPSBHZXRBcnJheW9yU3RyaW5nRWxlbWVudChDdXJyZW50RWxlbWVudCwgdXBkYXRlZF90b2tlbnMpOwogIGdsb2JhbC5vdXRwdXQgPSBnbG9iYWwub3V0cHV0ICsgRm91bmRWYWx1ZSArICdcbic7CiAgcmV0dXJuOwp9IC8vTW92ZSBpdCB0byB0eXBlY2hlY2tpbmcuanMKCgpmdW5jdGlvbiBpc051bWJlcihlbGVtZW50KSB7CiAgaWYgKC9eWzAtOV0qJC9nbS50ZXN0KGVsZW1lbnQpKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn0gLy9vbmUgb2YgdGhlIGhlYXZpbHkgdXNlZCBmdW5jdGlvbgovL2NvbnZlcnRzIFsnYScsJysnLCdiJ10gaW50byBbYStiXSBhbmQgdGhlbiBpbnRvIFsyMywrLDddIHByb3ZpZGVkIGE9MjMgYW5kIGI9NwoKCmZ1bmN0aW9uIFNldFZhbHVlcyhTdHJpbmdWYXIsIHVwZGF0ZWRfdG9rZW5zKSB7CiAgU3RyaW5nVmFyLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpKSB7CiAgICBlbCA9IGVsLnJlcGxhY2UoL1wgL2csICcnKTsKCiAgICBpZiAoZWwuY2hhckF0KGVsLmxlbmd0aCAtIDEpID09ICddJykgewogICAgICB2YXIgQXJyYXlFbGVtZW50VmFsdWUgPSBHZXRBcnJheW9yU3RyaW5nRWxlbWVudChlbCwgdXBkYXRlZF90b2tlbnMpOwogICAgICBBcnJheUVsZW1lbnRWYWx1ZSA9IEFycmF5RWxlbWVudFZhbHVlLnJlcGxhY2UoL1snIl0rL2csICcnKTsKICAgICAgU3RyaW5nVmFyW2ldID0gQXJyYXlFbGVtZW50VmFsdWU7CiAgICB9IC8vZmluZGluZyB2YXJpYWJsZSB2YWx1ZSBoZXJlCgoKICAgIHZhciB0b2tlbiA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQubmFtZSA9PSBlbDsKICAgIH0pOwoKICAgIGlmICh0b2tlbiAhPSB1bmRlZmluZWQpIHsKICAgICAgLy8gaWYgZXhpc3RzIHNldCBpdCdzIHZhbHVlCiAgICAgIFN0cmluZ1ZhcltpXSA9IHRva2VuLnZhbHVlOwogICAgfQogIH0pOwogIHJldHVybiBTdHJpbmdWYXI7Cn0gLy9BTkNIT1IKLy9Ob3cgd2UgaGFlIGNvbnZlcnRlZCBmb3VuZCAiYStiLWQiIGludG8gW2EsKyxiLC0sZF0KLy9Ob3cgbGV0cyBydW4gYSBsb29wcyBvbiBpdCB0byBjb252ZXJ0IGludG8gWzUsKyw2LC0sN10KLy9VcGRhdGVkX3Rva2VucyBpcyB1cGRhdGVkIGJ5IHJlcGxhY2luZyAidmFsdWU6YStiLWQiIHdpdGggInZhbHVlOjUrNi03Ii4KLy9hZnRlciBldmFsIGZ1bmN0aW9uIGl0IHdpbGwgYmUgc2V0IGFzICJ2YWx1ZToyIgoKCmZ1bmN0aW9uIFVwZGF0ZVVwZGF0ZWRfdG9rZW5zd2l0aFZhbHVlcyhwYXlsb2FkKSB7CiAgdmFyIFN0cmluZ1ZhciA9IHBheWxvYWQ7IC8vcnVuIGlmIGl0J3MgYXJpdGhtZXRpYyBvcGVyYXRpb24gbGlrZSBbIjUrNi03Il0KCiAgaWYgKGlzTnVtYmVyKFN0cmluZ1ZhclswXSkpIHsKICAgIHZhciB2YWx1ZSA9IGV2YWwoU3RyaW5nVmFyLmpvaW4oJycpKTsKICAgIHJldHVybiB2YWx1ZTsKICB9IGVsc2UgaWYgKFN0cmluZ1ZhclsxXSA9PSAnPT0nKSB7CiAgICB2YXIgYSA9IFN0cmluZ1ZhclswXS50b1N0cmluZygpOwogICAgdmFyIGIgPSBTdHJpbmdWYXJbMl0udG9TdHJpbmcoKTsKICAgIGEgPSBhLnJlcGxhY2UoLyIvZywgJycpOwogICAgYSA9IGEucmVwbGFjZSgvJy9nLCAnJyk7CiAgICBiID0gYi5yZXBsYWNlKC8nL2csICcnKTsKICAgIGIgPSBiLnJlcGxhY2UoLyIvZywgJycpOwoKICAgIHZhciBfdmFsdWUyID0gZXZhbChhID09IGIpOwoKICAgIHJldHVybiBfdmFsdWUyOwogIH0gLy9ydW4gaWYgaXQncyBTdHJpbmcgb3BlcmF0aW9uIGxpa2UgWyJyZWRkaXQiLCIrIiwgImlzIGdvYXQiXQogIGVsc2UgewogICAgICBpZiAoU3RyaW5nVmFyLmluY2x1ZGVzKCcrJykpIHsKICAgICAgICBTdHJpbmdWYXJbU3RyaW5nVmFyLmluZGV4T2YoJysnKV0gPSAnICc7CiAgICAgIH0KCiAgICAgIHZhciBfdmFsdWUzID0gU3RyaW5nVmFyLmpvaW4oJycpOwoKICAgICAgcmV0dXJuIF92YWx1ZTM7CiAgICB9Cn0gLy9IYW5kbGUgQmxvY2tzIGlzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgY2FyZSBvZiBuZXN0ZWQgYmxvY2sgYnkgdGFraW5nIGNhcmUgb2YgbmVzdGVkICd7JyBhbmQgJ30nIGJyYWNrZXRzCi8vaXQgdXNlcyB0aGUgc3RhY2sgdG8gcHVzaCBhbmQgcG9wIGJyYWNrZXRzIHRvIGFjY3VyYXRlbHkgaWRlbnRpZnkgc3RhcnQgYW5kIHRoZSBlbmQgb2YgdGhlIGJsb2NrCgoKZnVuY3Rpb24gSGFuZGxlQmxvY2tzKG11dGFibGVfdG9rZW5zLCBqLCBTdG9yZVJlc3VsdCkgewogIC8vU3RvcmVSZXN1bHQgaXMgdXNlZCB0byBwdXNoIGRhdGEgaW50byBpdCBpbiBjYXNlIG9mIGZvcmxvb3Agb3Igd2hpbGUgbG9vcCBjb25ldGV4dAogIC8vZm9yIGEgbm9ybWFsIGJsb2NrIGxpa2UgY29uZGl0aW9uYWwgYmxvY2sgaXQgbWlnaHQgbm90IG5lZWQgdG8gYmUgdXNlZCB5ZXQKICB2YXIgQXJyYXlCcmFja2V0cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uCgogIHdoaWxlICh0cnVlKSB7CiAgICBpZiAobXV0YWJsZV90b2tlbnNbal0udmFsdWUgPT0gJ3snKSB7CiAgICAgIEFycmF5QnJhY2tldHMucHVzaCh7CiAgICAgICAgdHlwZTogJ3snLAogICAgICAgIGluZGV4OiBqCiAgICAgIH0pOwoKICAgICAgaWYgKFN0b3JlUmVzdWx0ICE9IHVuZGVmaW5lZCkgewogICAgICAgIFN0b3JlUmVzdWx0LnB1c2gobXV0YWJsZV90b2tlbnNbal0pOwogICAgICB9CiAgICB9IGVsc2UgaWYgKG11dGFibGVfdG9rZW5zW2pdLnZhbHVlID09ICd9JykgewogICAgICAvL0FzIHNvb24gYXMgb3BlbiBicmFja2V0IGlzIGZvdW5kLCBwb3AgdGhlIGxhc3QgYXJyYXlicmFja2V0IHN0YWNrIHZhbHVlCiAgICAgIC8vdGhhdCdzIHRoZSBtYXRjaAogICAgICB2YXIgeCA9IEFycmF5QnJhY2tldHMucG9wKCk7CgogICAgICBpZiAoU3RvcmVSZXN1bHQgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgU3RvcmVSZXN1bHQucHVzaChtdXRhYmxlX3Rva2Vuc1tqXSk7CiAgICAgICAgbXV0YWJsZV90b2tlbnNbeC5pbmRleF0uc3RhcnRJbmRleCA9IHguaW5kZXg7CiAgICAgICAgbXV0YWJsZV90b2tlbnNbeC5pbmRleF0uRW5kSW5kZXggPSBqOwogICAgICB9IC8vc2V0IHN0YXJ0IGFuZCBlbmQgaW5kZXggdmFsdWUgZm9yIHRoYXQgeyB9IGJsb2NrCgoKICAgICAgbXV0YWJsZV90b2tlbnNbeC5pbmRleF0uc3RhcnRJbmRleCA9IHguaW5kZXg7CiAgICAgIG11dGFibGVfdG9rZW5zW3guaW5kZXhdLkVuZEluZGV4ID0gajsKCiAgICAgIGlmIChBcnJheUJyYWNrZXRzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgLy9BcyBzb29uIGFzIHN0YWNrIGlzIGVtcHR5IHdlIGhhdmUgZmluaXNoZWQgb3VyIGxhc3QgbGJsb2NrCiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChTdG9yZVJlc3VsdCAhPSB1bmRlZmluZWQpIHsKICAgICAgICBTdG9yZVJlc3VsdC5wdXNoKG11dGFibGVfdG9rZW5zW2pdKTsKICAgICAgfQogICAgfQoKICAgIGorKzsKICB9CgogIHJldHVybiB7CiAgICBTdG9yZVJlc3VsdDogU3RvcmVSZXN1bHQsCiAgICBqOiBqCiAgfTsKfSAvL0hhbmRsZXMgY29uZGl0aW9uYWwgc3RhdGVtZW50cwovL0l0IGRvZXMgbm90IHJldHVybiB0cnVlIG9yIGZhbHNlIHJhdGhlciBpdCB0ZWxscyB1cyB3aGV0aGVyIHRvIHNraXAgdGhlIGV4ZWN1dGlvbiBvciBjb250aW51ZSBleGVjdXRpb24gZGVwZW5kaW5nIHVwb24gdHJ1dGggdmFsdWUgb2YgY29uZGl0aW9uCi8vSWYgdHJ1ZSAnaScgaXMgc2V0IHRvIGN1cnJlbnQgaW5kZXggcG9zaXRpb24sIGlmIGZhbHNlICdpJyBpcyBza2lwcGVkIHVudGlsIHRoZSBlbmQgb2YgY29uZGl0aW9uYWwgYmxvY2svCgoKZnVuY3Rpb24gSGFuZGxlQ29uZGl0aW9ucyhzb3VyY2VkYXRhLCBpLCB1cGRhdGVkX3Rva2VucykgewogIHZhciBlbGVtZW50ID0gc291cmNlZGF0YVtpXS52YWx1ZTsgLy9sZXQgdG9rZW49IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZWw9PiBlbC5vcmlnaW5hbHZhbHVlPT1zb3VyY2VkYXRhW2ldLnZhbHVlKQoKICB2YXIgU3BsaXRBcnJheSA9IFNwbGl0RWxlbWVudHNBcnJheShlbGVtZW50KTsKICB2YXIgVmFsdWVzID0gU2V0VmFsdWVzKFNwbGl0QXJyYXksIHVwZGF0ZWRfdG9rZW5zKTsKICB2YXIgRm9yTG9vcENvbmRpdGlvblZhbHVlID0gVXBkYXRlVXBkYXRlZF90b2tlbnN3aXRoVmFsdWVzKFZhbHVlcyk7CgogIGlmIChGb3JMb29wQ29uZGl0aW9uVmFsdWUgPT0gZmFsc2UpIHsKICAgIHdoaWxlIChzb3VyY2VkYXRhW2kgKyAxXS52YWx1ZSAhPSAnfScpIHsKICAgICAgLy90b2tlbnMuc3BsaWNlKGkrMSwgMSk7CiAgICAgIC8vTm8gbmVlZCB0byBkZWxldGUgdG9rZW5zLCB3ZSBhcmUgaXVzdCBza2lwcGluZyBvdmVyIHRoZSB2YWx1ZXMgc28gdGhhdCB0aGV5IHdvbid0IGJlIHByaW50ZWQgb3IgcnVuCiAgICAgIGkrKzsKICAgIH0KCiAgICByZXR1cm4gaTsKICB9Cn0gLy9IYW5kbHkgZnVuY3Rpb24gdG8gc3BsaXQgYW5kIGpvaW4gQXJyYXlzCgoKZnVuY3Rpb24gU3BsaXRhbmRKb2luKGFycmF5LCBvdXRwdXQsIGVsZW1lbnQpIHsKICBhcnJheVsxXSA9IG91dHB1dDsKICB2YXIgSm9pbmFycmF5ID0gYXJyYXkuam9pbignWycpICsgJ10nOwogIGVsZW1lbnQgPSBKb2luYXJyYXk7CiAgcmV0dXJuIGVsZW1lbnQ7Cn0KCnZhciBBY2N1bXVsYXRlVmFsdWUgPSAnJzsKCmZ1bmN0aW9uIFJlc2V0VmFsdWUoKSB7CiAgQWNjdW11bGF0ZVZhbHVlID0gJyc7Cn0gLy9PbmUgb2YgdGhlIG1vc3QgaW1wb3J0YW50IGZ1bmN0aW9ucwovL1Rha2VzIGNhcmUgb2YgYWxsIGtpbmQgb2YgYXNzaWdubWVudHMgcHJvdmlkZWQgaW4gcmF3IHNvdXJjZWNvZGUKLy9NZXNzYWdlPSJIZWxsbyBXb3JsZCIsIE51bWJlcnM9WzEsMiwzLDQsNV0sIE51bWJlcnNbMl09MjMgZXRjLgovL0lmIGEgY2VydGFpbiB2YWx1ZSBpcyBub3QgYmVpbmcgYXNzaWduZWQgcHJvcGVybHkgc3RhcnQgZGVidWdpaW5nIGhlcmUKCgpmdW5jdGlvbiBBc3NpZ25vclVwZGF0ZVZhbHVlcyhzb3VyY2VkYXRhLCBpLCB1cGRhdGVkX3Rva2VucywgaXRlcmF0b3IsIE9yaWdpbmFsSXRlcmF0b3IsIGdsb2JhbCwgRXhlY3V0aW9uU3RhY2ssIExpbmVieWxpbmVTb3VyY2VkYXRhKSB7CiAgdmFyIHZhcmlhYmxlID0gc291cmNlZGF0YVtpIC0gMV0udmFsdWU7CiAgdmFyIHZhcnZhbHVlID0gc291cmNlZGF0YVtpICsgMV0udmFsdWU7CiAgdmFyIEZpbmFsVmFsdWUgPSAnJzsKCiAgaWYgKHZhcnZhbHVlID09ICciJyB8fCB2YXJ2YWx1ZSA9PSAiJyIpIHsKICAgIHZhcnZhbHVlID0gJyAnOwogIH0gLy9pZiBzb21lb25lIGFjY2lkZW5sdHkgdHlwZXMgTmFtZT3gpIfgpKjgpKrgpYHgpJ8gb3IgYW55IG90aGVyIHByaW1hcnkga2V5d29yZHMKCgogIGZ1bmN0aW9uIEFzc2lnbm1lbnRFcnJvcih2YWx1ZSwga2V5d29yZHMpIHsKICAgIGlmICh2YWx1ZSAhPSAnJykgewogICAgICBmb3IgKHZhciB4IGluIGtleXdvcmRzKSB7CiAgICAgICAgaWYgKGtleXdvcmRzW3hdLmluY2x1ZGVzKHZhbHVlKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9IC8vY2hlY2tBc3NpZ25tZW50RXJyb3IodmFydmFsdWUsIEFjdGl2ZUxhbmd1Z2FlS2V5d29yZHMpOwoKCiAgdmFyIGVycm9yID0gQXNzaWdubWVudEVycm9yKHZhcnZhbHVlLCBBY3RpdmVMYW5ndWdhZUtleXdvcmRzKTsKCiAgaWYgKGVycm9yKSB7CiAgICB2YXIgX2Vycm9yID0gJ0Fzc2lnbm1lbnQgZXJyb3IgaW4gJyArICciJyArIHZhcmlhYmxlICsgJyA9ICcgKyAnIic7CgogICAgZ2xvYmFsLmVycm9yLnB1c2goX2Vycm9yKTsKICB9CgogIHZhciB2YXJ2YWx1ZVR5cGUgPSBzb3VyY2VkYXRhW2kgKyAxXS50eXBlOwoKICBmdW5jdGlvbiBmaW5kdmFsdWVpbk1lbW9yeSh2KSB7CiAgICByZXR1cm4gdXBkYXRlZF90b2tlbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgcmV0dXJuIGVsLm5hbWUgPT0gdjsKICAgIH0pOwogIH0KCiAgdmFyIG1lbW9yeV92YWx1ZSA9IGZpbmR2YWx1ZWluTWVtb3J5KHZhcnZhbHVlKTsgLy9pZiBhPWIgYW5kIHVzZXIgaGF2ZW4ndCBkZWZpbmVkIGIgeWV0CiAgLy9kb2Vzbid0IHdvcmsgb24gYT1iK2MsIHdoZXJlIGIgaXMgdW5kZWZpbmVkLCBjYWxjdWxhdGVWYWx1ZXMgZnVuY3Rpb24gdGFrZXMgY2FyZSBvZiB0aGF0CgogIGZ1bmN0aW9uIGNoZWNraWZVbmRlZmluZWQodiwgbXYsIHR5cGUpIHsKICAgIGlmICh0eXBlID09ICd2YXJpYWJsZScgJiYgIWlzTnVtYmVyKHYpICYmIG12ID09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gIkNhbm5vdCBzZXQgIi5jb25jYXQodmFyaWFibGUsICIgdG8gdW5kZWZpbmVkIDogIikuY29uY2F0KHYsICIgaXMgdW5kZWZpbmVkICIpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgdmFyIHVuZGVmaW5lZF9lcnJvciA9IGNoZWNraWZVbmRlZmluZWQodmFydmFsdWUsIG1lbW9yeV92YWx1ZSwgdmFydmFsdWVUeXBlKTsgLy9pZiB3ZSBoYXZlIGFueSB1bmRlZmluZWQgdmFyaWFibGVzCgogIGlmICh1bmRlZmluZWRfZXJyb3IgIT0gZmFsc2UpIHsKICAgIGdsb2JhbC5lcnJvci5wdXNoKHVuZGVmaW5lZF9lcnJvcik7CiAgfSAvL3RvIGNvdW50IHRoZSBsZW5ndGgsIE51bWJlcnMu4KS44KSC4KSW4KWN4KSv4KS+KClzCiAgZWxzZSBpZiAodmFydmFsdWUuaW5jbHVkZXMoJ+CkuOCkguCkluCljeCkr+CkvicpKSB7CiAgICAgIHZhciBfU3BsaXQgPSB2YXJ2YWx1ZS5zcGxpdCgnLicpOwoKICAgICAgdmFyIGl0ZW0gPSBfU3BsaXRbMF07CiAgICAgIHZhciBJdGVtdmFsdWUgPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5uYW1lID09IGl0ZW07CiAgICAgIH0pLnZhbHVlOwoKICAgICAgaWYgKEl0ZW12YWx1ZS5pbmNsdWRlcygnWycpKSB7CiAgICAgICAgSXRlbXZhbHVlID0gSXRlbXZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoJywnKTsKICAgICAgfSBlbHNlIGlmIChJdGVtdmFsdWUubGVuZ3RoID09IDEpIHsKICAgICAgICBJdGVtdmFsdWUgPSBJdGVtdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgSXRlbXZhbHVlID0gSXRlbXZhbHVlLnRvU3RyaW5nKCk7CiAgICAgIH0KCiAgICAgIHZhciBJdGVtdmFsdWVMZW5ndGggPSBJdGVtdmFsdWUubGVuZ3RoOwogICAgICBGaW5hbFZhbHVlID0gSXRlbXZhbHVlTGVuZ3RoOwogICAgICB1cGRhdGVkX3Rva2Vucy5wdXNoKHsKICAgICAgICBuYW1lOiB2YXJpYWJsZSwKICAgICAgICB2YWx1ZTogSXRlbXZhbHVlTGVuZ3RoLAogICAgICAgIGlkZW50aWZpZXI6IGksCiAgICAgICAgdHlwZTogJ0NhbExlbmd0aCcKICAgICAgfSk7CiAgICB9IC8vdGhpcyBydW5zIG9ubHkgZm9yIG9wZXJhdGlvbnMgbGlrZSB4PU51bWJlcnNbYV0KICAgIGVsc2UgaWYgKHZhcnZhbHVlVHlwZSA9PSAnR2V0QXJyYXlJbmRleFZhbHVlJykgewogICAgICAgIHZhciBuID0gdXBkYXRlZF90b2tlbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiBlbC5uYW1lID09IHZhcmlhYmxlOwogICAgICAgIH0pOwogICAgICAgIHZhciBpbmRleCA9IHVwZGF0ZWRfdG9rZW5zLmluZGV4T2Yobik7IC8vSXRlcmF0b3IgaXMgdXNlZCBvbmx5IHdoZW4gd2UgYXJlIGxvb3Bpbmcgb3ZlciBwcm92aWRlZCBpbmRleCBub3QgZm9yIHRoZSBpbmRleCB0aGF0IG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQKCiAgICAgICAgdmFyIGVsZW1lbnQgPSB2YXJ2YWx1ZS5yZXBsYWNlKCddJywgJycpOwoKICAgICAgICBpZiAoZWxlbWVudC5pbmNsdWRlcygnKycpKSB7CiAgICAgICAgICB2YXIgU3BsaXQgPSBlbGVtZW50LnNwbGl0KCcrJyk7CiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmluY2x1ZGVzKCctJykpIHsKICAgICAgICAgIHZhciBTcGxpdCA9IGVsZW1lbnQuc3BsaXQoJy0nKTsKICAgICAgICB9CgogICAgICAgIHZhciBmbGFnID0gZmFsc2U7IC8vRm9yIG9wZXJhdGlvbnMgbGlrZSBOYW1lPU5hbWUrIEFycmF5W2ldCgogICAgICAgIGlmIChlbGVtZW50LmluY2x1ZGVzKCcrJykgfHwgZWxlbWVudC5pbmNsdWRlcygnLScpICYmICFTcGxpdFswXS5pbmNsdWRlcygnWycpKSB7CiAgICAgICAgICBmbGFnID0gdHJ1ZTsKCiAgICAgICAgICB2YXIgX3Rva2VuMiA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgIHJldHVybiBlbC5uYW1lID09IFNwbGl0WzBdOwogICAgICAgICAgfSk7CgogICAgICAgICAgdmFyIF9pbmRleCA9IHVwZGF0ZWRfdG9rZW5zLmluZGV4T2YoX3Rva2VuMik7CgogICAgICAgICAgdmFyIEFycmF5SXRlbSA9IFNwbGl0WzFdLnNwbGl0KCdbJyk7CiAgICAgICAgICB2YXIgb3V0cHV0ID0gQ2FsY3VsYXRlVmFsdWVzKEFycmF5SXRlbVsxXSwgaSwgdXBkYXRlZF90b2tlbnMpOwoKICAgICAgICAgIHZhciBfQXJyYXlFbGVtZW50ID0gU3BsaXRhbmRKb2luKEFycmF5SXRlbSwgb3V0cHV0LCBlbGVtZW50KTsgLy9HZXQgTnVtYmVyc1szXSB2YWx1ZSBhbmQgbm93IHNldCBpdCB0byBvdXIgdmFyaWFibGUgeAoKCiAgICAgICAgICB2YXIgX3ZhbHVlNCA9IEdldEFycmF5b3JTdHJpbmdFbGVtZW50KF9BcnJheUVsZW1lbnQsIHVwZGF0ZWRfdG9rZW5zKTsKCiAgICAgICAgICBBY2N1bXVsYXRlVmFsdWUgKz0gX3ZhbHVlNDsKICAgICAgICAgIHVwZGF0ZWRfdG9rZW5zW19pbmRleF0udmFsdWUgPSBBY2N1bXVsYXRlVmFsdWU7CiAgICAgICAgICBGaW5hbFZhbHVlID0gQWNjdW11bGF0ZVZhbHVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgU3BsaXQgPSBlbGVtZW50LnNwbGl0KCdbJyk7CiAgICAgICAgfSAvL2ZvciBvcGVyYXRpb25zIGxpa2UgeD0gQXJyYXlbaSsxXSBldGMKCgogICAgICAgIGlmICgoU3BsaXRbMV0uaW5jbHVkZXMoJy0nKSB8fCBTcGxpdFsxXS5pbmNsdWRlcygnKycpKSAmJiAhU3BsaXRbMV0uaW5jbHVkZXMoJ1snKSkgewogICAgICAgICAgdmFyIF9vdXRwdXQgPSBDYWxjdWxhdGVWYWx1ZXMoU3BsaXRbMV0sIGksIHVwZGF0ZWRfdG9rZW5zKTsKCiAgICAgICAgICBlbGVtZW50ID0gU3BsaXRhbmRKb2luKFNwbGl0LCBfb3V0cHV0LCBlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIHZhciB0b2tlbiA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICByZXR1cm4gZWwubmFtZSA9PSBTcGxpdFsxXTsKICAgICAgICB9KTsgLy9mb3Igb3BlcmF0aW9ucyBsaWtlIEFycmF5W0FnZV0uIEhlcmUgaW5kZXggaXMgYW4gYWxyZWFkeSBkZWZpbmVkIHZhcmlhYmxlCgogICAgICAgIGlmICh0b2tlbiAhPSB1bmRlZmluZWQgJiYgT3JpZ2luYWxJdGVyYXRvciAhPSBTcGxpdFsxXSAmJiB0b2tlbi5uYW1lICE9ICcnKSB7CiAgICAgICAgICBlbGVtZW50ID0gU3BsaXRhbmRKb2luKFNwbGl0LCB0b2tlbi52YWx1ZSwgZWxlbWVudCk7CiAgICAgICAgfSAvL2ZvciBvcGVyYXRpb25zIGxpa2UgQXJyYXlbaV06IExvb3Bpbmcgb3ZlciBvcmlnaW5hbCBpbmRleCB2YWx1ZQogICAgICAgIGVsc2UgaWYgKE9yaWdpbmFsSXRlcmF0b3IgPT0gU3BsaXRbMV0pIHsKICAgICAgICAgICAgZWxlbWVudCA9IFNwbGl0YW5kSm9pbihTcGxpdCwgaXRlcmF0b3IsIGVsZW1lbnQpOwogICAgICAgICAgfQoKICAgICAgICB2YXIgQXJyYXlFbGVtZW50ID0gZWxlbWVudDsgLy9HZXQgTnVtYmVyc1szXSB2YWx1ZSBhbmQgbm93IHNldCBpdCB0byBvdXIgdmFyaWFibGUgeAoKICAgICAgICB2YXIgdmFsdWUgPSBHZXRBcnJheW9yU3RyaW5nRWxlbWVudChBcnJheUVsZW1lbnQsIHVwZGF0ZWRfdG9rZW5zKTsgLy8KCiAgICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFsdWUgPSBSZW1vdmVRdW90ZXModmFsdWUpOwogICAgICAgIH0gLy8KCgogICAgICAgIGlmIChuICE9IHVuZGVmaW5lZCAmJiBmbGFnID09IGZhbHNlKSB7CiAgICAgICAgICB1cGRhdGVkX3Rva2Vuc1tpbmRleF0udmFsdWUgPSB2YWx1ZTsKICAgICAgICAgIEZpbmFsVmFsdWUgPSB2YWx1ZTsKICAgICAgICB9IGVsc2UgaWYgKGZsYWcgPT0gZmFsc2UpIHsKICAgICAgICAgIHVwZGF0ZWRfdG9rZW5zLnB1c2goewogICAgICAgICAgICBuYW1lOiB2YXJpYWJsZSwKICAgICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgICBpZGVudGlmaWVyOiBpLAogICAgICAgICAgICB0eXBlOiBzb3VyY2VkYXRhW2kgKyAxXS50eXBlCiAgICAgICAgICB9KTsKICAgICAgICAgIEZpbmFsVmFsdWUgPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9pZiB3ZSBhcmUgc2V0dGluZyBhbHJlYWR5IGRlZmluZWQgdmFsdWUgdG8gbmV3IHZhcmlhYmxlCiAgICAgICAgdmFyIG0gPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIGVsLm5hbWUgPT0gdmFydmFsdWU7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChtICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFydmFsdWUgPSBtLnZhbHVlOwogICAgICAgICAgRmluYWxWYWx1ZSA9IHZhcnZhbHVlOwogICAgICAgIH0KCiAgICAgICAgdmFyIF9uID0gdXBkYXRlZF90b2tlbnMuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiBlbC5uYW1lID09IHZhcmlhYmxlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoX24gPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvL3RvIGNoZWNrIGlmIHRoZSBhc3NpZ25lZCB2YWx1ZSBuZWVkcyB0byBiZSBjYWxjdWxhdGVkLiB0aGlzIGlzIGZ1dGhlciBkaXZlZGVkIGluIHR3byB0eXBlcwogICAgICAgICAgaWYgKGlzQ2FsY3VsYXRpb24odmFydmFsdWUpKSB7CiAgICAgICAgICAgIC8vdHlwZSAxLSBBZ2U9IDIwMjAtMjAwMAogICAgICAgICAgICBpZiAoaXNQdXJlRXZhbCh2YXJ2YWx1ZSkpIHsKICAgICAgICAgICAgICB2YXIgX3ZhbHVlNSA9IGV2YWwodmFydmFsdWUpOyAvL3dyaXRlIGZ1bmN0aW9uIGZvciB0aGlzLCBzbyByZXBlYXRhYmxlCgoKICAgICAgICAgICAgICB1cGRhdGVkX3Rva2Vucy5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6IHZhcmlhYmxlLAogICAgICAgICAgICAgICAgdmFsdWU6IF92YWx1ZTUsCiAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiBpLAogICAgICAgICAgICAgICAgdHlwZTogc291cmNlZGF0YVtpICsgMV0udHlwZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIEZpbmFsVmFsdWUgPSBfdmFsdWU1OwogICAgICAgICAgICB9IC8vdHlwZSAyLSBYPSBhZ2VvbmUrYWdldHdvCiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgLy9wZXJmb3JtaW5nIHRoZSBjYWxjdWxhdGlvbgogICAgICAgICAgICAgICAgdmFyIG11bHRpQ2FsID0gc291cmNlZGF0YVtpICsgMV0ubXVsdGlDYWw7CgogICAgICAgICAgICAgICAgdmFyIF92YWx1ZTYgPSBDYWxjdWxhdGVWYWx1ZXModmFydmFsdWUsIGksIHVwZGF0ZWRfdG9rZW5zLCBtdWx0aUNhbCk7CgogICAgICAgICAgICAgICAgdXBkYXRlZF90b2tlbnMucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IHZhcmlhYmxlLAogICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZhbHVlNiwKICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogaSwKICAgICAgICAgICAgICAgICAgdHlwZTogc291cmNlZGF0YVtpICsgMV0udHlwZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBGaW5hbFZhbHVlID0gX3ZhbHVlNjsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9IC8vaWYgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxjdWxhdGUsIHB1c2ggdmFsdWVzIGFzIGl0IGlzCiAgICAgICAgICBlbHNlIGlmICghaXNDYWxjdWxhdGlvbih2YXJ2YWx1ZSkpIHsKICAgICAgICAgICAgICB1cGRhdGVkX3Rva2Vucy5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6IHZhcmlhYmxlLAogICAgICAgICAgICAgICAgdmFsdWU6IHZhcnZhbHVlLAogICAgICAgICAgICAgICAgaWRlbnRpZmllcjogaSwKICAgICAgICAgICAgICAgIHR5cGU6IHNvdXJjZWRhdGFbaSArIDFdLnR5cGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBGaW5hbFZhbHVlID0gdmFydmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICB9IC8vaWYgaXQncyBhbHJlYWR5IGFzc2dpbmVkLCByZWFzc2lnbiBpdCB3aXRoIHVwZGF0ZWQgdmFsdWUKICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdmFydmFsdWUgPSB2YXJ2YWx1ZS50b1N0cmluZygpOwoKICAgICAgICAgICAgaWYgKHZhcnZhbHVlLmluY2x1ZGVzKCctJykgfHwgdmFydmFsdWUuaW5jbHVkZXMoJyUnKSB8fCB2YXJ2YWx1ZS5pbmNsdWRlcygnKycpIHx8IHZhcnZhbHVlLmluY2x1ZGVzKCcvJykgfHwgdmFydmFsdWUuaW5jbHVkZXMoJyonKSkgewogICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgdmFyIE5ld1ZhbHVlID0gQ2FsY3VsYXRlVmFsdWVzKHZhcnZhbHVlLCBpLCB1cGRhdGVkX3Rva2Vucyk7CiAgICAgICAgICAgICAgX24udmFsdWUgPSBOZXdWYWx1ZTsKICAgICAgICAgICAgICBGaW5hbFZhbHVlID0gTmV3VmFsdWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIF9pbmRleDIgPSB1cGRhdGVkX3Rva2Vucy5pbmRleE9mKF9uKTsKCiAgICAgICAgICAgICAgdXBkYXRlZF90b2tlbnNbX2luZGV4Ml0udmFsdWUgPSB2YXJ2YWx1ZTsKICAgICAgICAgICAgICBGaW5hbFZhbHVlID0gdmFydmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgfSAvLwoKCiAgdmFyIG1lc3NhZ2UgPSAnJzsKCiAgaWYgKGlzQ2FsY3VsYXRpb24oc291cmNlZGF0YVtpICsgMV0udmFsdWUpIHx8IHNvdXJjZWRhdGFbaSArIDFdLnZhbHVlLmluY2x1ZGVzKCfgpLjgpILgpJbgpY3gpK/gpL4nKSkgewogICAgbWVzc2FnZSA9ICcgQ29tcHV0ZXIg4KS44KSs4KS44KWHIOCkquCkueCksuClhyDgpJzgpL7gpIHgpJog4KSV4KSw4KSk4KS+IOCkueCliCDgpJXgpYAg4KSV4KWN4KSv4KS+LCAnICsgJyInICsgc291cmNlZGF0YVtpICsgMV0udmFsdWUgKyAnIicgKyAnIOCkleCliyDgpLjgpYHgpLLgpJ3gpL7gpKjgpYcoU29sdmUpIOCkleCksOCkqOClhyDgpJXgpYAg4KWb4KSw4KWB4KSw4KSkIOCkueCliD8nICsgJ1xuJyArICcg4KSF4KSX4KSwIOCkueCkviwg4KSk4KWLIENvbXB1dGVyICcgKyAnIicgKyBzb3VyY2VkYXRhW2kgKyAxXS52YWx1ZSArICciJyArICcg4KSV4KWLIFNvbHZlIOCkleCksOCkleClhywgJyArICciJyArIHZhcmlhYmxlICsgJyInICsgJyDgpJXgpYcg4KSo4KS+4KSuIOCkuOClhyBNZW1vcnkg4KSu4KWH4KSCIOCkpuCksOCljeCknChTdG9yZSngpJXgpLAg4KSm4KWH4KSX4KS+IHwgJyArICdcbicgKyAnIOCkr+CkueCkvuCkquCksCAsICcgKyAnIicgKyBzb3VyY2VkYXRhW2kgKyAxXS52YWx1ZSArICciJyArICcg4KSV4KWAIOCkleClgOCkruCkpCAoVmFsdWUpICwgJyArICciJyArIEZpbmFsVmFsdWUgKyAnIicgKyAnIOCkhuCkpOClgCDgpLngpYggfCcgKyAnXG4nICsgJyDgpIfgpLjgpLLgpL/gpI8sIENvbXB1dGVyICcgKyAnIicgKyB2YXJpYWJsZSArICciJyArICcg4KSV4KWLICcgKyAnIicgKyBGaW5hbFZhbHVlICsgJyInICsgJyDgpK/gpYcgVkFMVUUg4KSm4KWHIOCkleCksCDgpIXgpKrgpKjgpYcgTWVtb3J5IOCkruClh+CkgiDgpKbgpLDgpY3gpJwoU3RvcmUpIOCkleCksCDgpKbgpYfgpKTgpL4g4KS54KWIIHwnOwogIH0gZWxzZSB7CiAgICBtZXNzYWdlID0gJyBDb21wdXRlciDgpKjgpYcsICcgKyAnIicgKyB2YXJpYWJsZSArICciJyArICcg4KSV4KWLLCAnICsgJyInICsgdmFydmFsdWUgKyAnIicgKyAnIOCkr+ClhyBWQUxVRSDgpKbgpYcg4KSV4KSwIOCkheCkquCkqOClhyBNZW1vcnkg4KSu4KWH4KSCIOCkpuCksOCljeCknChTdG9yZSkg4KSV4KSw4KS14KS+4KSv4KS+IOCkueCliCB8JzsKICB9IC8vVGhpcyBpcyB0aGUgZXhwZXJlc3Npb24gd2hjaWggaXMgZ2V0dGluZyBldmFsdWF0ZWQuCgoKICB2YXIgZXhwcmVzc2lvbiA9IHZhcmlhYmxlICsgJz0nICsgdmFydmFsdWU7IC8vCgogIGV4cHJlc3Npb24gPSBHZXRjbGVhbmVkRXhwcmVzc2lvbihleHByZXNzaW9uKTsKICBMaW5lYnlsaW5lU291cmNlZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaW5kZXgpIHsKICAgIGVsID0gZWwucmVwbGFjZSgvIC8sICcnKTsKICAgIGVsID0gR2V0Y2xlYW5lZEV4cHJlc3Npb24oZWwpOwoKICAgIGlmIChlbCA9PSBleHByZXNzaW9uKSB7CiAgICAgIEFkZHRvRXhlY3V0aW9uU3RhY2soRXhlY3V0aW9uU3RhY2ssICc9JywgJ+CkleCkv+CkuOClgCBWQVJJQUJMRSDgpJXgpYsg4KSo4KSIIFZBTFVFIOCkuOClh+CknyDgpJXgpLDgpKjgpL4gICAnLCB2YXJpYWJsZSwgdmFydmFsdWUsIG1lc3NhZ2UsIGluZGV4ICsgMSk7CiAgICB9CiAgfSk7Cn0gLy9HZXRDb25kaXRpb25WYWx1ZSBpcyBvdXIgZ290byBmdW5jdGlvbiB0byBldmFsdWF0ZSBhIGNvbmRpdGlvbiB0byB0cnVlIG9yIGZhbHNlCgoKZnVuY3Rpb24gR2V0Q29uZGl0aW9uVmFsdWUoZWxlbWVudCwgdXBkYXRlZF90b2tlbnMpIHsKICB2YXIgQ29uZGl0aW9uVmFsdWUgPSBmYWxzZTsKCiAgaWYgKGVsZW1lbnQuaW5jbHVkZXMoJyYmJykgfHwgZWxlbWVudC5pbmNsdWRlcygnfHwnKSkgewogICAgdmFyIE11bHRDb25kaXRpb25zQ291bnQgPSBwYXJzZUludChDb3VudCgnJicsIGVsZW1lbnQpKSArIHBhcnNlSW50KENvdW50KCd8JywgZWxlbWVudCkpOyAvL3RoaXMgd2lsbCBiZSBvdXIgZmluYWwgdmFsdWVzCiAgICAvL2NvbnZlcnRlZCBhcyB0cnVlJiZmYWxzZSYmdHJ1ZXx8dHJ1ZQoKICAgIHZhciBCdWlsdE11bHRDb25kaXRvbldpdGhWYWx1ZXMgPSAnJzsKICAgIHZhciBMYXN0UmVzdWx0ID0ge307IC8vcnVubmluZyBmb3IgbG9vcCBvbiBvcmlnaW5hbCBjb25kaXRpb24gdG8gY2FsY3VsYXRlcyBlYWNoIGluZGl2aWR1YWwgY29uZGl0aW9uIGFuZCBhZGRpbmcgaXRzIHZhbHVlIGluIEJ1aWx0TXVsdENvbmRpdG9uV2l0aFZhbHVlcwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IE11bHRDb25kaXRpb25zQ291bnQ7IGkrKykgewogICAgICBpZiAoaSA9PSBNdWx0Q29uZGl0aW9uc0NvdW50KSB7CiAgICAgICAgdmFyIGNvbmRpdGlvbiA9IExhc3RSZXN1bHQuU3dlZXBlZEVsZW1lbnQ7CiAgICAgICAgY29uZGl0aW9uID0gY29uZGl0aW9uLnJlcGxhY2UoLyAvZywgJycpOwogICAgICAgIHZhciBTcGxpdEFycmF5ID0gU3BsaXRFbGVtZW50c0FycmF5KGNvbmRpdGlvbik7CiAgICAgICAgdmFyIFZhbHVlcyA9IFNldFZhbHVlcyhTcGxpdEFycmF5LCB1cGRhdGVkX3Rva2Vucyk7CiAgICAgICAgQ29uZGl0aW9uVmFsdWUgPSBVcGRhdGVVcGRhdGVkX3Rva2Vuc3dpdGhWYWx1ZXMoVmFsdWVzKTsKICAgICAgICBCdWlsdE11bHRDb25kaXRvbldpdGhWYWx1ZXMgPSBCdWlsdE11bHRDb25kaXRvbldpdGhWYWx1ZXMgKyBDb25kaXRpb25WYWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcmVzdWx0ID0gaGFuZGxlbXVsdENvbmRpdGlvbnMoZWxlbWVudCk7CiAgICAgICAgTGFzdFJlc3VsdCA9IHJlc3VsdDsKICAgICAgICBlbGVtZW50ID0gcmVzdWx0LlN3ZWVwZWRFbGVtZW50OwogICAgICAgIHZhciBfY29uZGl0aW9uID0gcmVzdWx0LmNvbmRpdGlvbjsKICAgICAgICBfY29uZGl0aW9uID0gX2NvbmRpdGlvbi5yZXBsYWNlKC8gL2csICcnKTsKCiAgICAgICAgdmFyIF9TcGxpdEFycmF5ID0gU3BsaXRFbGVtZW50c0FycmF5KF9jb25kaXRpb24pOwoKICAgICAgICB2YXIgX1ZhbHVlcyA9IFNldFZhbHVlcyhfU3BsaXRBcnJheSwgdXBkYXRlZF90b2tlbnMpOwoKICAgICAgICBDb25kaXRpb25WYWx1ZSA9IFVwZGF0ZVVwZGF0ZWRfdG9rZW5zd2l0aFZhbHVlcyhfVmFsdWVzKTsKICAgICAgICBCdWlsdE11bHRDb25kaXRvbldpdGhWYWx1ZXMgPSBCdWlsdE11bHRDb25kaXRvbldpdGhWYWx1ZXMgKyBDb25kaXRpb25WYWx1ZSArIHJlc3VsdC5vcGVyYXRvcjsKICAgICAgfQogICAgfSAvL3NldHRpbmcgdGhlIGZpbmFsIGNvbmRpdGlvbiB2YWx1ZSBpbiBjYXNlcyBsaWtlIOCkheCkl+CksCAoYWdlb25lPT0xMCAmJiBBdmVyYWdlQWdlPDEwMDAgJiYgYWdldHdvPjEwMCB8fCBhZ2VvbmU9PTEwKQoKCiAgICBDb25kaXRpb25WYWx1ZSA9IGV2YWwoQnVpbHRNdWx0Q29uZGl0b25XaXRoVmFsdWVzKTsKICB9IGVsc2UgewogICAgLy9sZXQgdG9rZW49IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZWw9PiBlbC5vcmlnaW5hbHZhbHVlPT1tdXRhYmxlX3Rva2Vuc1tqXS52YWx1ZSkKICAgIHZhciBfU3BsaXRBcnJheTIgPSBTcGxpdEVsZW1lbnRzQXJyYXkoZWxlbWVudCk7IC8vCgoKICAgIHZhciBfVmFsdWVzMiA9IFNldFZhbHVlcyhfU3BsaXRBcnJheTIsIHVwZGF0ZWRfdG9rZW5zKTsKCiAgICBfVmFsdWVzMiA9IF9WYWx1ZXMyLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbSAhPT0gJycgJiYgaXRlbSAhPSAiJyIgJiYgaXRlbSAhPSAiPSciICYmIGl0ZW0gIT0gJyInOwogICAgfSk7IC8vU2V0dGluZyB0aGUgZmluYWwgY29uZGl0aW9uIHZhbHVlIGluIGNhc2VzIGxpa2Ug4KSF4KSX4KSwIChhZ2VvbmU9PTEwKQogICAgLy8KCiAgICBDb25kaXRpb25WYWx1ZSA9IFVwZGF0ZVVwZGF0ZWRfdG9rZW5zd2l0aFZhbHVlcyhfVmFsdWVzMik7CiAgfQoKICByZXR1cm4gQ29uZGl0aW9uVmFsdWU7Cn0gLy9HZXR0aW5nIGV2ZXJ5IHNpbmdsZSBpbmZvcm1hdGlvbiBhYm91dCBvdXIgZm9ybG9vcAoKCmZ1bmN0aW9uIEZvckxvb3BTZXRNZXRhZGF0YSh0b2tlbnMsIGksIHVwZGF0ZWRfdG9rZW5zKSB7CiAgdmFyIEZvckxvb3BNZXRhRGF0YSA9IHRva2Vuc1tpICsgMV07IC8vU3BsaXR0aW5nIHRoZSBGb3JMb29wTWV0YURhdGEgdmFsdWVzIGluZGl2aWR1YWxseQoKICB2YXIgaXRlcmF0b3IgPSBGb3JMb29wTWV0YURhdGEuaXRlcmF0b3I7CiAgdmFyIGVsZW1lbnQgPSBGb3JMb29wTWV0YURhdGEudmFsdWU7CiAgdmFyIEl0ZXJhdGlvblN0YXJ0ID0gcGFyc2VJbnQoRm9yTG9vcE1ldGFEYXRhLml0ZXJhdGlvblN0YXJ0KTsKICB2YXIgSXRlcmF0aW9uRW5kID0gcGFyc2VJbnQoRm9yTG9vcE1ldGFEYXRhLml0ZXJhdGlvbkVuZCk7IC8vcHVzaGluZyBpbmRleAogIC8vY2hlY2tpbmcgaWYgaXRlcmF0aW9uIGVuZCBpcyBhbiBwcmVkZWZpbmVkIHZhcmlhYmxlCgogIHZhciB0b2tlbiA9IHVwZGF0ZWRfdG9rZW5zLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwubmFtZSA9PSBGb3JMb29wTWV0YURhdGEuaXRlcmF0aW9uRW5kOwogIH0pOwoKICBpZiAodG9rZW4gIT0gdW5kZWZpbmVkKSB7CiAgICBJdGVyYXRpb25FbmQgPSBwYXJzZUludCh0b2tlbi52YWx1ZSk7CiAgfSAvLyB2YXIgRm9yTG9vcFNvdXJjZWRhdGEgPSBGb3JMb29wTWV0YURhdGEuRm9yTG9vcFNvdXJjZWRhdGEKCgogIHZhciBlbGVtZW50VmFsdWUgPSB1cGRhdGVkX3Rva2Vucy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgcmV0dXJuIGVsLm5hbWUgPT0gZWxlbWVudDsKICB9KTsKICB2YXIgZWxlbWVudExlbmd0aCA9IDA7CiAgdmFyIEZvckxvb3BTb3VyY2VkYXRhSW5kZXhTdGFydCA9IDA7CiAgdmFyIE9yaWdpbmFsSXRlcmF0b3IgPSBGb3JMb29wTWV0YURhdGEuaXRlcmF0b3I7IC8vIFJ1biBpZiBzdGFydCBhbmQgZW5kIHBhcmFtZXRlcnMgYXJlIG5vdCBnaXZlbiBlLmcg4KSm4KWB4KS54KSw4KS+4KSTIGEg4KSV4KWLICBOYW1lIOCkruClhwogIC8vIFRoaXMgaXMgcmFuIGp1c3QgdG8gZ2V0IFN0YXJ0IGFuZCBFbmQgcGFyYW1ldGVycyBhcyB0aGV5IGFyZSBub3QgcHJvdmlkZWQKCiAgaWYgKEZvckxvb3BNZXRhRGF0YS5pdGVyYXRpb25FbmQgPT0gdW5kZWZpbmVkKSB7CiAgICAvL3J1biBpZiBlbGVtZW50IGlzIGFycmF5CiAgICBpZiAoZWxlbWVudFZhbHVlLnR5cGUgPT0gJ0FycmF5JykgewogICAgICBlbGVtZW50TGVuZ3RoID0gZWxlbWVudFZhbHVlLnZhbHVlLnNwbGl0KCcsJykubGVuZ3RoOwogICAgICBJdGVyYXRpb25TdGFydCA9IDA7CiAgICAgIEl0ZXJhdGlvbkVuZCA9IGVsZW1lbnRMZW5ndGggLSAxOwogICAgfSAvL3J1biBpZiBlbGVtZW50IGlzIFN0cmluZwogICAgZWxzZSB7CiAgICAgICAgZWxlbWVudExlbmd0aCA9IGVsZW1lbnRWYWx1ZS52YWx1ZS5sZW5ndGg7CiAgICAgICAgSXRlcmF0aW9uU3RhcnQgPSAwOwogICAgICAgIEl0ZXJhdGlvbkVuZCA9IGVsZW1lbnRMZW5ndGggLSAxOwogICAgICB9CiAgfQoKICB2YXIgQ3ljbGUgPSBJdGVyYXRpb25FbmQ7CiAgcmV0dXJuIHsKICAgIEZvckxvb3BTb3VyY2VkYXRhSW5kZXhTdGFydDogRm9yTG9vcFNvdXJjZWRhdGFJbmRleFN0YXJ0LAogICAgQ3ljbGU6IEN5Y2xlLAogICAgT3JpZ2luYWxJdGVyYXRvcjogT3JpZ2luYWxJdGVyYXRvciwKICAgIEl0ZXJhdGlvblN0YXJ0OiBJdGVyYXRpb25TdGFydCwKICAgIEl0ZXJhdGlvbkVuZDogSXRlcmF0aW9uRW5kLAogICAgaXRlcmF0b3I6IGl0ZXJhdG9yLAogICAgZWxlbWVudDogZWxlbWVudCwKICAgIGVsZW1lbnRWYWx1ZTogZWxlbWVudFZhbHVlCiAgfTsKfSAvL1RvIHJlc29sdmUgb3BlcmF0aW9ucyBsaWtlIEFycmF5W2FdPWErMiBpbiBsb29wcyBhbmQgaW4gcGxhaW4gY29udGV4dAoKCmZ1bmN0aW9uIFNldEFycmF5SW5kZXhWYWx1ZShTb3VyY2VEYXRhLCBpLCBqLCBDb21wbGV0ZVRva2VuVmFsdWVMaXN0LCB0b2tlbnMsIE9yaWdpbmFsSXRlcmF0b3IsIGl0ZXJhdG9yLCBFeGVjdXRpb25TdGFjaywgTGluZWJ5bGluZVNvdXJjZWRhdGEpIHsKICB2YXIgVmFsdWUgPSBTb3VyY2VEYXRhW2ldLnZhbHVlOwogIHZhciBWYWx1ZVRvU2V0ID0gU291cmNlRGF0YVtpXS5WYWx1ZVRvU2V0OwogIHZhciBPcmlnaW5hbEVsZW1lbnQgPSBWYWx1ZSArICc9JyArIFZhbHVlVG9TZXQ7CiAgdmFyIGVsZW1lbnQgPSBSZW1vdmVCcmFja2V0cyhWYWx1ZSk7CiAgdmFyIEFycmF5RWxlbWVudCA9ICcnOyAvL1NlcHJhdGluZyBvdXQgaW5kZXggaWRlbnRpZmllci4geHl6IGZyb20gQXJyYXlbeHl6XQoKICBlbGVtZW50ID0gZWxlbWVudC5yZXBsYWNlKCddJywgJycpOwogIHZhciBTcGxpdCA9IGVsZW1lbnQuc3BsaXQoJ1snKTsgLy8gcnVuIGlmIHdlIG5lZWQgdG8gc2V0IGRpcmVjdCBBcnJheSBlbGVtZW50IHZhbHVlLiBsaWtlIEFycmF5WzJdPSB4eXgKCiAgaWYgKGlzTnVtYmVyKFNwbGl0WzFdKSkgewogICAgU3BsaXQgPSBTcGxpdC5qb2luKCdbJyk7IC8vCgogICAgU3BsaXQgPSBTcGxpdCArICddJzsKICAgIEFycmF5RWxlbWVudCA9IFNwbGl0OyAvLwoKICAgIE5ld1ZhbHVlVG9TZXQgPSBDYWxjdWxhdGVWYWx1ZXMoVmFsdWVUb1NldCwgaiwgQ29tcGxldGVUb2tlblZhbHVlTGlzdCk7CiAgICBTZXRBcnJheW9yU3RyaW5nRWxlbWVudChPcmlnaW5hbEVsZW1lbnQsIEFycmF5RWxlbWVudCwgQ29tcGxldGVUb2tlblZhbHVlTGlzdCwgZmFsc2UsIE5ld1ZhbHVlVG9TZXQsIHRva2VucywgRXhlY3V0aW9uU3RhY2ssIExpbmVieWxpbmVTb3VyY2VkYXRhKTsKICB9IC8vIHJ1biBpZiB3ZSBuZWVkIHRvIGR5bmFtaWNhbGx5IHNldCBBcnJheSBlbGVtZW50IHZhbHVlLiBsaWtlIEFycmF5W2ldPSB4eXgKICAvL0NyZWF0ZUFycmF5RWxlbWVudCBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBkeW5hbWljIEFycmF5IHZhbHVlcy4gbGlrZSBBcnJheVswXSwgQXJyYXlbMV0gZXRjLgogIGVsc2UgewogICAgICB2YXIgaW5kZXggPSBTcGxpdFsxXTsgLy8gc2V0dGluZyBpdGVyYXRvciBhcyBwZXIgdXNlciBpbnB1dAogICAgICAvL2ZvciBpdGVyYXRvciBsaWtlIGNvdW50PWNvdW50ICsgMSwgQXJyYXlbY291bnRdCgogICAgICB2YXIgbmV3SW50ZXJhdG9yID0gMDsKICAgICAgdmFyIHRva2VuID0gQ29tcGxldGVUb2tlblZhbHVlTGlzdC5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5uYW1lID09IGluZGV4OwogICAgICB9KTsKCiAgICAgIGlmICh0b2tlbiAhPSB1bmRlZmluZWQpIHsKICAgICAgICBuZXdJbnRlcmF0b3IgPSB0b2tlbi52YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXdJbnRlcmF0b3IgPSBpdGVyYXRvcjsKICAgICAgfQoKICAgICAgQXJyYXlFbGVtZW50ID0gQ3JlYXRlQXJyYXlFbGVtZW50KFZhbHVlLCBuZXdJbnRlcmF0b3IpOwogICAgfSAvLyB0aGlzIGNvZGUgaXMgd3JpdHRlbiB0byBmaW5kIG9wZXJhdGlvbnMgbGlrZSBBcnJheVthXT0gYSoxMDArYWdlKmEuIG5vdGljZSBhCiAgLy9maW5kIGEgd2F5IHRvIHNpbXBsaWZ5IHRoaXMgaW4gbG9uZyB0ZXJtCgoKICB2YXIgZGF0YSA9IFZhbHVlVG9TZXQ7CiAgZGF0YSA9IGRhdGEuc3BsaXQoJyonKS50b1N0cmluZygpOwogIGRhdGEgPSBkYXRhLnNwbGl0KCcrJykudG9TdHJpbmcoKTsKICBkYXRhID0gZGF0YS5zcGxpdCgnLScpLnRvU3RyaW5nKCk7CiAgZGF0YSA9IGRhdGEuc3BsaXQoJy8nKS50b1N0cmluZygpOwogIGRhdGEgPSBkYXRhLnNwbGl0KCcsJyk7IC8vYnVpbGRpbmcgYSBuZXcgdmFsdWUgdG8gY29udmVydCBhKjEwMCthZ2UqYSBpbnRvIDUqMTAwK2FnZSphIGFuZCB0aGVuIHNlbmRpbmcgaXQgdG8gQ2FsY3VsYXRlVmFsdWVzKCkKCiAgdmFyIE5ld1ZhbHVlVG9TZXQgPSAnJzsKCiAgaWYgKGRhdGEuaW5jbHVkZXMoU3BsaXRbMV0pICYmIGRhdGEubGVuZ3RoID4gMSkgewogICAgLy93ZSBoYXZlIG9wZXJhdGlvbnMgbGlrZSBBcnJheVthXT0gYSoxMDArYWdlKmEuIG5vdGljZSBhCiAgICBmb3IgKHZhciBtID0gMDsgbSA8IFZhbHVlVG9TZXQubGVuZ3RoOyBtKyspIHsKICAgICAgaWYgKFZhbHVlVG9TZXRbbV0gPT0gU3BsaXRbMV0gJiYgIS9eW2Etel0rJC9pLnRlc3QoVmFsdWVUb1NldFttICsgMV0pKSB7CiAgICAgICAgLy8gdmFsdWUgaXMgYmVlbiBzZXQgLiByZXBsYWNpbmcgaW5kZXggdmFsdWUgYSB3aXRoIGl0ZWFydG9yIHZhbHVlIDAsMSwyLCBldGMuCiAgICAgICAgTmV3VmFsdWVUb1NldCA9IE5ld1ZhbHVlVG9TZXQgKyBpdGVyYXRvcjsKICAgICAgfSBlbHNlIHsKICAgICAgICBOZXdWYWx1ZVRvU2V0ID0gTmV3VmFsdWVUb1NldCArIFZhbHVlVG9TZXRbbV07CiAgICAgIH0KICAgIH0KCiAgICB2YXIgaXRlcmF0ID0gZmFsc2U7IC8vZ2F2ZSBpdCBhIGRpZmZlcmVudCBuYW1lIHNvIGl0IHdvdWxkIG5vdCBmdWNrIHVwIHdpdGggZm9yIGxvb3AgaXRlcmF0b3IKCiAgICBOZXdWYWx1ZVRvU2V0ID0gQ2FsY3VsYXRlVmFsdWVzKE5ld1ZhbHVlVG9TZXQsIGosIENvbXBsZXRlVG9rZW5WYWx1ZUxpc3QpOwogICAgU2V0QXJyYXlvclN0cmluZ0VsZW1lbnQoT3JpZ2luYWxFbGVtZW50LCBBcnJheUVsZW1lbnQsIENvbXBsZXRlVG9rZW5WYWx1ZUxpc3QsIGl0ZXJhdCwgTmV3VmFsdWVUb1NldCwgdG9rZW5zLCBFeGVjdXRpb25TdGFjaywgTGluZWJ5bGluZVNvdXJjZWRhdGEpOwogIH0gLy8gdGhpcyBjb25kaXRpb24gZW5hYmxlcyBwcm9ncmFtIHRvIG9ubHkgcnVuICBBcnJheVthXT0geHl6IHdoZW4gaXRlcmF0b3IgaXMgYS4gSXQgZGlzYWxsb3dzIHJ1bm5pbmcgQXJyYXlbYmxhYmxhYmxhXT14eXoKCgogIGlmIChPcmlnaW5hbEl0ZXJhdG9yID09IFNwbGl0WzFdKSB7CiAgICBpZiAoU3BsaXRbMV0gPT0gVmFsdWVUb1NldCkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gdHJ1ZTsKICAgICAgU2V0QXJyYXlvclN0cmluZ0VsZW1lbnQoT3JpZ2luYWxFbGVtZW50LCBBcnJheUVsZW1lbnQsIENvbXBsZXRlVG9rZW5WYWx1ZUxpc3QsIF9pdGVyYXRvciwgVmFsdWVUb1NldCwgdG9rZW5zLCBFeGVjdXRpb25TdGFjaywgTGluZWJ5bGluZVNvdXJjZWRhdGEpOwogICAgfSAvLyBmb3Igb3BlcmF0aW9ucyBsaWtlIEFycmF5W2FdPWFnZW9uZSoxMDAKCgogICAgaWYgKCFkYXRhLmluY2x1ZGVzKFNwbGl0WzFdKSAmJiBPcmlnaW5hbEl0ZXJhdG9yID09IFNwbGl0WzFdKSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gZmFsc2U7CiAgICAgIFZhbHVlVG9TZXQgPSBDYWxjdWxhdGVWYWx1ZXMoVmFsdWVUb1NldCwgaiwgQ29tcGxldGVUb2tlblZhbHVlTGlzdCk7CiAgICAgIFNldEFycmF5b3JTdHJpbmdFbGVtZW50KE9yaWdpbmFsRWxlbWVudCwgQXJyYXlFbGVtZW50LCBDb21wbGV0ZVRva2VuVmFsdWVMaXN0LCBfaXRlcmF0b3IyLCBWYWx1ZVRvU2V0LCB0b2tlbnMsIEV4ZWN1dGlvblN0YWNrLCBMaW5lYnlsaW5lU291cmNlZGF0YSk7CiAgICB9CiAgfSAvL21pZ2h0IGhhdmUgdG8gYWRkIG1vcmUgY29uZGl0aW9ucyBpbiB0aGUgZnV0dXJlCiAgZWxzZSB7CiAgICAgIHZhciBfaXRlcmF0b3IzID0gZmFsc2U7CiAgICAgIFZhbHVlVG9TZXQgPSBDYWxjdWxhdGVWYWx1ZXMoVmFsdWVUb1NldCwgaiwgQ29tcGxldGVUb2tlblZhbHVlTGlzdCk7CiAgICAgIFNldEFycmF5b3JTdHJpbmdFbGVtZW50KE9yaWdpbmFsRWxlbWVudCwgQXJyYXlFbGVtZW50LCBDb21wbGV0ZVRva2VuVmFsdWVMaXN0LCBfaXRlcmF0b3IzLCBWYWx1ZVRvU2V0LCB0b2tlbnMsIEV4ZWN1dGlvblN0YWNrLCBMaW5lYnlsaW5lU291cmNlZGF0YSk7CiAgICB9Cn0KCmZ1bmN0aW9uIEFkZHRvRXhlY3V0aW9uU3RhY2soc3RhY2ssIGtleXdvcmQsIGtleXdvcmRVc2UsIHZhcmlhYmxlLCB2YWx1ZSwgbWVzc2FnZSwgTGluZW51bWJlcikgewogIHN0YWNrLnB1c2goewogICAga2V5d29yZDoga2V5d29yZCwKICAgIGtleXdvcmRVc2U6IGtleXdvcmRVc2UsCiAgICB2YXJpYWJsZTogdmFyaWFibGUsCiAgICB2YWx1ZTogdmFsdWUsCiAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgTGluZW51bWJlcjogTGluZW51bWJlcgogIH0pOwp9CgpleHBvcnQgeyBJc1Jlc2VydmVkS2V5d29yZCwgR2V0Q2xlYW5Tb3VyY2VkYXRhLCBHZXRjbGVhbmVkRXhwcmVzc2lvbiwgRm9yTG9vcFNldE1ldGFkYXRhLCBnZXRMb29wSW5kZXhTdGFydCwgQWRkRWxlbWVudFRvQXJyYXksIFJlc2V0VmFsdWUsIEhhbmRsZUJsb2NrcywgSGFuZGxlQ29uZGl0aW9ucywgQXNzaWdub3JVcGRhdGVWYWx1ZXMsIFB1c2hHZXRBcnJheUluZGV4VmFsdWUsIFB1c2hTZXRBcnJheUluZGV4VmFsdWUsIGlzQXJyYXlPcGVyYXRpb24sIEdldENvbmRpdGlvblZhbHVlLCBDYWxjdWxhdGVWYWx1ZXMsIGhhbmRsZW11bHRDb25kaXRpb25zLCBDcmVhdGVBcnJheUVsZW1lbnQsIFNldEFycmF5b3JTdHJpbmdFbGVtZW50LCBGb3JMb29wQXJyYXlvclN0cmluZ091dHB1dCwgR2V0QXJyYXlvclN0cmluZ0VsZW1lbnQsIEFjY2VwdElucHV0YW5kU2V0VmFsdWUsIFNwbGl0RWxlbWVudHNBcnJheSwgU2V0VmFsdWVzLCBVcGRhdGVVcGRhdGVkX3Rva2Vuc3dpdGhWYWx1ZXMsIFNldEFycmF5SW5kZXhWYWx1ZSwgQWRkdG9FeGVjdXRpb25TdGFjayB9Ow=="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-BE/Scripts/main.js"],"names":["SourceDataReplaceforEasyParsing","ActiveLangugaeKeywords","RemoveQuotes","RemoveBrackets","Count","IsSpecialChar","v","i","IsConditionalOperator","e","includes","IsReservedKeyword","Print","If","isPureEval","element","test","isCalculation","isNumber","charAt","length","isArrayOperation","GetCleanSourcedata","sourcedata","cleaned_sourcedata","impurities","forEach","indexOf","push","elements","split","index","filter","item","GetcleanedExpression","expression","replace","SplitElementsArray","multiCal","StringVar","StrVar","j","flag","getLoopIndexStart","mutable_tokens","check","setIndex","value","handlemultConditions","condition","substring","SweepedElement","operator","AddElementToArray","Sourcedata","updated_tokens","ExecutionStack","LinebylineSourcedata","token","Split","Array","ElementtoPush","find","el","name","ArrayEl","ArrayValue","indexofArray","message","Linenumber","AddtoExecutionStack","AcceptInputandSetValue","tokens","console","log","SetInputValueAs","AcceptAs","prompt","CalculateValues","calculation","result","calculationArray","SetValues","joinStringVar","join","NewStringVar","eval","toString","PushSetArrayIndexValue","data","type","ValueToSet","PushGetArrayIndexValue","CreateArrayElement","Value","iterator","ArrayElement","SetArrayorStringElement","OriginalElement","NewValue","variable","indexCollected","Element","GetArrayorStringElement","undefined","ForLoopArrayorStringOutput","elementValue","global","CurrentElement","FoundValue","output","ArrayElementValue","UpdateUpdated_tokenswithValues","payload","a","b","HandleBlocks","StoreResult","ArrayBrackets","x","pop","startIndex","EndIndex","HandleConditions","SplitArray","Values","ForLoopConditionValue","SplitandJoin","array","Joinarray","AccumulateValue","ResetValue","AssignorUpdateValues","OriginalIterator","varvalue","FinalValue","AssignmentError","keywords","error","varvalueType","findvalueinMemory","memory_value","checkifUndefined","mv","undefined_error","Itemvalue","ItemvalueLength","identifier","n","ArrayItem","m","GetConditionValue","ConditionValue","MultConditionsCount","parseInt","BuiltMultConditonWithValues","LastResult","ForLoopSetMetadata","ForLoopMetaData","IterationStart","iterationStart","IterationEnd","iterationEnd","elementLength","ForLoopSourcedataIndexStart","Cycle","SetArrayIndexValue","SourceData","CompleteTokenValueList","NewValueToSet","newInterator","iterat","stack","keyword","keywordUse"],"mappings":"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","sourcesContent":["import { SourceDataReplaceforEasyParsing } from '../Scripts/DataCleaning';\n\nimport { ActiveLangugaeKeywords } from '../Compiler/constants';\n\nimport { RemoveQuotes, RemoveBrackets, Count } from '../Scripts/Helpers';\n\n//ANCHOR - Important functions to be used while parsing\n\n//Checking if string is empty. The way we check string is empty or not boils down to how cleaned_sourcedata sees empty string s\n\n//Needs improvement\n\nfunction IsSpecialChar(v, i) {\n  return v[i] == '?' || (v[i] == '=' && v[i + 1] != '=' && v[i - 1] != '=') || v[i] == '|' || v[i] == ';' || v[i] == '&' || v[i] == '^' || v[i] == '%' || v[i] == '$' || v[i] == '#' || v[i] == '@' || v[i] == '!' || v[i] == ':' || v[i] == '+' || v[i] == ',' || v[i] == '%' || v[i] == '-' || v[i + 1] == ')' || v[i] == '/' || v[i] == '*' || v[i] == '>' || v[i] == '<';\n}\n\nfunction IsConditionalOperator(e) {\n  return e.includes('>') || e.includes('<') || e.includes('==') || e.includes('!=');\n}\n\nfunction IsReservedKeyword(e) {\n  return e.includes('') || e.includes('') || e.includes('') || e.includes('') || e.includes('') || e.includes(ActiveLangugaeKeywords.Print) || e.includes(ActiveLangugaeKeywords.If) || /* cleaned_sourcedata[k + 1] == '='*/ e == '}';\n}\n\n//Checking if element is a pure evaluation like 1+2, 20*34, 40+6-98 etc\n\nfunction isPureEval(element) {\n  if (/^([-+]?[0-9]*\\.?[0-9]+[\\/\\+\\-\\*])+([-+]?[0-9]*\\.?[0-9]+)*$/gm.test(element)) {\n    return true;\n  }\n}\n\n//Checking if an element is calculation to be performed\n\nfunction isCalculation(element) {\n  if (!isNumber(element)) {\n    if ((element.includes('+') || element.includes('%') || element.includes('-') || element.includes('*') || element.includes('/')) && ((element.includes('(') && element.includes(')')) || (!element.includes('(') && !element.includes(')'))) && element.charAt(element.length - 1) != '+') {\n      return true;\n    }\n  }\n}\n\n//removing brackets from element\n\nfunction isArrayOperation(element) {\n  //To find Patterns like Array[2], Array[index] etc\n\n  element = RemoveBrackets(element);\n\n  if (element.charAt(element.length - 1) == ']' && element.includes('[') && element.charAt(0) != '[') {\n    return true;\n  }\n}\n\n//preparing sourcedata for easy parsing by handling new lines, enters etc.\n//cleaning up the data to get a suitable version of sourcedata. it's better to get suitable version because users can type what they wish but we need to maintain\n//integrity of program in every possible condition. So, we clean and refactor raw code to remove unnecessary data.\n\nfunction GetCleanSourcedata(sourcedata, cleaned_sourcedata, impurities) {\n  sourcedata = SourceDataReplaceforEasyParsing(sourcedata);\n\n  sourcedata.forEach((element) => {\n    //finding the elements which has =\" in it so that to seprate them into name,==,swanand if input is name=\"swanand\".\n\n    //We define such elements as impurites. We process them, bring them into a suitable form and push to cleaned_spircedata\n\n    //This is our cleaning factory\n\n    if (!element.includes('==') && (element.indexOf('=\"') > -1 || element.indexOf('=') > 0 || element.charAt(0) == '=') && element != '==') {\n      impurities.push(element); //push such element as impurity in impurities\n\n      let elements = element.split('=');\n      let index = cleaned_sourcedata.length;\n\n      cleaned_sourcedata[index] = elements[0];\n      cleaned_sourcedata[index + 1] = '=';\n      cleaned_sourcedata[index + 2] = elements[1];\n    }\n\n    //as long as element is pure, push it to new and clean version of sourcedata\n    if (!impurities.includes(element)) {\n      cleaned_sourcedata.push(element);\n    }\n\n    //\n  });\n\n  //removing empty \"\" values for final version of sourcedata\n  //SECTION FInal sourcedata cleaning\n\n  cleaned_sourcedata = cleaned_sourcedata.filter(function (item) {\n    return item !== '';\n  });\n\n  return cleaned_sourcedata;\n}\n\nfunction GetcleanedExpression(expression) {\n  expression = expression.replace(/ /g, '');\n\n  expression = RemoveQuotes(expression);\n  expression = expression.replace(/\\(/g, '');\n  expression = expression.replace(/\\)/g, '');\n\n  return expression;\n}\n\n//To convert 'a+b-c*d' into ['a','+','-','c','*','d']\n\nfunction SplitElementsArray(element, multiCal) {\n  element = multiCal ? element : RemoveBrackets(element);\n\n  if (IsConditionalOperator(element)) {\n    element = element.replace(/' '/g, '');\n  }\n  //get index of operation from updated tokens, as a reference\n\n  var StringVar = []; // here StrVar values will get pushed\n  var StrVar = ''; // its used to read var values of any type (anna,a,bad,x etc.) and push it to StringVar\n  //  var HindiRegex = /(?:^|\\s)[\\u0900-\\u097F]+?(?:\\s|$)/g\n\n  for (let j = 0; j < element.length; j++) {\n    // find if element[j] is alphabet\n\n    let flag = false;\n\n    if (/^[A-Z]+$/i.test(element[j]) || element[j] == '[' || element[j] == ']' || element[j] == '\"' || element[j] == \"'\" || isNumber(element[j])) {\n      StrVar = StrVar + element[j]; //keep on pushing for long variable names as strings e.g hello, kalaam\n\n      flag = true;\n    }\n\n    if (element[j] == ')' || element[j] == '(') {\n      StringVar.push(element[j]);\n      flag = true;\n    }\n\n    //to solve [\"Age \"] into [\"Age\"], so that it can correctly find its value in updated_tokens\n\n    if (element[j] == ' ' && element[j + 1] != '+') {\n      StrVar = StrVar + element[j];\n      flag = true;\n    }\n\n    //for checking equivalency\n    if (element[j] == '=' && element[j + 1] == '=') {\n      StringVar.push(StrVar);\n\n      StringVar.push(element[j] + element[j + 1]);\n\n      StrVar = '';\n      flag = true;\n\n      j = j + 1;\n    }\n\n    //for checking !=\n    if (element[j] == '!' && element[j + 1] == '=') {\n      StringVar.push(StrVar);\n\n      StringVar.push(element[j] + element[j + 1]);\n\n      StrVar = '';\n      flag = true;\n    }\n\n    if (IsSpecialChar(element, j)) {\n      StringVar.push(StrVar); //push whatever string we have got because it's a string now, cant push operators with it\n\n      //finding the calculations that required brackets and adding them\n\n      if (element[j + 1] != ')') {\n        StringVar.push(element[j]); // fixing the bias\n      }\n\n      StrVar = ''; // emptyig the StrVar for next variable\n      flag = true;\n    }\n\n    //pushing hindi chars here\n    //UPDATED\n\n    if (flag == false) {\n      StrVar = StrVar + element[j];\n\n      flag = true;\n    }\n\n    if (element[j + 1] == null) {\n      StringVar.push(StrVar); //fixing bias for last element\n\n      flag = true;\n    }\n  }\n\n  return StringVar;\n}\n\n//get the start of loop in tokens array\n\nfunction getLoopIndexStart(mutable_tokens, j, check, setIndex) {\n  while (mutable_tokens[j].value != check) {\n    if (mutable_tokens[j + 1].value == check) {\n      setIndex = j + 1;\n    }\n\n    j++;\n  }\n  return setIndex;\n}\n\n//this is how we handle mulitiple conditions like  (ageone==10 && AverageAge<1000 && agetwo>100 || ageone==10) OR (ageone==10 )\n\nfunction handlemultConditions(element) {\n  for (let i = 0; i < element.length; i++) {\n    if (element.charAt(i) == '&' || element.charAt(i) == '|') {\n      let condition = element.substring(0, i + 2);\n\n      let SweepedElement = element.replace(condition, '');\n      let operator = '';\n\n      if (element.charAt(i) == '&') {\n        condition = condition.replace('&&', '');\n        operator = '&&';\n      } else if (element.charAt(i) == '|') {\n        condition = condition.replace('||', '');\n        operator = '||';\n      }\n\n      return {\n        SweepedElement,\n        condition,\n        operator,\n      };\n    }\n  }\n}\n\n//For operarions like Numbers.(23)\n\nfunction AddElementToArray(Sourcedata, index, updated_tokens, ExecutionStack, LinebylineSourcedata) {\n  let token = Sourcedata[index].value;\n\n  token = token.replace('', '');\n  let Split = token.split('.');\n  let Array = Split[0];\n  let ElementtoPush = RemoveBrackets(Split[1]);\n\n  if (ElementtoPush.charAt(0) == '\"' || ElementtoPush.charAt(0) == \"'\") {\n    ElementtoPush = ElementtoPush;\n  } else {\n    ElementtoPush = updated_tokens.find((el) => el.name == ElementtoPush).value;\n  }\n\n  let ArrayEl = updated_tokens.find((el) => el.name == Array);\n\n  let ArrayValue = ArrayEl.value;\n  if (ArrayValue == '[]') {\n    ArrayValue = ArrayValue.split(',');\n  }\n  ArrayValue.push(ElementtoPush);\n\n  let indexofArray = updated_tokens.indexOf(ArrayEl);\n\n  ArrayValue = ArrayValue.filter((el) => el != '[]');\n\n  updated_tokens[indexofArray].value = ArrayValue;\n\n  let message = ' ' + '\"' + ElementtoPush + '\"' + '  ' + +'\"' + Array + '\"' + '  (Array)  (Store)  | ';\n\n  let expression = Sourcedata[index].value;\n  //\n\n  let Linenumber = LinebylineSourcedata.indexOf(expression);\n  Linenumber += 1;\n\n  AddtoExecutionStack(ExecutionStack, '', '  VALUE    ', Array, ElementtoPush, message, Linenumber);\n}\n\nfunction AcceptInputandSetValue(tokens, index, updated_tokens, ExecutionStack, LinebylineSourcedata) {\n  console.log('index:', index);\n  console.log('tokens:', tokens);\n  let SetInputValueAs = tokens[index].AcceptAs;\n\n  var value = prompt(' ' + '\"' + SetInputValueAs + '\"' + '       ?'); // eslint-disable-line\n\n  updated_tokens.push({\n    name: SetInputValueAs,\n\n    value: value,\n  });\n  console.log('updated_tokens:', updated_tokens);\n\n  let message = ' ' + '\"' + SetInputValueAs + '\"' + '  ' + '\"' + value + '\"' + '  Value  Computer  Memory  (Store)  | ';\n\n  let expression = '(' + SetInputValueAs + ')';\n\n  let Linenumber = LinebylineSourcedata.indexOf(expression);\n  Linenumber += 1;\n\n  AddtoExecutionStack(ExecutionStack, '', '  VALUE    ', SetInputValueAs, value, message, Linenumber);\n}\n\n//One of the most frequently needed function\n\n//it is used to calculate variable values like x= y*100 (y*100 will be calculated here)\n\n//or Array[i]= x+ageone. (x+ageone) is caluculated here\n\n//If you are not getting the values right, this is where you should start debugging\n\nfunction CalculateValues(calculation, j, updated_tokens, multiCal) {\n  var result;\n  try {\n    var calculationArray = SplitElementsArray(calculation, multiCal);\n\n    var StringVar = SetValues(calculationArray, updated_tokens);\n\n    let joinStringVar = StringVar.join('');\n\n    let NewStringVar = '';\n    //evaluate the exepression as it is when multical is true\n    //for expressions like c=(ageone+agetwo)/2 + (ageone+agetwo)*2\n\n    if (isNumber(joinStringVar.charAt(0)) || multiCal) {\n      NewStringVar = eval(joinStringVar);\n    }\n\n    //Not realted to numbers at all but strings\n    else if (!isNumber(joinStringVar.charAt(0))) {\n      StringVar.forEach((el) => {\n        if (el != '+') {\n          el = el.toString();\n          NewStringVar = NewStringVar + el;\n        }\n      });\n    } else {\n      StringVar = StringVar;\n    }\n\n    result = StringVar.length > 1 ? NewStringVar : StringVar;\n  } catch (e) {\n    //if c=a+b, and either b,a is undefined\n    result = e;\n  }\n\n  return result;\n}\n\n//Have to move this two functions to Pushfunctions.js\n\nfunction PushSetArrayIndexValue(value, tokens, data, i) {\n  tokens.push({\n    type: 'SetArrayIndexValue',\n    value: value,\n    ValueToSet: data[i + 2], //skipping =\n  });\n}\n\nfunction PushGetArrayIndexValue(value, tokens) {\n  tokens.push({\n    type: 'GetArrayIndexValue',\n    value: value,\n  });\n}\n\n//Performs only Array Operations\n\n//converts Array[a] into [Array, a]\n\n//This helps us to find their respective values easily in updated_tokens\n\nfunction CreateArrayElement(Value, iterator) {\n  let ArrayElement = RemoveBrackets(Value);\n\n  //Seprating out index identifier. a from Array[a]\n  let element = ArrayElement;\n  element = element.replace(']', '');\n\n  let Split = element.split('[');\n\n  Split[1] = iterator;\n\n  Split = Split.join('[');\n\n  Split = Split + ']';\n  ArrayElement = Split;\n\n  ArrayElement = ArrayElement.replace(/' '/g, '');\n\n  return ArrayElement;\n}\n\n//This function is used to get array or string elements. e.g Array[2], String[5]\n\n//Heavily used by compiler in loops\n\nfunction SetArrayorStringElement(OriginalElement, ArrayElement, updated_tokens, iterator, NewValue, tokens, ExecutionStack, LinebylineSourcedata) {\n  let variable = ArrayElement;\n\n  ArrayElement = ArrayElement.replace(']', '');\n\n  let Split = ArrayElement.split('[');\n\n  let indexCollected = Split[1];\n\n  let Element = updated_tokens.find((el) => el.name == NewValue);\n\n  //If element is an assigned variable. Find the value and set it.\n\n  if (Element) {\n    if (isCalculation(NewValue)) {\n      // This is to set x= y*100, Array[i]= x+ageone.\n\n      let token = tokens.find((el) => el.value == NewValue);\n      let j = tokens.indexOf(token) - 1;\n\n      let value = CalculateValues(NewValue, j, updated_tokens);\n\n      NewValue = value;\n    }\n\n    NewValue = Element.value;\n  }\n\n  if (iterator == true) {\n    //for Array[a]=a\n\n    if (!isCalculation(NewValue)) {\n      NewValue = indexCollected;\n    }\n  }\n\n  //if fresh newvalue is foumd. the one which doesnt yet exist in the program, then run this.\n  else {\n    NewValue = NewValue;\n  }\n\n  let token = updated_tokens.find((el) => el.name == Split[0]);\n\n  let index = updated_tokens.indexOf(token);\n\n  //updated_tokens values will also get updated thrugh this reference\n  let value = token.value;\n\n  value = value.toString();\n\n  value = value.replace(']', '');\n  value = value.replace('[', '');\n  value = value.split(',');\n\n  if (iterator == true) {\n    //This is for Array[a]=a\n\n    value[indexCollected] = indexCollected;\n  } else {\n    //Run when iterator is not needed. iterator is present in ArrayEleMENT ALREADY. This is for Array[i]='Swanand'\n\n    value[indexCollected] = NewValue;\n  }\n\n  //converting array back into the string representation of it for better printabillity\n\n  updated_tokens[index].value = '[' + value.toString() + ']';\n\n  let message = ' Computer , ' + '\"' + variable + '\"' + ' , ' + '\"' + value[indexCollected] + '\"' + '  VALUE    Memory  (Store)   |';\n\n  let expression = OriginalElement;\n\n  expression = GetcleanedExpression(expression);\n\n  LinebylineSourcedata.forEach((el, index) => {\n    el = GetcleanedExpression(el);\n\n    if (el == expression) {\n      AddtoExecutionStack(ExecutionStack, '=', '  VARIABLE   VALUE     ', variable, value[indexCollected], message, index + 1);\n    }\n  });\n  // let Linenumber=''\n}\n\n//Printing a specific array element like Array[0], Array[3] etc.\n\n//Printing a dynamic array element like Array[i], Array[i+1] etc.\n\nfunction GetArrayorStringElement(element, updated_tokens, NewValue) {\n  element = element.replace(']', '');\n\n  let Split = element.split('[');\n\n  let indexCollected = Split[1];\n\n  if (isNumber(indexCollected)) {\n    let token = updated_tokens.find((el) => el.name == Split[0]);\n\n    let index = updated_tokens.indexOf(token);\n\n    let value = token.value.toString();\n\n    if (token.type == 'Array') {\n      value = value.replace(']', '');\n      value = value.replace('[', '');\n      value = value.split(',');\n\n      if (NewValue != undefined) {\n        if (!isNumber(NewValue)) {\n          NewValue = RemoveQuotes(NewValue);\n          NewValue = NewValue.replace(/'/g, '');\n          NewValue = NewValue.replace(//g, '');\n        } else {\n          NewValue = NewValue;\n        }\n\n        value[indexCollected] = NewValue;\n\n        updated_tokens[index].value = value;\n      } else {\n        value = value[indexCollected];\n      }\n    } else if (token.type == 'string' || token.type != 'Array') {\n      value = value.charAt(indexCollected);\n    }\n\n    return value;\n  }\n}\n\n//Needs improvement\n\nfunction ForLoopArrayorStringOutput(elementValue, iterator, updated_tokens, global) {\n  let CurrentElement = '';\n  CurrentElement = elementValue.name + '[' + iterator + ']';\n  //Foundvalue is decided in the function depending upon the type.\n  //if it's array run array[2], if its string run string.charAt(2)\n  let FoundValue = GetArrayorStringElement(CurrentElement, updated_tokens);\n\n  global.output = global.output + FoundValue + '\\n';\n\n  return;\n}\n\n//Move it to typechecking.js\n\nfunction isNumber(element) {\n  if (/^[0-9]*$/gm.test(element)) {\n    return true;\n  }\n}\n\n//one of the heavily used function\n\n//converts ['a','+','b'] into [a+b] and then into [23,+,7] provided a=23 and b=7\n\nfunction SetValues(StringVar, updated_tokens) {\n  StringVar.forEach((el, i) => {\n    el = el.replace(/\\ /g, '');\n\n    if (el.charAt(el.length - 1) == ']') {\n      let ArrayElementValue = GetArrayorStringElement(el, updated_tokens);\n\n      ArrayElementValue = ArrayElementValue.replace(/['\"]+/g, '');\n\n      StringVar[i] = ArrayElementValue;\n    }\n\n    //finding variable value here\n\n    let token = updated_tokens.find((element) => element.name == el);\n\n    if (token != undefined) {\n      // if exists set it's value\n      StringVar[i] = token.value;\n    }\n  });\n\n  return StringVar;\n}\n\n//ANCHOR\n//Now we hae converted found \"a+b-d\" into [a,+,b,-,d]\n\n//Now lets run a loops on it to convert into [5,+,6,-,7]\n\n//Updated_tokens is updated by replacing \"value:a+b-d\" with \"value:5+6-7\".\n//after eval function it will be set as \"value:2\"\n\nfunction UpdateUpdated_tokenswithValues(payload) {\n  let StringVar = payload;\n\n  //run if it's arithmetic operation like [\"5+6-7\"]\n  if (isNumber(StringVar[0])) {\n    let value = eval(StringVar.join(''));\n\n    return value;\n  } else if (StringVar[1] == '==') {\n    let a = StringVar[0].toString();\n    let b = StringVar[2].toString();\n\n    a = a.replace(/\"/g, '');\n    a = a.replace(/'/g, '');\n\n    b = b.replace(/'/g, '');\n    b = b.replace(/\"/g, '');\n\n    let value = eval(a == b);\n\n    return value;\n  }\n\n  //run if it's String operation like [\"reddit\",\"+\", \"is goat\"]\n  else {\n    if (StringVar.includes('+')) {\n      StringVar[StringVar.indexOf('+')] = ' ';\n    }\n\n    let value = StringVar.join('');\n\n    return value;\n  }\n}\n\n//Handle Blocks is a function which takes care of nested block by taking care of nested '{' and '}' brackets\n\n//it uses the stack to push and pop brackets to accurately identify start and the end of the block\n\nfunction HandleBlocks(mutable_tokens, j, StoreResult) {\n  //StoreResult is used to push data into it in case of forloop or while loop conetext\n\n  //for a normal block like conditional block it might not need to be used yet\n\n  let ArrayBrackets = [];\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    if (mutable_tokens[j].value == '{') {\n      ArrayBrackets.push({\n        type: '{',\n        index: j,\n      });\n\n      if (StoreResult != undefined) {\n        StoreResult.push(mutable_tokens[j]);\n      }\n    } else if (mutable_tokens[j].value == '}') {\n      //As soon as open bracket is found, pop the last arraybracket stack value\n      //that's the match\n\n      let x = ArrayBrackets.pop();\n\n      if (StoreResult != undefined) {\n        StoreResult.push(mutable_tokens[j]);\n\n        mutable_tokens[x.index].startIndex = x.index;\n        mutable_tokens[x.index].EndIndex = j;\n      }\n\n      //set start and end index value for that { } block\n      mutable_tokens[x.index].startIndex = x.index;\n      mutable_tokens[x.index].EndIndex = j;\n      if (ArrayBrackets.length == 0) {\n        //As soon as stack is empty we have finished our last lblock\n\n        break;\n      }\n    } else {\n      if (StoreResult != undefined) {\n        StoreResult.push(mutable_tokens[j]);\n      }\n    }\n\n    j++;\n  }\n\n  return {\n    StoreResult,\n    j,\n  };\n}\n\n//Handles conditional statements\n\n//It does not return true or false rather it tells us whether to skip the execution or continue execution depending upon truth value of condition\n\n//If true 'i' is set to current index position, if false 'i' is skipped until the end of conditional block/\n\nfunction HandleConditions(sourcedata, i, updated_tokens) {\n  let element = sourcedata[i].value;\n\n  //let token= updated_tokens.find(el=> el.originalvalue==sourcedata[i].value)\n\n  let SplitArray = SplitElementsArray(element);\n\n  let Values = SetValues(SplitArray, updated_tokens);\n\n  let ForLoopConditionValue = UpdateUpdated_tokenswithValues(Values);\n\n  if (ForLoopConditionValue == false) {\n    while (sourcedata[i + 1].value != '}') {\n      //tokens.splice(i+1, 1);\n\n      //No need to delete tokens, we are iust skipping over the values so that they won't be printed or run\n\n      i++;\n    }\n\n    return i;\n  }\n}\n\n//Handly function to split and join Arrays\n\nfunction SplitandJoin(array, output, element) {\n  array[1] = output;\n\n  let Joinarray = array.join('[') + ']';\n  element = Joinarray;\n\n  return element;\n}\n\nvar AccumulateValue = '';\n\nfunction ResetValue() {\n  AccumulateValue = '';\n}\n\n//One of the most important functions\n\n//Takes care of all kind of assignments provided in raw sourcecode\n\n//Message=\"Hello World\", Numbers=[1,2,3,4,5], Numbers[2]=23 etc.\n\n//If a certain value is not being assigned properly start debugiing here\n\nfunction AssignorUpdateValues(sourcedata, i, updated_tokens, iterator, OriginalIterator, global, ExecutionStack, LinebylineSourcedata) {\n  let variable = sourcedata[i - 1].value;\n\n  let varvalue = sourcedata[i + 1].value;\n\n  var FinalValue = '';\n\n  if (varvalue == '\"' || varvalue == \"'\") {\n    varvalue = ' ';\n  }\n\n  //if someone accidenlty types Name= or any other primary keywords\n\n  function AssignmentError(value, keywords) {\n    if (value != '') {\n      for (let x in keywords) {\n        if (keywords[x].includes(value)) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n  }\n\n  //checkAssignmentError(varvalue, ActiveLangugaeKeywords);\n\n  var error = AssignmentError(varvalue, ActiveLangugaeKeywords);\n\n  if (error) {\n    let error = 'Assignment error in ' + '\"' + variable + ' = ' + '\"';\n\n    global.error.push(error);\n  }\n\n  let varvalueType = sourcedata[i + 1].type;\n\n  function findvalueinMemory(v) {\n    return updated_tokens.find((el) => el.name == v);\n  }\n\n  let memory_value = findvalueinMemory(varvalue);\n\n  //if a=b and user haven't defined b yet\n  //doesn't work on a=b+c, where b is undefined, calculateValues function takes care of that\n\n  function checkifUndefined(v, mv, type) {\n    if (type == 'variable' && !isNumber(v) && mv == undefined) {\n      return `Cannot set ${variable} to undefined : ${v} is undefined `;\n    } else {\n      return false;\n    }\n  }\n\n  let undefined_error = checkifUndefined(varvalue, memory_value, varvalueType);\n\n  //if we have any undefined variables\n  if (undefined_error != false) {\n    global.error.push(undefined_error);\n  }\n\n  //to count the length, Numbers.()s\n  else if (varvalue.includes('')) {\n    let Split = varvalue.split('.');\n\n    let item = Split[0];\n\n    let Itemvalue = updated_tokens.find((el) => el.name == item).value;\n\n    if (Itemvalue.includes('[')) {\n      Itemvalue = Itemvalue.toString().split(',');\n    } else if (Itemvalue.length == 1) {\n      Itemvalue = Itemvalue;\n    } else {\n      Itemvalue = Itemvalue.toString();\n    }\n\n    let ItemvalueLength = Itemvalue.length;\n\n    FinalValue = ItemvalueLength;\n\n    updated_tokens.push({\n      name: variable,\n\n      value: ItemvalueLength,\n\n      identifier: i,\n      type: 'CalLength',\n    });\n  }\n\n  //this runs only for operations like x=Numbers[a]\n  else if (varvalueType == 'GetArrayIndexValue') {\n    let n = updated_tokens.find((el) => el.name == variable);\n\n    let index = updated_tokens.indexOf(n);\n\n    //Iterator is used only when we are looping over provided index not for the index that needs to be calculated\n    let element = varvalue.replace(']', '');\n\n    if (element.includes('+')) {\n      var Split = element.split('+');\n    } else if (element.includes('-')) {\n      var Split = element.split('-');\n    }\n\n    var flag = false;\n\n    //For operations like Name=Name+ Array[i]\n\n    if (element.includes('+') || (element.includes('-') && !Split[0].includes('['))) {\n      flag = true;\n\n      let token = updated_tokens.find((el) => el.name == Split[0]);\n      let index = updated_tokens.indexOf(token);\n\n      let ArrayItem = Split[1].split('[');\n\n      let output = CalculateValues(ArrayItem[1], i, updated_tokens);\n\n      let ArrayElement = SplitandJoin(ArrayItem, output, element);\n\n      //Get Numbers[3] value and now set it to our variable x\n      let value = GetArrayorStringElement(ArrayElement, updated_tokens);\n\n      AccumulateValue += value;\n\n      updated_tokens[index].value = AccumulateValue;\n      FinalValue = AccumulateValue;\n    } else {\n      var Split = element.split('[');\n    }\n\n    //for operations like x= Array[i+1] etc\n\n    if ((Split[1].includes('-') || Split[1].includes('+')) && !Split[1].includes('[')) {\n      let output = CalculateValues(Split[1], i, updated_tokens);\n\n      element = SplitandJoin(Split, output, element);\n    }\n\n    let token = updated_tokens.find((el) => el.name == Split[1]);\n\n    //for operations like Array[Age]. Here index is an already defined variable\n    if (token != undefined && OriginalIterator != Split[1] && token.name != '') {\n      element = SplitandJoin(Split, token.value, element);\n    }\n\n    //for operations like Array[i]: Looping over original index value\n    else if (OriginalIterator == Split[1]) {\n      element = SplitandJoin(Split, iterator, element);\n    }\n\n    let ArrayElement = element;\n\n    //Get Numbers[3] value and now set it to our variable x\n    let value = GetArrayorStringElement(ArrayElement, updated_tokens);\n    //\n    if (value != undefined) {\n      value = RemoveQuotes(value);\n    }\n\n    //\n\n    if (n != undefined && flag == false) {\n      updated_tokens[index].value = value;\n\n      FinalValue = value;\n    } else if (flag == false) {\n      updated_tokens.push({\n        name: variable,\n\n        value: value,\n\n        identifier: i,\n        type: sourcedata[i + 1].type,\n      });\n\n      FinalValue = value;\n    }\n  } else {\n    //if we are setting already defined value to new variable\n    let m = updated_tokens.find((el) => el.name == varvalue);\n\n    if (m != undefined) {\n      varvalue = m.value;\n\n      FinalValue = varvalue;\n    }\n\n    let n = updated_tokens.find((el) => el.name == variable);\n\n    if (n == undefined) {\n      //to check if the assigned value needs to be calculated. this is futher diveded in two types\n\n      if (isCalculation(varvalue)) {\n        //type 1- Age= 2020-2000\n\n        if (isPureEval(varvalue)) {\n          let value = eval(varvalue);\n\n          //write function for this, so repeatable\n          updated_tokens.push({\n            name: variable,\n\n            value: value,\n\n            identifier: i,\n            type: sourcedata[i + 1].type,\n          });\n\n          FinalValue = value;\n        }\n\n        //type 2- X= ageone+agetwo\n        else {\n          //performing the calculation\n          let multiCal = sourcedata[i + 1].multiCal;\n          let value = CalculateValues(varvalue, i, updated_tokens, multiCal);\n\n          updated_tokens.push({\n            name: variable,\n\n            value: value,\n\n            identifier: i,\n            type: sourcedata[i + 1].type,\n          });\n\n          FinalValue = value;\n        }\n      }\n\n      //if there is no need to calculate, push values as it is\n      else if (!isCalculation(varvalue)) {\n        updated_tokens.push({\n          name: variable,\n\n          value: varvalue,\n\n          identifier: i,\n          type: sourcedata[i + 1].type,\n        });\n\n        FinalValue = varvalue;\n      }\n    }\n\n    //if it's already assgined, reassign it with updated value\n    else {\n      varvalue = varvalue.toString();\n\n      if (varvalue.includes('-') || varvalue.includes('%') || varvalue.includes('+') || varvalue.includes('/') || varvalue.includes('*')) {\n        //\n\n        let NewValue = CalculateValues(varvalue, i, updated_tokens);\n\n        n.value = NewValue;\n\n        FinalValue = NewValue;\n      } else {\n        let index = updated_tokens.indexOf(n);\n        updated_tokens[index].value = varvalue;\n\n        FinalValue = varvalue;\n      }\n    }\n  }\n\n  //\n\n  let message = '';\n\n  if (isCalculation(sourcedata[i + 1].value) || sourcedata[i + 1].value.includes('')) {\n    message =\n      ' Computer       , ' +\n      '\"' +\n      sourcedata[i + 1].value +\n      '\"' +\n      '  (Solve)    ?' +\n      '\\n' +\n      '  ,  Computer ' +\n      '\"' +\n      sourcedata[i + 1].value +\n      '\"' +\n      '  Solve , ' +\n      '\"' +\n      variable +\n      '\"' +\n      '    Memory  (Store)  | ' +\n      '\\n' +\n      '  , ' +\n      '\"' +\n      sourcedata[i + 1].value +\n      '\"' +\n      '   (Value) , ' +\n      '\"' +\n      FinalValue +\n      '\"' +\n      '   |' +\n      '\\n' +\n      ' , Computer ' +\n      '\"' +\n      variable +\n      '\"' +\n      '  ' +\n      '\"' +\n      FinalValue +\n      '\"' +\n      '  VALUE    Memory  (Store)    |';\n  } else {\n    message = ' Computer , ' + '\"' + variable + '\"' + ' , ' + '\"' + varvalue + '\"' + '  VALUE    Memory  (Store)   |';\n  }\n\n  //This is the experession whcih is getting evaluated.\n\n  let expression = variable + '=' + varvalue;\n  //\n  expression = GetcleanedExpression(expression);\n\n  LinebylineSourcedata.forEach((el, index) => {\n    el = el.replace(/ /, '');\n\n    el = GetcleanedExpression(el);\n\n    if (el == expression) {\n      AddtoExecutionStack(ExecutionStack, '=', ' VARIABLE   VALUE     ', variable, varvalue, message, index + 1);\n    }\n  });\n}\n\n//GetConditionValue is our goto function to evaluate a condition to true or false\n\nfunction GetConditionValue(element, updated_tokens) {\n  var ConditionValue = false;\n\n  if (element.includes('&&') || element.includes('||')) {\n    let MultConditionsCount = parseInt(Count('&', element)) + parseInt(Count('|', element));\n\n    //this will be our final values\n    //converted as true&&false&&true||true\n    let BuiltMultConditonWithValues = '';\n    let LastResult = {};\n\n    //running for loop on original condition to calculates each individual condition and adding its value in BuiltMultConditonWithValues\n\n    for (let i = 0; i <= MultConditionsCount; i++) {\n      if (i == MultConditionsCount) {\n        let condition = LastResult.SweepedElement;\n        condition = condition.replace(/ /g, '');\n\n        let SplitArray = SplitElementsArray(condition);\n\n        let Values = SetValues(SplitArray, updated_tokens);\n\n        ConditionValue = UpdateUpdated_tokenswithValues(Values);\n\n        BuiltMultConditonWithValues = BuiltMultConditonWithValues + ConditionValue;\n      } else {\n        let result = handlemultConditions(element);\n\n        LastResult = result;\n\n        element = result.SweepedElement;\n        let condition = result.condition;\n        condition = condition.replace(/ /g, '');\n\n        let SplitArray = SplitElementsArray(condition);\n\n        let Values = SetValues(SplitArray, updated_tokens);\n\n        ConditionValue = UpdateUpdated_tokenswithValues(Values);\n\n        BuiltMultConditonWithValues = BuiltMultConditonWithValues + ConditionValue + result.operator;\n      }\n    }\n\n    //setting the final condition value in cases like  (ageone==10 && AverageAge<1000 && agetwo>100 || ageone==10)\n\n    ConditionValue = eval(BuiltMultConditonWithValues);\n  } else {\n    //let token= updated_tokens.find(el=> el.originalvalue==mutable_tokens[j].value)\n\n    let SplitArray = SplitElementsArray(element);\n    //\n\n    let Values = SetValues(SplitArray, updated_tokens);\n\n    Values = Values.filter(function (item) {\n      return item !== '' && item != \"'\" && item != \"='\" && item != '\"';\n    });\n\n    //Setting the final condition value in cases like  (ageone==10)\n\n    //\n    ConditionValue = UpdateUpdated_tokenswithValues(Values);\n  }\n\n  return ConditionValue;\n}\n\n//Getting every single information about our forloop\n\nfunction ForLoopSetMetadata(tokens, i, updated_tokens) {\n  var ForLoopMetaData = tokens[i + 1];\n\n  //Splitting the ForLoopMetaData values individually\n  var iterator = ForLoopMetaData.iterator;\n\n  var element = ForLoopMetaData.value;\n  var IterationStart = parseInt(ForLoopMetaData.iterationStart);\n\n  var IterationEnd = parseInt(ForLoopMetaData.iterationEnd);\n\n  //pushing index\n\n  //checking if iteration end is an predefined variable\n\n  let token = updated_tokens.find((el) => el.name == ForLoopMetaData.iterationEnd);\n\n  if (token != undefined) {\n    IterationEnd = parseInt(token.value);\n  }\n\n  // var ForLoopSourcedata = ForLoopMetaData.ForLoopSourcedata\n\n  var elementValue = updated_tokens.find((el) => el.name == element);\n\n  var elementLength = 0;\n\n  var ForLoopSourcedataIndexStart = 0;\n\n  var OriginalIterator = ForLoopMetaData.iterator;\n\n  // Run if start and end parameters are not given e.g  a   Name \n  // This is ran just to get Start and End parameters as they are not provided\n  if (ForLoopMetaData.iterationEnd == undefined) {\n    //run if element is array\n    if (elementValue.type == 'Array') {\n      elementLength = elementValue.value.split(',').length;\n\n      IterationStart = 0;\n      IterationEnd = elementLength - 1;\n    }\n\n    //run if element is String\n    else {\n      elementLength = elementValue.value.length;\n      IterationStart = 0;\n      IterationEnd = elementLength - 1;\n    }\n  }\n\n  var Cycle = IterationEnd;\n\n  return {\n    ForLoopSourcedataIndexStart,\n    Cycle,\n    OriginalIterator,\n    IterationStart,\n    IterationEnd,\n    iterator,\n    element,\n    elementValue,\n  };\n}\n\n//To resolve operations like Array[a]=a+2 in loops and in plain context\n\nfunction SetArrayIndexValue(SourceData, i, j, CompleteTokenValueList, tokens, OriginalIterator, iterator, ExecutionStack, LinebylineSourcedata) {\n  let Value = SourceData[i].value;\n\n  let ValueToSet = SourceData[i].ValueToSet;\n\n  let OriginalElement = Value + '=' + ValueToSet;\n\n  let element = RemoveBrackets(Value);\n\n  var ArrayElement = '';\n\n  //Seprating out index identifier. xyz from Array[xyz]\n\n  element = element.replace(']', '');\n\n  let Split = element.split('[');\n\n  // run if we need to set direct Array element value. like Array[2]= xyx\n  if (isNumber(Split[1])) {\n    Split = Split.join('[');\n    //\n\n    Split = Split + ']';\n\n    ArrayElement = Split;\n    //\n\n    NewValueToSet = CalculateValues(ValueToSet, j, CompleteTokenValueList);\n\n    SetArrayorStringElement(OriginalElement, ArrayElement, CompleteTokenValueList, false, NewValueToSet, tokens, ExecutionStack, LinebylineSourcedata);\n  }\n\n  // run if we need to dynamically set Array element value. like Array[i]= xyx\n  //CreateArrayElement function will create dynamic Array values. like Array[0], Array[1] etc.\n  else {\n    let index = Split[1];\n\n    // setting iterator as per user input\n    //for iterator like count=count + 1, Array[count]\n\n    let newInterator = 0;\n\n    let token = CompleteTokenValueList.find((el) => el.name == index);\n\n    if (token != undefined) {\n      newInterator = token.value;\n    } else {\n      newInterator = iterator;\n    }\n\n    ArrayElement = CreateArrayElement(Value, newInterator);\n  }\n\n  // this code is written to find operations like Array[a]= a*100+age*a. notice a\n  //find a way to simplify this in long term\n\n  let data = ValueToSet;\n\n  data = data.split('*').toString();\n  data = data.split('+').toString();\n  data = data.split('-').toString();\n  data = data.split('/').toString();\n  data = data.split(',');\n\n  //building a new value to convert a*100+age*a into 5*100+age*a and then sending it to CalculateValues()\n  let NewValueToSet = '';\n\n  if (data.includes(Split[1]) && data.length > 1) {\n    //we have operations like Array[a]= a*100+age*a. notice a\n\n    for (let m = 0; m < ValueToSet.length; m++) {\n      if (ValueToSet[m] == Split[1] && !/^[a-z]+$/i.test(ValueToSet[m + 1])) {\n        // value is been set . replacing index value a with iteartor value 0,1,2, etc.\n        NewValueToSet = NewValueToSet + iterator;\n      } else {\n        NewValueToSet = NewValueToSet + ValueToSet[m];\n      }\n    }\n\n    let iterat = false;\n    //gave it a different name so it would not fuck up with for loop iterator\n\n    NewValueToSet = CalculateValues(NewValueToSet, j, CompleteTokenValueList);\n\n    SetArrayorStringElement(OriginalElement, ArrayElement, CompleteTokenValueList, iterat, NewValueToSet, tokens, ExecutionStack, LinebylineSourcedata);\n  }\n\n  // this condition enables program to only run  Array[a]= xyz when iterator is a. It disallows running Array[blablabla]=xyz\n  if (OriginalIterator == Split[1]) {\n    if (Split[1] == ValueToSet) {\n      let iterator = true;\n\n      SetArrayorStringElement(OriginalElement, ArrayElement, CompleteTokenValueList, iterator, ValueToSet, tokens, ExecutionStack, LinebylineSourcedata);\n    }\n\n    // for operations like Array[a]=ageone*100\n\n    if (!data.includes(Split[1]) && OriginalIterator == Split[1]) {\n      let iterator = false;\n\n      ValueToSet = CalculateValues(ValueToSet, j, CompleteTokenValueList);\n\n      SetArrayorStringElement(OriginalElement, ArrayElement, CompleteTokenValueList, iterator, ValueToSet, tokens, ExecutionStack, LinebylineSourcedata);\n    }\n  }\n\n  //might have to add more conditions in the future\n  else {\n    let iterator = false;\n\n    ValueToSet = CalculateValues(ValueToSet, j, CompleteTokenValueList);\n\n    SetArrayorStringElement(OriginalElement, ArrayElement, CompleteTokenValueList, iterator, ValueToSet, tokens, ExecutionStack, LinebylineSourcedata);\n  }\n}\n\nfunction AddtoExecutionStack(stack, keyword, keywordUse, variable, value, message, Linenumber) {\n  stack.push({\n    keyword: keyword,\n    keywordUse: keywordUse,\n    variable: variable,\n    value: value,\n    message: message,\n    Linenumber: Linenumber,\n  });\n}\n\nexport {\n  IsReservedKeyword,\n  GetCleanSourcedata,\n  GetcleanedExpression,\n  ForLoopSetMetadata,\n  getLoopIndexStart,\n  AddElementToArray,\n  ResetValue,\n  HandleBlocks,\n  HandleConditions,\n  AssignorUpdateValues,\n  PushGetArrayIndexValue,\n  PushSetArrayIndexValue,\n  isArrayOperation,\n  GetConditionValue,\n  CalculateValues,\n  handlemultConditions,\n  CreateArrayElement,\n  SetArrayorStringElement,\n  ForLoopArrayorStringOutput,\n  GetArrayorStringElement,\n  AcceptInputandSetValue,\n  SplitElementsArray,\n  SetValues,\n  UpdateUpdated_tokenswithValues,\n  SetArrayIndexValue,\n  AddtoExecutionStack,\n};\n"]}]}