{"remainingRequest":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js!/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/mixins/virtual-scroll.js","dependencies":[{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/mixins/virtual-scroll.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pcy1hcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydGllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9qb25ueS9EZXNrdG9wL215UHJvamVjdHMvS2FsYWFtLUJFL0ZFL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgppbXBvcnQgZGVib3VuY2UgZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UuanMnOwppbXBvcnQgZnJhbWVEZWJvdW5jZSBmcm9tICcuLi91dGlscy9mcmFtZS1kZWJvdW5jZS5qcyc7CnZhciBhZ2dCdWNrZXRTaXplID0gMTAwMDsKdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwoKZnVuY3Rpb24gc3VtRm4oYWNjLCBoKSB7CiAgcmV0dXJuIGFjYyArIGg7Cn0KCmZ1bmN0aW9uIGdldFNjcm9sbERldGFpbHMocGFyZW50LCBjaGlsZCwgYmVmb3JlUmVmLCBhZnRlclJlZiwgaG9yaXpvbnRhbCwgc3RpY2t5U3RhcnQsIHN0aWNreUVuZCkgewogIHZhciBwYXJlbnRDYWxjID0gcGFyZW50ID09PSB3aW5kb3cgPyBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHBhcmVudCwKICAgICAgcHJvcEVsU2l6ZSA9IGhvcml6b250YWwgPT09IHRydWUgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCcsCiAgICAgIGRldGFpbHMgPSB7CiAgICBzY3JvbGxTdGFydDogMCwKICAgIHNjcm9sbFZpZXdTaXplOiAtc3RpY2t5U3RhcnQgLSBzdGlja3lFbmQsCiAgICBzY3JvbGxNYXhTaXplOiAwLAogICAgb2Zmc2V0U3RhcnQ6IC1zdGlja3lTdGFydCwKICAgIG9mZnNldEVuZDogLXN0aWNreUVuZAogIH07CgogIGlmIChob3Jpem9udGFsID09PSB0cnVlKSB7CiAgICBpZiAocGFyZW50ID09PSB3aW5kb3cpIHsKICAgICAgZGV0YWlscy5zY3JvbGxTdGFydCA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCB3aW5kb3cuc2Nyb2xsWCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgfHwgMDsKICAgICAgZGV0YWlscy5zY3JvbGxWaWV3U2l6ZSArPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIH0gZWxzZSB7CiAgICAgIGRldGFpbHMuc2Nyb2xsU3RhcnQgPSBwYXJlbnRDYWxjLnNjcm9sbExlZnQ7CiAgICAgIGRldGFpbHMuc2Nyb2xsVmlld1NpemUgKz0gcGFyZW50Q2FsYy5jbGllbnRXaWR0aDsKICAgIH0KCiAgICBkZXRhaWxzLnNjcm9sbE1heFNpemUgPSBwYXJlbnRDYWxjLnNjcm9sbFdpZHRoOwogIH0gZWxzZSB7CiAgICBpZiAocGFyZW50ID09PSB3aW5kb3cpIHsKICAgICAgZGV0YWlscy5zY3JvbGxTdGFydCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwOwogICAgICBkZXRhaWxzLnNjcm9sbFZpZXdTaXplICs9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgIH0gZWxzZSB7CiAgICAgIGRldGFpbHMuc2Nyb2xsU3RhcnQgPSBwYXJlbnRDYWxjLnNjcm9sbFRvcDsKICAgICAgZGV0YWlscy5zY3JvbGxWaWV3U2l6ZSArPSBwYXJlbnRDYWxjLmNsaWVudEhlaWdodDsKICAgIH0KCiAgICBkZXRhaWxzLnNjcm9sbE1heFNpemUgPSBwYXJlbnRDYWxjLnNjcm9sbEhlaWdodDsKICB9CgogIGlmIChiZWZvcmVSZWYgIT09IHZvaWQgMCkgewogICAgZm9yICh2YXIgZWwgPSBiZWZvcmVSZWYucHJldmlvdXNFbGVtZW50U2libGluZzsgZWwgIT09IG51bGw7IGVsID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZykgewogICAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdxLXZpcnR1YWwtc2Nyb2xsLS1za2lwJykgPT09IGZhbHNlKSB7CiAgICAgICAgZGV0YWlscy5vZmZzZXRTdGFydCArPSBlbFtwcm9wRWxTaXplXTsKICAgICAgfQogICAgfQogIH0KCiAgaWYgKGFmdGVyUmVmICE9PSB2b2lkIDApIHsKICAgIGZvciAodmFyIF9lbCA9IGFmdGVyUmVmLm5leHRFbGVtZW50U2libGluZzsgX2VsICE9PSBudWxsOyBfZWwgPSBfZWwubmV4dEVsZW1lbnRTaWJsaW5nKSB7CiAgICAgIGlmIChfZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdxLXZpcnR1YWwtc2Nyb2xsLS1za2lwJykgPT09IGZhbHNlKSB7CiAgICAgICAgZGV0YWlscy5vZmZzZXRFbmQgKz0gX2VsW3Byb3BFbFNpemVdOwogICAgICB9CiAgICB9CiAgfQoKICBpZiAoY2hpbGQgIT09IHBhcmVudCkgewogICAgdmFyIHBhcmVudFJlY3QgPSBwYXJlbnRDYWxjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgIGNoaWxkUmVjdCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgIGlmIChob3Jpem9udGFsID09PSB0cnVlKSB7CiAgICAgIGRldGFpbHMub2Zmc2V0U3RhcnQgKz0gY2hpbGRSZWN0LmxlZnQgLSBwYXJlbnRSZWN0LmxlZnQ7CiAgICAgIGRldGFpbHMub2Zmc2V0RW5kIC09IGNoaWxkUmVjdC53aWR0aDsKICAgIH0gZWxzZSB7CiAgICAgIGRldGFpbHMub2Zmc2V0U3RhcnQgKz0gY2hpbGRSZWN0LnRvcCAtIHBhcmVudFJlY3QudG9wOwogICAgICBkZXRhaWxzLm9mZnNldEVuZCAtPSBjaGlsZFJlY3QuaGVpZ2h0OwogICAgfQoKICAgIGlmIChwYXJlbnQgIT09IHdpbmRvdykgewogICAgICBkZXRhaWxzLm9mZnNldFN0YXJ0ICs9IGRldGFpbHMuc2Nyb2xsU3RhcnQ7CiAgICB9CgogICAgZGV0YWlscy5vZmZzZXRFbmQgKz0gZGV0YWlscy5zY3JvbGxNYXhTaXplIC0gZGV0YWlscy5vZmZzZXRTdGFydDsKICB9CgogIHJldHVybiBkZXRhaWxzOwp9CgpmdW5jdGlvbiBzZXRTY3JvbGwocGFyZW50LCBzY3JvbGwsIGhvcml6b250YWwpIHsKICBpZiAocGFyZW50ID09PSB3aW5kb3cpIHsKICAgIGlmIChob3Jpem9udGFsID09PSB0cnVlKSB7CiAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGwsIHdpbmRvdy5wYWdlWU9mZnNldCB8fCB3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5zY3JvbGxUbyh3aW5kb3cucGFnZVhPZmZzZXQgfHwgd2luZG93LnNjcm9sbFggfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0IHx8IDAsIHNjcm9sbCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIHBhcmVudFtob3Jpem9udGFsID09PSB0cnVlID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCddID0gc2Nyb2xsOwogIH0KfQoKZnVuY3Rpb24gc3VtU2l6ZShzaXplQWdnLCBzaXplLCBmcm9tLCB0bykgewogIGlmIChmcm9tID49IHRvKSB7CiAgICByZXR1cm4gMDsKICB9CgogIHZhciBsYXN0VG8gPSBzaXplLmxlbmd0aCwKICAgICAgZnJvbUFnZyA9IE1hdGguZmxvb3IoZnJvbSAvIGFnZ0J1Y2tldFNpemUpLAogICAgICB0b0FnZyA9IE1hdGguZmxvb3IoKHRvIC0gMSkgLyBhZ2dCdWNrZXRTaXplKSArIDE7CiAgdmFyIHRvdGFsID0gc2l6ZUFnZy5zbGljZShmcm9tQWdnLCB0b0FnZykucmVkdWNlKHN1bUZuLCAwKTsKCiAgaWYgKGZyb20gJSBhZ2dCdWNrZXRTaXplICE9PSAwKSB7CiAgICB0b3RhbCAtPSBzaXplLnNsaWNlKGZyb21BZ2cgKiBhZ2dCdWNrZXRTaXplLCBmcm9tKS5yZWR1Y2Uoc3VtRm4sIDApOwogIH0KCiAgaWYgKHRvICUgYWdnQnVja2V0U2l6ZSAhPT0gMCAmJiB0byAhPT0gbGFzdFRvKSB7CiAgICB0b3RhbCAtPSBzaXplLnNsaWNlKHRvLCB0b0FnZyAqIGFnZ0J1Y2tldFNpemUpLnJlZHVjZShzdW1GbiwgMCk7CiAgfQoKICByZXR1cm4gdG90YWw7Cn0KCnZhciBjb21tb25WaXJ0U2Nyb2xsUHJvcHMgPSB7CiAgdmlydHVhbFNjcm9sbFNsaWNlU2l6ZTogewogICAgdHlwZTogTnVtYmVyLAogICAgImRlZmF1bHQiOiAzMAogIH0sCiAgdmlydHVhbFNjcm9sbEl0ZW1TaXplOiB7CiAgICB0eXBlOiBOdW1iZXIsCiAgICAiZGVmYXVsdCI6IDI0CiAgfSwKICB2aXJ0dWFsU2Nyb2xsU3RpY2t5U2l6ZVN0YXJ0OiB7CiAgICB0eXBlOiBOdW1iZXIsCiAgICAiZGVmYXVsdCI6IDAKICB9LAogIHZpcnR1YWxTY3JvbGxTdGlja3lTaXplRW5kOiB7CiAgICB0eXBlOiBOdW1iZXIsCiAgICAiZGVmYXVsdCI6IDAKICB9Cn07CmV4cG9ydCB2YXIgY29tbW9uVmlydFByb3BzTGlzdCA9IE9iamVjdC5rZXlzKGNvbW1vblZpcnRTY3JvbGxQcm9wcyk7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogX29iamVjdFNwcmVhZCh7CiAgICB2aXJ0dWFsU2Nyb2xsSG9yaXpvbnRhbDogQm9vbGVhbgogIH0sIGNvbW1vblZpcnRTY3JvbGxQcm9wcyksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpcnR1YWxTY3JvbGxTbGljZVJhbmdlOiB7CiAgICAgICAgZnJvbTogMCwKICAgICAgICB0bzogMAogICAgICB9CiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHZpcnR1YWxTY3JvbGxIb3Jpem9udGFsOiBmdW5jdGlvbiB2aXJ0dWFsU2Nyb2xsSG9yaXpvbnRhbCgpIHsKICAgICAgdGhpcy5fX3NldFZpcnR1YWxTY3JvbGxTaXplKCk7CiAgICB9LAogICAgbmVlZHNSZXNldDogZnVuY3Rpb24gbmVlZHNSZXNldCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5lZWRzUmVzZXQ6IGZ1bmN0aW9uIG5lZWRzUmVzZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gWyd2aXJ0dWFsU2Nyb2xsSXRlbVNpemUnLCAndmlydHVhbFNjcm9sbEhvcml6b250YWwnXS5tYXAoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gX3RoaXNbcF07CiAgICAgIH0pLmpvaW4oJzsnKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5fX3Jlc2V0VmlydHVhbFNjcm9sbCh0aGlzLnByZXZUb0luZGV4LCB0cnVlKTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKHRvSW5kZXgpIHsKICAgICAgdGhpcy5fX3Jlc2V0VmlydHVhbFNjcm9sbCh0b0luZGV4ID09PSB2b2lkIDAgPyB0aGlzLnByZXZUb0luZGV4IDogdG9JbmRleCk7CiAgICB9LAogICAgc2Nyb2xsVG86IGZ1bmN0aW9uIHNjcm9sbFRvKHRvSW5kZXgpIHsKICAgICAgdmFyIHNjcm9sbEVsID0gdGhpcy5fX2dldFZpcnR1YWxTY3JvbGxUYXJnZXQoKTsKCiAgICAgIGlmIChzY3JvbGxFbCA9PT0gdm9pZCAwIHx8IHNjcm9sbEVsID09PSBudWxsIHx8IHNjcm9sbEVsLm5vZGVUeXBlID09PSA4KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLl9fc2V0VmlydHVhbFNjcm9sbFNsaWNlUmFuZ2Uoc2Nyb2xsRWwsIGdldFNjcm9sbERldGFpbHMoc2Nyb2xsRWwsIHRoaXMuX19nZXRWaXJ0dWFsU2Nyb2xsRWwoKSwgdGhpcy4kcmVmcy5iZWZvcmUsIHRoaXMuJHJlZnMuYWZ0ZXIsIHRoaXMudmlydHVhbFNjcm9sbEhvcml6b250YWwsIHRoaXMudmlydHVhbFNjcm9sbFN0aWNreVNpemVTdGFydCwgdGhpcy52aXJ0dWFsU2Nyb2xsU3RpY2t5U2l6ZUVuZCksIE1hdGgubWluKHRoaXMudmlydHVhbFNjcm9sbExlbmd0aCAtIDEsIE1hdGgubWF4KDAsIHBhcnNlSW50KHRvSW5kZXgsIDEwKSB8fCAwKSksIDAsIHRoaXMucHJldlRvSW5kZXggPiAtMSAmJiB0b0luZGV4ID4gdGhpcy5wcmV2VG9JbmRleCA/ICdlbmQnIDogJ3N0YXJ0Jyk7CiAgICB9LAogICAgX19vblZpcnR1YWxTY3JvbGxFdnQ6IGZ1bmN0aW9uIF9fb25WaXJ0dWFsU2Nyb2xsRXZ0KCkgewogICAgICB2YXIgc2Nyb2xsRWwgPSB0aGlzLl9fZ2V0VmlydHVhbFNjcm9sbFRhcmdldCgpOwoKICAgICAgaWYgKHNjcm9sbEVsID09PSB2b2lkIDAgfHwgc2Nyb2xsRWwgPT09IG51bGwgfHwgc2Nyb2xsRWwubm9kZVR5cGUgPT09IDgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBzY3JvbGxEZXRhaWxzID0gZ2V0U2Nyb2xsRGV0YWlscyhzY3JvbGxFbCwgdGhpcy5fX2dldFZpcnR1YWxTY3JvbGxFbCgpLCB0aGlzLiRyZWZzLmJlZm9yZSwgdGhpcy4kcmVmcy5hZnRlciwgdGhpcy52aXJ0dWFsU2Nyb2xsSG9yaXpvbnRhbCwgdGhpcy52aXJ0dWFsU2Nyb2xsU3RpY2t5U2l6ZVN0YXJ0LCB0aGlzLnZpcnR1YWxTY3JvbGxTdGlja3lTaXplRW5kKSwKICAgICAgICAgIHNjcm9sbE1heFN0YXJ0ID0gc2Nyb2xsRGV0YWlscy5zY3JvbGxNYXhTaXplIC0gTWF0aC5tYXgoc2Nyb2xsRGV0YWlscy5zY3JvbGxWaWV3U2l6ZSwgc2Nyb2xsRGV0YWlscy5vZmZzZXRFbmQpIC0gdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXNbdGhpcy52aXJ0dWFsU2Nyb2xsTGVuZ3RoIC0gMV0sCiAgICAgICAgICBsaXN0TGFzdEluZGV4ID0gdGhpcy52aXJ0dWFsU2Nyb2xsTGVuZ3RoIC0gMTsKCiAgICAgIGlmICh0aGlzLnByZXZTY3JvbGxTdGFydCA9PT0gc2Nyb2xsRGV0YWlscy5zY3JvbGxTdGFydCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5wcmV2U2Nyb2xsU3RhcnQgPSB2b2lkIDA7CgogICAgICB0aGlzLl9fdXBkYXRlVmlydHVhbFNjcm9sbFNpemVzKHRoaXMudmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UuZnJvbSk7CgogICAgICBpZiAoc2Nyb2xsTWF4U3RhcnQgPiAwICYmIHNjcm9sbERldGFpbHMuc2Nyb2xsU3RhcnQgPj0gc2Nyb2xsTWF4U3RhcnQpIHsKICAgICAgICB0aGlzLl9fc2V0VmlydHVhbFNjcm9sbFNsaWNlUmFuZ2Uoc2Nyb2xsRWwsIHNjcm9sbERldGFpbHMsIHRoaXMudmlydHVhbFNjcm9sbExlbmd0aCAtIDEsIHNjcm9sbERldGFpbHMuc2Nyb2xsTWF4U2l6ZSAtIHNjcm9sbERldGFpbHMub2Zmc2V0RW5kIC0gdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXNBZ2cucmVkdWNlKHN1bUZuLCAwKSk7CgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHRvSW5kZXggPSAwLAogICAgICAgICAgbGlzdE9mZnNldCA9IHNjcm9sbERldGFpbHMuc2Nyb2xsU3RhcnQgLSBzY3JvbGxEZXRhaWxzLm9mZnNldFN0YXJ0LAogICAgICAgICAgb2Zmc2V0ID0gbGlzdE9mZnNldDsKCiAgICAgIGZvciAodmFyIGogPSAwOyBsaXN0T2Zmc2V0ID49IHRoaXMudmlydHVhbFNjcm9sbFNpemVzQWdnW2pdICYmIHRvSW5kZXggPCBsaXN0TGFzdEluZGV4OyBqKyspIHsKICAgICAgICBsaXN0T2Zmc2V0IC09IHRoaXMudmlydHVhbFNjcm9sbFNpemVzQWdnW2pdOwogICAgICAgIHRvSW5kZXggKz0gYWdnQnVja2V0U2l6ZTsKICAgICAgfQoKICAgICAgd2hpbGUgKGxpc3RPZmZzZXQgPiAwICYmIHRvSW5kZXggPCBsaXN0TGFzdEluZGV4KSB7CiAgICAgICAgbGlzdE9mZnNldCAtPSB0aGlzLnZpcnR1YWxTY3JvbGxTaXplc1t0b0luZGV4XTsKCiAgICAgICAgaWYgKGxpc3RPZmZzZXQgPiAtc2Nyb2xsRGV0YWlscy5zY3JvbGxWaWV3U2l6ZSkgewogICAgICAgICAgdG9JbmRleCsrOwogICAgICAgICAgb2Zmc2V0ID0gbGlzdE9mZnNldDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2Zmc2V0ID0gdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXNbdG9JbmRleF0gKyBsaXN0T2Zmc2V0OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5fX3NldFZpcnR1YWxTY3JvbGxTbGljZVJhbmdlKHNjcm9sbEVsLCBzY3JvbGxEZXRhaWxzLCB0b0luZGV4LCBvZmZzZXQpOwogICAgfSwKICAgIF9fc2V0VmlydHVhbFNjcm9sbFNsaWNlUmFuZ2U6IGZ1bmN0aW9uIF9fc2V0VmlydHVhbFNjcm9sbFNsaWNlUmFuZ2Uoc2Nyb2xsRWwsIHNjcm9sbERldGFpbHMsIHRvSW5kZXgsIG9mZnNldCwgYWxpZ24pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZnJvbSA9IE1hdGgubWF4KDAsIE1hdGguY2VpbCh0b0luZGV4IC0gKGFsaWduID09PSB2b2lkIDAgPyAzIDogMikgKiB0aGlzLnZpcnR1YWxTY3JvbGxTbGljZVNpemVDb21wdXRlZCAvIDYpKSwKICAgICAgICAgIHRvID0gZnJvbSArIHRoaXMudmlydHVhbFNjcm9sbFNsaWNlU2l6ZUNvbXB1dGVkOwoKICAgICAgaWYgKHRvID4gdGhpcy52aXJ0dWFsU2Nyb2xsTGVuZ3RoKSB7CiAgICAgICAgdG8gPSB0aGlzLnZpcnR1YWxTY3JvbGxMZW5ndGg7CiAgICAgICAgZnJvbSA9IE1hdGgubWF4KDAsIHRvIC0gdGhpcy52aXJ0dWFsU2Nyb2xsU2xpY2VTaXplQ29tcHV0ZWQpOwogICAgICB9CgogICAgICB2YXIgcmFuZ2VDaGFuZ2VkID0gZnJvbSAhPT0gdGhpcy52aXJ0dWFsU2Nyb2xsU2xpY2VSYW5nZS5mcm9tIHx8IHRvICE9PSB0aGlzLnZpcnR1YWxTY3JvbGxTbGljZVJhbmdlLnRvOwoKICAgICAgaWYgKHJhbmdlQ2hhbmdlZCA9PT0gZmFsc2UgJiYgYWxpZ24gPT09IHZvaWQgMCkgewogICAgICAgIHRoaXMuX19lbWl0U2Nyb2xsKHRvSW5kZXgpOwoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChyYW5nZUNoYW5nZWQgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnZpcnR1YWxTY3JvbGxTbGljZVJhbmdlID0gewogICAgICAgICAgZnJvbTogZnJvbSwKICAgICAgICAgIHRvOiB0bwogICAgICAgIH07CiAgICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsUGFkZGluZ0JlZm9yZSA9IHN1bVNpemUodGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXNBZ2csIHRoaXMudmlydHVhbFNjcm9sbFNpemVzLCAwLCBmcm9tKTsKICAgICAgICB0aGlzLnZpcnR1YWxTY3JvbGxQYWRkaW5nQWZ0ZXIgPSBzdW1TaXplKHRoaXMudmlydHVhbFNjcm9sbFNpemVzQWdnLCB0aGlzLnZpcnR1YWxTY3JvbGxTaXplcywgdG8sIHRoaXMudmlydHVhbFNjcm9sbExlbmd0aCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAocmFuZ2VDaGFuZ2VkID09PSB0cnVlKSB7CiAgICAgICAgICBfdGhpczIuX191cGRhdGVWaXJ0dWFsU2Nyb2xsU2l6ZXMoZnJvbSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgcG9zU3RhcnQgPSBfdGhpczIudmlydHVhbFNjcm9sbFNpemVzLnNsaWNlKGZyb20sIHRvSW5kZXgpLnJlZHVjZShzdW1Gbiwgc2Nyb2xsRGV0YWlscy5vZmZzZXRTdGFydCArIF90aGlzMi52aXJ0dWFsU2Nyb2xsUGFkZGluZ0JlZm9yZSksCiAgICAgICAgICAgIHBvc0VuZCA9IHBvc1N0YXJ0ICsgX3RoaXMyLnZpcnR1YWxTY3JvbGxTaXplc1t0b0luZGV4XTsKCiAgICAgICAgdmFyIHNjcm9sbFBvc2l0aW9uID0gcG9zU3RhcnQgKyBvZmZzZXQ7CgogICAgICAgIGlmIChhbGlnbiAhPT0gdm9pZCAwKSB7CiAgICAgICAgICBzY3JvbGxQb3NpdGlvbiA9IHNjcm9sbERldGFpbHMuc2Nyb2xsU3RhcnQgPCBwb3NTdGFydCAmJiBwb3NFbmQgPCBzY3JvbGxEZXRhaWxzLnNjcm9sbFN0YXJ0ICsgc2Nyb2xsRGV0YWlscy5zY3JvbGxWaWV3U2l6ZSA/IHNjcm9sbERldGFpbHMuc2Nyb2xsU3RhcnQgOiBhbGlnbiA9PT0gJ2VuZCcgPyBwb3NFbmQgLSBzY3JvbGxEZXRhaWxzLnNjcm9sbFZpZXdTaXplIDogcG9zU3RhcnQ7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIucHJldlNjcm9sbFN0YXJ0ID0gc2Nyb2xsUG9zaXRpb247CgogICAgICAgIF90aGlzMi5fX3NldFNjcm9sbChzY3JvbGxFbCwgc2Nyb2xsUG9zaXRpb24sIF90aGlzMi52aXJ0dWFsU2Nyb2xsSG9yaXpvbnRhbCk7CgogICAgICAgIF90aGlzMi5fX2VtaXRTY3JvbGwodG9JbmRleCk7CiAgICAgIH0pOwogICAgfSwKICAgIF9fdXBkYXRlVmlydHVhbFNjcm9sbFNpemVzOiBmdW5jdGlvbiBfX3VwZGF0ZVZpcnR1YWxTY3JvbGxTaXplcyhmcm9tKSB7CiAgICAgIHZhciBjb250ZW50RWwgPSB0aGlzLiRyZWZzLmNvbnRlbnQ7CgogICAgICBpZiAoY29udGVudEVsICE9PSB2b2lkIDApIHsKICAgICAgICB2YXIgY2hpbGRyZW4gPSBzbGljZS5jYWxsKGNvbnRlbnRFbC5jaGlsZHJlbikuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucygncS12aXJ0dWFsLXNjcm9sbC0tc2tpcCcpID09PSBmYWxzZTsKICAgICAgICB9KSwKICAgICAgICAgICAgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGgsCiAgICAgICAgICAgIHNpemVQcm9wID0gdGhpcy52aXJ0dWFsU2Nyb2xsSG9yaXpvbnRhbCA9PT0gdHJ1ZSA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0JzsKICAgICAgICB2YXIgaW5kZXggPSBmcm9tLAogICAgICAgICAgICBzaXplLAogICAgICAgICAgICBkaWZmOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOykgewogICAgICAgICAgc2l6ZSA9IGNoaWxkcmVuW2ldW3NpemVQcm9wXTsKICAgICAgICAgIGkrKzsKCiAgICAgICAgICB3aGlsZSAoaSA8IGNoaWxkcmVuTGVuZ3RoICYmIGNoaWxkcmVuW2ldLmNsYXNzTGlzdC5jb250YWlucygncS12aXJ0dWFsLXNjcm9sbC0td2l0aC1wcmV2JykgPT09IHRydWUpIHsKICAgICAgICAgICAgc2l6ZSArPSBjaGlsZHJlbltpXVtzaXplUHJvcF07CiAgICAgICAgICAgIGkrKzsKICAgICAgICAgIH0KCiAgICAgICAgICBkaWZmID0gc2l6ZSAtIHRoaXMudmlydHVhbFNjcm9sbFNpemVzW2luZGV4XTsKCiAgICAgICAgICBpZiAoZGlmZiAhPT0gMCkgewogICAgICAgICAgICB0aGlzLnZpcnR1YWxTY3JvbGxTaXplc1tpbmRleF0gKz0gZGlmZjsKICAgICAgICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXNBZ2dbTWF0aC5mbG9vcihpbmRleCAvIGFnZ0J1Y2tldFNpemUpXSArPSBkaWZmOwogICAgICAgICAgfQoKICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgX19yZXNldFZpcnR1YWxTY3JvbGw6IGZ1bmN0aW9uIF9fcmVzZXRWaXJ0dWFsU2Nyb2xsKHRvSW5kZXgsIGZ1bGxSZXNldCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBkZWZhdWx0U2l6ZSA9IHRoaXMudmlydHVhbFNjcm9sbEl0ZW1TaXplOwoKICAgICAgaWYgKGZ1bGxSZXNldCA9PT0gdHJ1ZSB8fCBBcnJheS5pc0FycmF5KHRoaXMudmlydHVhbFNjcm9sbFNpemVzKSA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLnZpcnR1YWxTY3JvbGxTaXplcyA9IFtdOwogICAgICB9CgogICAgICB2YXIgb2xkVmlydHVhbFNjcm9sbFNpemVzTGVuZ3RoID0gdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXMubGVuZ3RoOwogICAgICB0aGlzLnZpcnR1YWxTY3JvbGxTaXplcy5sZW5ndGggPSB0aGlzLnZpcnR1YWxTY3JvbGxMZW5ndGg7CgogICAgICBmb3IgKHZhciBpID0gdGhpcy52aXJ0dWFsU2Nyb2xsTGVuZ3RoIC0gMTsgaSA+PSBvbGRWaXJ0dWFsU2Nyb2xsU2l6ZXNMZW5ndGg7IGktLSkgewogICAgICAgIHRoaXMudmlydHVhbFNjcm9sbFNpemVzW2ldID0gZGVmYXVsdFNpemU7CiAgICAgIH0KCiAgICAgIHZhciBqTWF4ID0gTWF0aC5mbG9vcigodGhpcy52aXJ0dWFsU2Nyb2xsTGVuZ3RoIC0gMSkgLyBhZ2dCdWNrZXRTaXplKTsKICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXNBZ2cgPSBbXTsKCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDw9IGpNYXg7IGorKykgewogICAgICAgIHZhciBzaXplID0gMDsKICAgICAgICB2YXIgaU1heCA9IE1hdGgubWluKChqICsgMSkgKiBhZ2dCdWNrZXRTaXplLCB0aGlzLnZpcnR1YWxTY3JvbGxMZW5ndGgpOwoKICAgICAgICBmb3IgKHZhciBfaSA9IGogKiBhZ2dCdWNrZXRTaXplOyBfaSA8IGlNYXg7IF9pKyspIHsKICAgICAgICAgIHNpemUgKz0gdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXNbX2ldOwogICAgICAgIH0KCiAgICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXNBZ2cucHVzaChzaXplKTsKICAgICAgfQoKICAgICAgdGhpcy5wcmV2VG9JbmRleCA9IC0xOwogICAgICB0aGlzLnByZXZTY3JvbGxTdGFydCA9IHZvaWQgMDsKCiAgICAgIGlmICh0b0luZGV4ID49IDApIHsKICAgICAgICB0aGlzLl9fdXBkYXRlVmlydHVhbFNjcm9sbFNpemVzKHRoaXMudmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UuZnJvbSk7CgogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5zY3JvbGxUbyh0b0luZGV4KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnZpcnR1YWxTY3JvbGxQYWRkaW5nQmVmb3JlID0gc3VtU2l6ZSh0aGlzLnZpcnR1YWxTY3JvbGxTaXplc0FnZywgdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXMsIDAsIHRoaXMudmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UuZnJvbSk7CiAgICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsUGFkZGluZ0FmdGVyID0gc3VtU2l6ZSh0aGlzLnZpcnR1YWxTY3JvbGxTaXplc0FnZywgdGhpcy52aXJ0dWFsU2Nyb2xsU2l6ZXMsIHRoaXMudmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UudG8sIHRoaXMudmlydHVhbFNjcm9sbExlbmd0aCk7CgogICAgICAgIHRoaXMuX19vblZpcnR1YWxTY3JvbGxFdnQoKTsKICAgICAgfQogICAgfSwKICAgIF9fc2V0VmlydHVhbFNjcm9sbFNpemU6IGZ1bmN0aW9uIF9fc2V0VmlydHVhbFNjcm9sbFNpemUoKSB7CiAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGxIb3Jpem9udGFsID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsU2xpY2VTaXplQ29tcHV0ZWQgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IHRoaXMudmlydHVhbFNjcm9sbFNsaWNlU2l6ZSA6IE1hdGgubWF4KHRoaXMudmlydHVhbFNjcm9sbFNsaWNlU2l6ZSwgTWF0aC5jZWlsKHdpbmRvdy5pbm5lcldpZHRoIC8gdGhpcy52aXJ0dWFsU2Nyb2xsSXRlbVNpemUgKiAyKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsU2xpY2VTaXplQ29tcHV0ZWQgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IHRoaXMudmlydHVhbFNjcm9sbFNsaWNlU2l6ZSA6IE1hdGgubWF4KHRoaXMudmlydHVhbFNjcm9sbFNsaWNlU2l6ZSwgTWF0aC5jZWlsKHdpbmRvdy5pbm5lckhlaWdodCAvIHRoaXMudmlydHVhbFNjcm9sbEl0ZW1TaXplICogMikpOwogICAgICB9CiAgICB9LAogICAgX19wYWRWaXJ0dWFsU2Nyb2xsOiBmdW5jdGlvbiBfX3BhZFZpcnR1YWxTY3JvbGwoaCwgdGFnLCBjb250ZW50KSB7CiAgICAgIHZhciBwYWRkaW5nU2l6ZSA9IHRoaXMudmlydHVhbFNjcm9sbEhvcml6b250YWwgPT09IHRydWUgPyAnd2lkdGgnIDogJ2hlaWdodCc7CiAgICAgIHJldHVybiBbdGFnID09PSAndGJvZHknID8gaCh0YWcsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtdmlydHVhbC1zY3JvbGxfX3BhZGRpbmcnLAogICAgICAgIGtleTogJ2JlZm9yZScsCiAgICAgICAgcmVmOiAnYmVmb3JlJwogICAgICB9LCBbaCgndHInLCBbaCgndGQnLCB7CiAgICAgICAgc3R5bGU6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgcGFkZGluZ1NpemUsICIiLmNvbmNhdCh0aGlzLnZpcnR1YWxTY3JvbGxQYWRkaW5nQmVmb3JlLCAicHgiKSksCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIGNvbHNwYW46ICcxMDAlJwogICAgICAgIH0KICAgICAgfSldKV0pIDogaCh0YWcsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtdmlydHVhbC1zY3JvbGxfX3BhZGRpbmcnLAogICAgICAgIGtleTogJ2JlZm9yZScsCiAgICAgICAgcmVmOiAnYmVmb3JlJywKICAgICAgICBzdHlsZTogX2RlZmluZVByb3BlcnR5KHt9LCBwYWRkaW5nU2l6ZSwgIiIuY29uY2F0KHRoaXMudmlydHVhbFNjcm9sbFBhZGRpbmdCZWZvcmUsICJweCIpKQogICAgICB9KSwgaCh0YWcsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtdmlydHVhbC1zY3JvbGxfX2NvbnRlbnQnLAogICAgICAgIGtleTogJ2NvbnRlbnQnLAogICAgICAgIHJlZjogJ2NvbnRlbnQnCiAgICAgIH0sIGNvbnRlbnQpLCB0YWcgPT09ICd0Ym9keScgPyBoKHRhZywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS12aXJ0dWFsLXNjcm9sbF9fcGFkZGluZycsCiAgICAgICAga2V5OiAnYWZ0ZXInLAogICAgICAgIHJlZjogJ2FmdGVyJwogICAgICB9LCBbaCgndHInLCBbaCgndGQnLCB7CiAgICAgICAgc3R5bGU6IF9kZWZpbmVQcm9wZXJ0eSh7fSwgcGFkZGluZ1NpemUsICIiLmNvbmNhdCh0aGlzLnZpcnR1YWxTY3JvbGxQYWRkaW5nQWZ0ZXIsICJweCIpKSwKICAgICAgICBhdHRyczogewogICAgICAgICAgY29sc3BhbjogJzEwMCUnCiAgICAgICAgfQogICAgICB9KV0pXSkgOiBoKHRhZywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS12aXJ0dWFsLXNjcm9sbF9fcGFkZGluZycsCiAgICAgICAga2V5OiAnYWZ0ZXInLAogICAgICAgIHJlZjogJ2FmdGVyJywKICAgICAgICBzdHlsZTogX2RlZmluZVByb3BlcnR5KHt9LCBwYWRkaW5nU2l6ZSwgIiIuY29uY2F0KHRoaXMudmlydHVhbFNjcm9sbFBhZGRpbmdBZnRlciwgInB4IikpCiAgICAgIH0pXTsKICAgIH0sCiAgICBfX2VtaXRTY3JvbGw6IGZ1bmN0aW9uIF9fZW1pdFNjcm9sbChpbmRleCkgewogICAgICBpZiAodGhpcy5wcmV2VG9JbmRleCAhPT0gaW5kZXgpIHsKICAgICAgICB0aGlzLnFMaXN0ZW5lcnNbJ3ZpcnR1YWwtc2Nyb2xsJ10gIT09IHZvaWQgMCAmJiB0aGlzLiRlbWl0KCd2aXJ0dWFsLXNjcm9sbCcsIHsKICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgIGZyb206IHRoaXMudmlydHVhbFNjcm9sbFNsaWNlUmFuZ2UuZnJvbSwKICAgICAgICAgIHRvOiB0aGlzLnZpcnR1YWxTY3JvbGxTbGljZVJhbmdlLnRvIC0gMSwKICAgICAgICAgIGRpcmVjdGlvbjogaW5kZXggPCB0aGlzLnByZXZUb0luZGV4ID8gJ2RlY3JlYXNlJyA6ICdpbmNyZWFzZScsCiAgICAgICAgICByZWY6IHRoaXMKICAgICAgICB9KTsKICAgICAgICB0aGlzLnByZXZUb0luZGV4ID0gaW5kZXg7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLl9fc2V0VmlydHVhbFNjcm9sbFNpemUoKTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuX19vblZpcnR1YWxTY3JvbGxFdnQgPSBkZWJvdW5jZSh0aGlzLl9fb25WaXJ0dWFsU2Nyb2xsRXZ0LCA3MCk7CiAgICB0aGlzLl9fc2V0U2Nyb2xsID0gZnJhbWVEZWJvdW5jZShzZXRTY3JvbGwpOwoKICAgIHRoaXMuX19zZXRWaXJ0dWFsU2Nyb2xsU2l6ZSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/jonny/Desktop/myProjects/Kalaam-BE/FE/node_modules/quasar/src/mixins/virtual-scroll.js"],"names":["debounce","frameDebounce","aggBucketSize","slice","Array","prototype","sumFn","acc","h","getScrollDetails","parent","child","beforeRef","afterRef","horizontal","stickyStart","stickyEnd","parentCalc","window","document","scrollingElement","documentElement","propElSize","details","scrollStart","scrollViewSize","scrollMaxSize","offsetStart","offsetEnd","pageXOffset","scrollX","body","scrollLeft","innerWidth","clientWidth","scrollWidth","pageYOffset","scrollY","scrollTop","innerHeight","clientHeight","scrollHeight","el","previousElementSibling","classList","contains","nextElementSibling","parentRect","getBoundingClientRect","childRect","left","width","top","height","setScroll","scroll","scrollTo","sumSize","sizeAgg","size","from","to","lastTo","length","fromAgg","Math","floor","toAgg","total","reduce","commonVirtScrollProps","virtualScrollSliceSize","type","Number","virtualScrollItemSize","virtualScrollStickySizeStart","virtualScrollStickySizeEnd","commonVirtPropsList","Object","keys","props","virtualScrollHorizontal","Boolean","data","virtualScrollSliceRange","watch","__setVirtualScrollSize","needsReset","reset","computed","map","p","join","methods","__resetVirtualScroll","prevToIndex","refresh","toIndex","scrollEl","__getVirtualScrollTarget","nodeType","__setVirtualScrollSliceRange","__getVirtualScrollEl","$refs","before","after","min","virtualScrollLength","max","parseInt","__onVirtualScrollEvt","scrollDetails","scrollMaxStart","virtualScrollSizes","listLastIndex","prevScrollStart","__updateVirtualScrollSizes","virtualScrollSizesAgg","listOffset","offset","j","align","ceil","virtualScrollSliceSizeComputed","rangeChanged","__emitScroll","virtualScrollPaddingBefore","virtualScrollPaddingAfter","$nextTick","posStart","posEnd","scrollPosition","__setScroll","contentEl","content","children","call","filter","childrenLength","sizeProp","index","diff","i","fullReset","defaultSize","isArray","oldVirtualScrollSizesLength","jMax","iMax","push","__padVirtualScroll","tag","paddingSize","staticClass","key","ref","style","attrs","colspan","qListeners","$emit","direction","created","beforeMount"],"mappings":"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","sourcesContent":["import debounce from '../utils/debounce.js'\nimport frameDebounce from '../utils/frame-debounce.js'\n\nconst aggBucketSize = 1000\n\nconst slice = Array.prototype.slice\n\nfunction sumFn (acc, h) {\n  return acc + h\n}\n\nfunction getScrollDetails (\n  parent,\n  child,\n  beforeRef,\n  afterRef,\n  horizontal,\n  stickyStart,\n  stickyEnd\n) {\n  const\n    parentCalc = parent === window ? document.scrollingElement || document.documentElement : parent,\n    propElSize = horizontal === true ? 'offsetWidth' : 'offsetHeight',\n    details = {\n      scrollStart: 0,\n      scrollViewSize: -stickyStart - stickyEnd,\n      scrollMaxSize: 0,\n      offsetStart: -stickyStart,\n      offsetEnd: -stickyEnd\n    }\n\n  if (horizontal === true) {\n    if (parent === window) {\n      details.scrollStart = window.pageXOffset || window.scrollX || document.body.scrollLeft || 0\n      details.scrollViewSize += window.innerWidth\n    }\n    else {\n      details.scrollStart = parentCalc.scrollLeft\n      details.scrollViewSize += parentCalc.clientWidth\n    }\n    details.scrollMaxSize = parentCalc.scrollWidth\n  }\n  else {\n    if (parent === window) {\n      details.scrollStart = window.pageYOffset || window.scrollY || document.body.scrollTop || 0\n      details.scrollViewSize += window.innerHeight\n    }\n    else {\n      details.scrollStart = parentCalc.scrollTop\n      details.scrollViewSize += parentCalc.clientHeight\n    }\n    details.scrollMaxSize = parentCalc.scrollHeight\n  }\n\n  if (beforeRef !== void 0) {\n    for (let el = beforeRef.previousElementSibling; el !== null; el = el.previousElementSibling) {\n      if (el.classList.contains('q-virtual-scroll--skip') === false) {\n        details.offsetStart += el[propElSize]\n      }\n    }\n  }\n  if (afterRef !== void 0) {\n    for (let el = afterRef.nextElementSibling; el !== null; el = el.nextElementSibling) {\n      if (el.classList.contains('q-virtual-scroll--skip') === false) {\n        details.offsetEnd += el[propElSize]\n      }\n    }\n  }\n\n  if (child !== parent) {\n    const\n      parentRect = parentCalc.getBoundingClientRect(),\n      childRect = child.getBoundingClientRect()\n\n    if (horizontal === true) {\n      details.offsetStart += childRect.left - parentRect.left\n      details.offsetEnd -= childRect.width\n    }\n    else {\n      details.offsetStart += childRect.top - parentRect.top\n      details.offsetEnd -= childRect.height\n    }\n\n    if (parent !== window) {\n      details.offsetStart += details.scrollStart\n    }\n    details.offsetEnd += details.scrollMaxSize - details.offsetStart\n  }\n\n  return details\n}\n\nfunction setScroll (parent, scroll, horizontal) {\n  if (parent === window) {\n    if (horizontal === true) {\n      window.scrollTo(scroll, window.pageYOffset || window.scrollY || document.body.scrollTop || 0)\n    }\n    else {\n      window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, scroll)\n    }\n  }\n  else {\n    parent[horizontal === true ? 'scrollLeft' : 'scrollTop'] = scroll\n  }\n}\n\nfunction sumSize (sizeAgg, size, from, to) {\n  if (from >= to) { return 0 }\n\n  const\n    lastTo = size.length,\n    fromAgg = Math.floor(from / aggBucketSize),\n    toAgg = Math.floor((to - 1) / aggBucketSize) + 1\n\n  let total = sizeAgg.slice(fromAgg, toAgg).reduce(sumFn, 0)\n\n  if (from % aggBucketSize !== 0) {\n    total -= size.slice(fromAgg * aggBucketSize, from).reduce(sumFn, 0)\n  }\n  if (to % aggBucketSize !== 0 && to !== lastTo) {\n    total -= size.slice(to, toAgg * aggBucketSize).reduce(sumFn, 0)\n  }\n\n  return total\n}\n\nconst commonVirtScrollProps = {\n  virtualScrollSliceSize: {\n    type: Number,\n    default: 30\n  },\n\n  virtualScrollItemSize: {\n    type: Number,\n    default: 24\n  },\n\n  virtualScrollStickySizeStart: {\n    type: Number,\n    default: 0\n  },\n\n  virtualScrollStickySizeEnd: {\n    type: Number,\n    default: 0\n  }\n}\n\nexport const commonVirtPropsList = Object.keys(commonVirtScrollProps)\n\nexport default {\n  props: {\n    virtualScrollHorizontal: Boolean,\n    ...commonVirtScrollProps\n  },\n\n  data () {\n    return {\n      virtualScrollSliceRange: { from: 0, to: 0 }\n    }\n  },\n\n  watch: {\n    virtualScrollHorizontal () {\n      this.__setVirtualScrollSize()\n    },\n\n    needsReset () {\n      this.reset()\n    }\n  },\n\n  computed: {\n    needsReset () {\n      return ['virtualScrollItemSize', 'virtualScrollHorizontal']\n        .map(p => this[p]).join(';')\n    }\n  },\n\n  methods: {\n    reset () {\n      this.__resetVirtualScroll(this.prevToIndex, true)\n    },\n\n    refresh (toIndex) {\n      this.__resetVirtualScroll(toIndex === void 0 ? this.prevToIndex : toIndex)\n    },\n\n    scrollTo (toIndex) {\n      const scrollEl = this.__getVirtualScrollTarget()\n\n      if (scrollEl === void 0 || scrollEl === null || scrollEl.nodeType === 8) {\n        return\n      }\n\n      this.__setVirtualScrollSliceRange(\n        scrollEl,\n        getScrollDetails(\n          scrollEl,\n          this.__getVirtualScrollEl(),\n          this.$refs.before,\n          this.$refs.after,\n          this.virtualScrollHorizontal,\n          this.virtualScrollStickySizeStart,\n          this.virtualScrollStickySizeEnd\n        ),\n        Math.min(this.virtualScrollLength - 1, Math.max(0, parseInt(toIndex, 10) || 0)),\n        0,\n        this.prevToIndex > -1 && toIndex > this.prevToIndex ? 'end' : 'start'\n      )\n    },\n\n    __onVirtualScrollEvt () {\n      const scrollEl = this.__getVirtualScrollTarget()\n\n      if (scrollEl === void 0 || scrollEl === null || scrollEl.nodeType === 8) {\n        return\n      }\n\n      const\n        scrollDetails = getScrollDetails(\n          scrollEl,\n          this.__getVirtualScrollEl(),\n          this.$refs.before,\n          this.$refs.after,\n          this.virtualScrollHorizontal,\n          this.virtualScrollStickySizeStart,\n          this.virtualScrollStickySizeEnd\n        ),\n        scrollMaxStart = scrollDetails.scrollMaxSize - Math.max(scrollDetails.scrollViewSize, scrollDetails.offsetEnd) - this.virtualScrollSizes[this.virtualScrollLength - 1],\n        listLastIndex = this.virtualScrollLength - 1\n\n      if (this.prevScrollStart === scrollDetails.scrollStart) {\n        return\n      }\n      this.prevScrollStart = void 0\n\n      this.__updateVirtualScrollSizes(this.virtualScrollSliceRange.from)\n\n      if (scrollMaxStart > 0 && scrollDetails.scrollStart >= scrollMaxStart) {\n        this.__setVirtualScrollSliceRange(\n          scrollEl,\n          scrollDetails,\n          this.virtualScrollLength - 1,\n          scrollDetails.scrollMaxSize - scrollDetails.offsetEnd - this.virtualScrollSizesAgg.reduce(sumFn, 0)\n        )\n\n        return\n      }\n\n      let\n        toIndex = 0,\n        listOffset = scrollDetails.scrollStart - scrollDetails.offsetStart,\n        offset = listOffset\n\n      for (let j = 0; listOffset >= this.virtualScrollSizesAgg[j] && toIndex < listLastIndex; j++) {\n        listOffset -= this.virtualScrollSizesAgg[j]\n        toIndex += aggBucketSize\n      }\n\n      while (listOffset > 0 && toIndex < listLastIndex) {\n        listOffset -= this.virtualScrollSizes[toIndex]\n        if (listOffset > -scrollDetails.scrollViewSize) {\n          toIndex++\n          offset = listOffset\n        }\n        else {\n          offset = this.virtualScrollSizes[toIndex] + listOffset\n        }\n      }\n\n      this.__setVirtualScrollSliceRange(\n        scrollEl,\n        scrollDetails,\n        toIndex,\n        offset\n      )\n    },\n\n    __setVirtualScrollSliceRange (scrollEl, scrollDetails, toIndex, offset, align) {\n      let\n        from = Math.max(0, Math.ceil(toIndex - (align === void 0 ? 3 : 2) * this.virtualScrollSliceSizeComputed / 6)),\n        to = from + this.virtualScrollSliceSizeComputed\n\n      if (to > this.virtualScrollLength) {\n        to = this.virtualScrollLength\n        from = Math.max(0, to - this.virtualScrollSliceSizeComputed)\n      }\n\n      const rangeChanged = from !== this.virtualScrollSliceRange.from || to !== this.virtualScrollSliceRange.to\n\n      if (rangeChanged === false && align === void 0) {\n        this.__emitScroll(toIndex)\n\n        return\n      }\n\n      if (rangeChanged === true) {\n        this.virtualScrollSliceRange = { from, to }\n        this.virtualScrollPaddingBefore = sumSize(this.virtualScrollSizesAgg, this.virtualScrollSizes, 0, from)\n        this.virtualScrollPaddingAfter = sumSize(this.virtualScrollSizesAgg, this.virtualScrollSizes, to, this.virtualScrollLength)\n      }\n\n      this.$nextTick(() => {\n        if (rangeChanged === true) {\n          this.__updateVirtualScrollSizes(from)\n        }\n\n        const\n          posStart = this.virtualScrollSizes.slice(from, toIndex).reduce(sumFn, scrollDetails.offsetStart + this.virtualScrollPaddingBefore),\n          posEnd = posStart + this.virtualScrollSizes[toIndex]\n\n        let scrollPosition = posStart + offset\n\n        if (align !== void 0) {\n          scrollPosition = scrollDetails.scrollStart < posStart && posEnd < scrollDetails.scrollStart + scrollDetails.scrollViewSize\n            ? scrollDetails.scrollStart\n            : (align === 'end' ? posEnd - scrollDetails.scrollViewSize : posStart)\n        }\n\n        this.prevScrollStart = scrollPosition\n\n        this.__setScroll(\n          scrollEl,\n          scrollPosition,\n          this.virtualScrollHorizontal\n        )\n\n        this.__emitScroll(toIndex)\n      })\n    },\n\n    __updateVirtualScrollSizes (from) {\n      const contentEl = this.$refs.content\n\n      if (contentEl !== void 0) {\n        const\n          children = slice.call(contentEl.children).filter(el => el.classList.contains('q-virtual-scroll--skip') === false),\n          childrenLength = children.length,\n          sizeProp = this.virtualScrollHorizontal === true ? 'offsetWidth' : 'offsetHeight'\n\n        let\n          index = from,\n          size, diff\n\n        for (let i = 0; i < childrenLength;) {\n          size = children[i][sizeProp]\n          i++\n\n          while (i < childrenLength && children[i].classList.contains('q-virtual-scroll--with-prev') === true) {\n            size += children[i][sizeProp]\n            i++\n          }\n\n          diff = size - this.virtualScrollSizes[index]\n\n          if (diff !== 0) {\n            this.virtualScrollSizes[index] += diff\n            this.virtualScrollSizesAgg[Math.floor(index / aggBucketSize)] += diff\n          }\n\n          index++\n        }\n      }\n    },\n\n    __resetVirtualScroll (toIndex, fullReset) {\n      const defaultSize = this.virtualScrollItemSize\n\n      if (fullReset === true || Array.isArray(this.virtualScrollSizes) === false) {\n        this.virtualScrollSizes = []\n      }\n\n      const oldVirtualScrollSizesLength = this.virtualScrollSizes.length\n\n      this.virtualScrollSizes.length = this.virtualScrollLength\n\n      for (let i = this.virtualScrollLength - 1; i >= oldVirtualScrollSizesLength; i--) {\n        this.virtualScrollSizes[i] = defaultSize\n      }\n\n      const jMax = Math.floor((this.virtualScrollLength - 1) / aggBucketSize)\n      this.virtualScrollSizesAgg = []\n      for (let j = 0; j <= jMax; j++) {\n        let size = 0\n        const iMax = Math.min((j + 1) * aggBucketSize, this.virtualScrollLength)\n        for (let i = j * aggBucketSize; i < iMax; i++) {\n          size += this.virtualScrollSizes[i]\n        }\n        this.virtualScrollSizesAgg.push(size)\n      }\n\n      this.prevToIndex = -1\n      this.prevScrollStart = void 0\n\n      if (toIndex >= 0) {\n        this.__updateVirtualScrollSizes(this.virtualScrollSliceRange.from)\n\n        this.$nextTick(() => {\n          this.scrollTo(toIndex)\n        })\n      }\n      else {\n        this.virtualScrollPaddingBefore = sumSize(this.virtualScrollSizesAgg, this.virtualScrollSizes, 0, this.virtualScrollSliceRange.from)\n        this.virtualScrollPaddingAfter = sumSize(this.virtualScrollSizesAgg, this.virtualScrollSizes, this.virtualScrollSliceRange.to, this.virtualScrollLength)\n\n        this.__onVirtualScrollEvt()\n      }\n    },\n\n    __setVirtualScrollSize () {\n      if (this.virtualScrollHorizontal === true) {\n        this.virtualScrollSliceSizeComputed = typeof window === 'undefined'\n          ? this.virtualScrollSliceSize\n          : Math.max(this.virtualScrollSliceSize, Math.ceil(window.innerWidth / this.virtualScrollItemSize * 2))\n      }\n      else {\n        this.virtualScrollSliceSizeComputed = typeof window === 'undefined'\n          ? this.virtualScrollSliceSize\n          : Math.max(this.virtualScrollSliceSize, Math.ceil(window.innerHeight / this.virtualScrollItemSize * 2))\n      }\n    },\n\n    __padVirtualScroll (h, tag, content) {\n      const paddingSize = this.virtualScrollHorizontal === true ? 'width' : 'height'\n\n      return [\n        tag === 'tbody'\n          ? h(tag, {\n            staticClass: 'q-virtual-scroll__padding',\n            key: 'before',\n            ref: 'before'\n          }, [\n            h('tr', [\n              h('td', {\n                style: { [paddingSize]: `${this.virtualScrollPaddingBefore}px` },\n                attrs: { colspan: '100%' }\n              })\n            ])\n          ])\n          : h(tag, {\n            staticClass: 'q-virtual-scroll__padding',\n            key: 'before',\n            ref: 'before',\n            style: { [paddingSize]: `${this.virtualScrollPaddingBefore}px` }\n          }),\n\n        h(tag, {\n          staticClass: 'q-virtual-scroll__content',\n          key: 'content',\n          ref: 'content'\n        }, content),\n\n        tag === 'tbody'\n          ? h(tag, {\n            staticClass: 'q-virtual-scroll__padding',\n            key: 'after',\n            ref: 'after'\n          }, [\n            h('tr', [\n              h('td', {\n                style: { [paddingSize]: `${this.virtualScrollPaddingAfter}px` },\n                attrs: { colspan: '100%' }\n              })\n            ])\n          ])\n          : h(tag, {\n            staticClass: 'q-virtual-scroll__padding',\n            key: 'after',\n            ref: 'after',\n            style: { [paddingSize]: `${this.virtualScrollPaddingAfter}px` }\n          })\n      ]\n    },\n\n    __emitScroll (index) {\n      if (this.prevToIndex !== index) {\n        this.qListeners['virtual-scroll'] !== void 0 && this.$emit('virtual-scroll', {\n          index,\n          from: this.virtualScrollSliceRange.from,\n          to: this.virtualScrollSliceRange.to - 1,\n          direction: index < this.prevToIndex ? 'decrease' : 'increase',\n          ref: this\n        })\n\n        this.prevToIndex = index\n      }\n    }\n  },\n\n  created () {\n    this.__setVirtualScrollSize()\n  },\n\n  beforeMount () {\n    this.__onVirtualScrollEvt = debounce(this.__onVirtualScrollEvt, 70)\n    this.__setScroll = frameDebounce(setScroll)\n    this.__setVirtualScrollSize()\n  }\n}\n"]}]}